{"version":3,"sources":["AdminComponents/finance/billPayment/PaymentReceipt.js"],"names":["PaymentReceipt","_transaction$fees","_transaction$fees2","_transaction$fees3","state","setstate","useState","transaction","settransaction","user","setuser","id","useParams","history","useHistory","useEffect","axios","get","then","res","console","log","data","concat","async","userDetails","fees","userID","student","_jsxs","_Fragment","children","className","_jsx","fullName","motto","moment","date","format","name","middleName","surname","classID","academicYear","term","currentCurrency","amount","onClick","handlePrint","window","print","handleDelete","delete","error","errorAlert","goBack"],"mappings":"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","file":"static/js/69.7f1f1778.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"../../../store/axios\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { errorAlert, currentCurrency } from \"../../../utils\";\n\nfunction PaymentReceipt() {\n  const [state, setstate] = useState({});\n  const [transaction, settransaction] = useState({});\n  const [user, setuser] = useState({});\n  const { id } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      console.log(res.data);\n      setstate(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    axios.get(`/transactions/${id}`).then(async (res) => {\n      settransaction(res.data);\n      const userDetails = await axios.get(\n        `/students/student/${res.data.fees.userID}`\n      );\n      setuser(userDetails.data.student);\n    });\n  }, [id]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDelete = () => {\n    axios.delete(`/transactions/delete/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      history.goBack();\n      // history.push(\"/finance/transactions\");\n    });\n  };\n\n  return (\n    <>\n      <div className=\"border content__container mb-5\" id=\"section-to-print\">\n        <div className=\"text-center border-bottom p-3\">\n          <h2>{state?.fullName}</h2>\n          <p>{state?.motto}</p>\n        </div>\n        <div className=\"row p-3\">\n          <div className=\"col-6\">\n            <div className=\"d-flex\">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Date</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {moment(transaction?.date).format(\"D MMMM YYYY\")}\n                </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex\">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Name</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {user?.name} {user?.middleName} {user?.surname}{\" \"}\n                </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Class</strong>\n              </h6>\n              <h6>\n                <strong>{user?.classID}</strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>UserID</strong>\n              </h6>\n              <h6>\n                <strong>{transaction.fees?.userID} </strong>\n              </h6>\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Academic Year</strong>\n              </h6>\n              <h6>\n                <strong>{transaction?.fees?.academicYear || \"-\"} </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Term</strong>\n              </h6>\n              <h6>\n                <strong>{transaction?.fees?.term || \"-\"} </strong>\n              </h6>\n            </div>\n            <div className=\"d-flex \">\n              <h6 className=\"col-4\">\n                {\" \"}\n                <strong>Amount Paid</strong>\n              </h6>\n              <h6>\n                <strong>\n                  {currentCurrency()} {transaction?.amount || \"-\"}{\" \"}\n                </strong>\n              </h6>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"d-flex justify-content-center\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          Print Receipt\n        </button>\n        <button onClick={handleDelete} className=\" ml-5 btn btn-danger\">\n          Cancel Payment\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default PaymentReceipt;\n"],"sourceRoot":""}