(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[154],{1122:function(e,a,t){"use strict";t(0);var s=t(457),l=t(941),c=t(942),n=t(939),r=t(940),o=t(937),i=t(938),d=t(927),j=t(1248),b=t.n(j),m=t(623),u=t.n(m),x=t(10);const h=Object(s.a)({table:{width:"100%"}});a.a=function(e){let{rows:a,handleEdit:t,examMark:s,classWorkPercentage:j,examPercentage:m,setexamMark:O,classworkMark:v,setclassworkMark:p,handleOpenPercentage:f}=e;const N=h(),g=(e,a)=>{if(!e&&!a)return"-";let t=W(e,a);return t>=75&&t<=100?"A1":t>=70&&t<=74?"B2":t>=65&&t<=69?"B3":t>=60&&t<=64?"C4":t>=55&&t<=59?"C5":t>=50&&t<=54?"C6":t>=45&&t<=49?"D7":t>=40&&t<=44?"E8":t>=0&&t<=39?"F9":null},k=(e,a)=>{if(!e&&!a)return"-";let t=W(e,a);return t=Number(t),t>75&&t<=100?"Excellent":t>=70&&t<=74?"Vert good":t>=65&&t<=69?"Good":t>=60&&t<=64||t>=55&&t<=59||t>=50&&t<=54?"Credit":t>=45&&t<=49||t>=40&&t<=44?"Pass":t>=0&&t<=39?"Failure":null},S=(e,a,t)=>{if(e&&a&&t){let s=Number(e)/Number(t)*(Number(a)/100);return Number(100*s).toFixed(0)}return null},C=(e,a,t)=>{if(e&&a&&t){let s=Number(e)/Number(t)*(Number(a)/100);return Number(100*s).toFixed(0)}return null},W=(e,a)=>{if(!e&&!a)return"-";let t=Number(e)/Number(v||0)*(Number(j||0)/100),l=Number(a)/Number(s)*(Number(m||0)/100);return(100*Number(l+t)).toFixed(0)};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"mb-5",children:"Continuous Assessment"}),Object(x.jsx)(r.a,{className:"mb-5",component:d.a,children:Object(x.jsxs)(l.a,{className:N.table,"aria-label":"spanning table",children:[Object(x.jsx)(o.a,{children:Object(x.jsxs)(i.a,{children:[Object(x.jsx)(n.a,{align:"left",children:"ID"}),Object(x.jsx)(n.a,{align:"left",colSpan:3,children:"Name of Student"}),Object(x.jsxs)(n.a,{align:"left",children:["Class Work",Object(x.jsx)("input",{className:"form-control",name:"classworkMark",type:"number",onChange:e=>p(e.target.value),value:v})]}),Object(x.jsxs)(n.a,{align:"left",children:["Class Work (",j,"%)",Object(x.jsxs)("button",{onClick:()=>f(),className:"btn",children:["Set ",Object(x.jsx)(u.a,{})]})]}),Object(x.jsxs)(n.a,{align:"left",children:["Exam",Object(x.jsx)("input",{className:"form-control",type:"number",onChange:e=>O(e.target.value),value:s})," "]}),Object(x.jsxs)(n.a,{align:"left",children:["Exam (",m,"%)",Object(x.jsxs)("button",{onClick:()=>f(),className:"btn",children:["Set ",Object(x.jsx)(u.a,{})]})]}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("small",{children:"Total 100%"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("small",{children:"Grade"})}),Object(x.jsxs)(n.a,{align:"left",children:[" ",Object(x.jsx)("small",{children:"Interpretation"})]}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("small",{children:"Position"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("small",{children:"Set"})})]})}),Object(x.jsx)(c.a,{children:(null===a||void 0===a?void 0:a.length)>0?Object(x.jsx)(x.Fragment,{children:null===a||void 0===a?void 0:a.map((e=>Object(x.jsxs)(i.a,{children:[Object(x.jsx)(n.a,{children:null===e||void 0===e?void 0:e.userID}),Object(x.jsx)(n.a,{colSpan:3,align:"left",children:null===e||void 0===e?void 0:e.name}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:(null===e||void 0===e?void 0:e.classWork)||"-",type:"text",className:"form-control"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:S(null===e||void 0===e?void 0:e.classWork,j,v),type:"text",className:"form-control"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:null===e||void 0===e?void 0:e.exam,type:"text",className:"form-control"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:C(null===e||void 0===e?void 0:e.exam,m,s),type:"text",className:"form-control"})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",null===e||void 0===e?void 0:e.total]})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",g(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",k(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(x.jsxs)(n.a,{align:"left",children:[" ",Object(x.jsx)("small",{children:null===e||void 0===e?void 0:e.position})," "]}),Object(x.jsx)(n.a,{align:"left",children:Object(x.jsx)("button",{onClick:()=>t(null===e||void 0===e?void 0:e.userID),className:"btn btn-sm",children:Object(x.jsx)(b.a,{})})})]},null===e||void 0===e?void 0:e.userID)))}):Object(x.jsxs)(n.a,{colSpan:10,children:[Object(x.jsx)("strong",{children:"There are no students in this class"})," "]})})]})})]})}},1123:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));var s=t(0),l=t.n(s),c=t(457),n=t(711),r=t(961),o=t(1246),i=t(1338),d=t(1285),j=t(636),b=t.n(j),m=t(1e3),u=t(638),x=t(10);const h=Object(c.a)((e=>({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}))),O=l.a.forwardRef((function(e,a){return Object(x.jsx)(m.a,{direction:"up",ref:a,...e})}));function v(e){let{open:a,setOpen:t,name:s,userID:l,exam:c,setexam:j,classWork:m,setclassWork:v,onSubmit:p,classID:f,loading:N,position:g,setposition:k,classworkMark:S,examMark:C}=e;const W=h(),{register:P,handleSubmit:y,errors:D}=Object(u.a)(),I=()=>{k(""),v(""),j(""),t(!1)};return Object(x.jsxs)(n.a,{fullScreen:!0,open:a,onClose:I,TransitionComponent:O,children:[Object(x.jsx)(r.a,{color:"transparent",className:W.appBar,children:Object(x.jsxs)(o.a,{children:[Object(x.jsxs)(d.a,{variant:"h6",className:W.title,children:[s," - ",l]}),Object(x.jsx)(i.a,{edge:"start",color:"inherit",onClick:I,"aria-label":"close",children:Object(x.jsx)(b.a,{})})]})}),Object(x.jsxs)("form",{action:"",className:"m-5",children:[Object(x.jsxs)("h3",{className:"mb-5",children:["Set Grades for Class ",f," "]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsxs)("label",{className:"form-label",children:["Set ClassWork ( out of ",Number(S||0),")"]}),Object(x.jsx)("input",{value:m,ref:P({min:0,max:Number(S||0)+1}),onChange:e=>v(e.target.value),type:"number",className:"form-control col-sm-6",name:"a1"}),D.a1&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(S||0)]})]}),Object(x.jsxs)("div",{className:"mb-5",children:[Object(x.jsxs)("label",{className:"form-label",children:["Exam Mark (out of ",Number(C||0),")"]}),Object(x.jsx)("input",{value:c,ref:P({min:0,max:Number(C||0)+1}),onChange:e=>j(e.target.value),type:"number",className:"form-control col-6",name:"exams"}),D.exams&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(C||0)]})]}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsxs)("button",{disabled:N,onClick:y(p),className:"btn blue__btn",children:[N&&Object(x.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit Changes"]})})]})]})}},1464:function(e,a,t){"use strict";t.r(a);var s=t(0),l=t.n(s),c=t(26),n=t(84),r=t(27),o=t(10);var i=function(e){let{classID:a,setclass:t,loading:l,term:i,setterm:d,academicYear:j,setacademicYear:b,course:m,setcourse:u,handleSearch:x}=e;const h=Object(n.c)(c.c),O=Object(n.c)(c.m),[v,p]=Object(s.useState)();return Object(o.jsxs)("form",{className:"content__container col-8 mb-5",children:[Object(o.jsx)("h6",{children:"Search Class"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Class"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:a,onChange:e=>(async e=>{t(e),u(""),await r.a.get("courses/class/".concat(e)).then((e=>{p(e.data.docs.map((e=>({code:e.code,name:e.name}))))}))})(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),h.length>0?h.map((e=>Object(o.jsx)("option",{value:e.classCode,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No classes yet"})]})})]}),a&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Course"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:m,onChange:e=>u(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===v||void 0===v?void 0:v.length)>0?v.map((e=>Object(o.jsx)("option",{value:e.code,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No courses yet for this class"})]})})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:j,onChange:e=>b(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),O.length>0?O.map((e=>Object(o.jsx)("option",{value:e.year,children:e.year},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:i,onChange:e=>d(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(o.jsx)("option",{value:"1",children:"1"}),Object(o.jsx)("option",{value:"2",children:"2"}),Object(o.jsx)("option",{value:"3",children:"3"})]})})]})]}),Object(o.jsx)("div",{className:"",children:Object(o.jsx)("div",{children:Object(o.jsxs)("button",{onClick:x,disabled:l||!a,type:"submit",className:"btn blue__btn",children:[l&&Object(o.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})})]})},d=t(1122),j=t(614),b=t(1123),m=t(457),u=t(711),x=t(961),h=t(1246),O=t(1338),v=t(1285),p=t(636),f=t.n(p),N=t(1e3),g=t(638);const k=Object(m.a)((e=>({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}))),S=l.a.forwardRef((function(e,a){return Object(o.jsx)(N.a,{direction:"up",ref:a,...e})}));function C(e){let{open:a,setOpen:t,examPercentage:s,setexamPercentage:l,classWorkPercentage:c,setclassWorkPercentage:n,onSubmit:r,classID:i,loading:d}=e;const j=k(),{register:b,handleSubmit:m}=Object(g.a)(),p=()=>{console.log("ndhou"),t(!1)};return Object(o.jsxs)(u.a,{fullScreen:!0,open:a,onClose:p,TransitionComponent:S,children:[Object(o.jsx)(x.a,{color:"transparent",className:j.appBar,children:Object(o.jsxs)(h.a,{children:[Object(o.jsxs)(v.a,{variant:"h6",className:j.title,children:["Set Percentages for Class ",i]}),Object(o.jsx)(O.a,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:Object(o.jsx)(f.a,{})})]})}),Object(o.jsxs)("form",{action:"",className:"m-5",children:[Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{className:"form-label",children:"Set ClassWork %"}),Object(o.jsx)("input",{value:c,ref:b({min:0,max:100}),onChange:e=>n(e.target.value),type:"number",className:"form-control col-sm-6",name:"a1"})]}),Object(o.jsxs)("div",{className:"mb-5",children:[Object(o.jsx)("label",{className:"form-label",children:"Exam %"}),Object(o.jsx)("input",{value:s,ref:b({min:0,max:100}),onChange:e=>l(e.target.value),type:"number",className:"form-control col-6",name:"exams"})]}),Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsxs)("button",{disabled:d,onClick:m(r),className:"btn blue__btn",children:[d&&Object(o.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Save Changes"]})})]})]})}a.default=function(){const[e,a]=Object(s.useState)([]),[t,l]=Object(s.useState)([]),[c,n]=Object(s.useState)(""),[m,u]=Object(s.useState)(""),[x,h]=Object(s.useState)(""),[O,v]=Object(s.useState)(""),[p,f]=Object(s.useState)(""),[N,g]=Object(s.useState)(!1),[k,S]=Object(s.useState)(""),[W,P]=Object(s.useState)(""),[y,D]=Object(s.useState)(""),[I,w]=Object(s.useState)(""),[_,M]=Object(s.useState)(!1),[F,B]=Object(s.useState)({}),[E,A]=Object(s.useState)(!1),[T,V]=Object(s.useState)(!1),[Y,G]=Object(s.useState)(""),[J,L]=Object(s.useState)(!1),[R,q]=Object(s.useState)(""),[z,H]=Object(s.useState)(""),[K,Q]=Object(s.useState)(""),U=e=>{if(e){let a=Number(e)/Number(m)*(Number(R)/100);return Number(100*a).toFixed(0)}return null},X=e=>{if(e){let a=Number(e)/Number(c)*(Number(Y)/100);return Number(100*a).toFixed(0)}return null},Z=(e,a)=>{let t=X(e),s=U(a);return Number(t)+Number(s)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"S.B.A"}),Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsx)(i,{academicYear:I,setacademicYear:w,setterm:S,term:k,course:y,setcourse:D,classID:W,setclass:P,loading:E,handleSearch:async e=>{if(M(!1),l([]),n(""),f(""),u(""),e.preventDefault(),""===W||""===k||""===y||""===I)return Object(j.c)("Please select all fields");A(!0),await r.a.get("/classes/classCode/".concat(W)).then((async e=>{var t,s;if(null===(t=e.data.docs)||void 0===t||!t.sba||!1===(null===(s=e.data.docs)||void 0===s?void 0:s.sba))return A(!1),Object(j.c)("SBA not set for this class");M(!0),await r.a.get("/sba/".concat(W,"/").concat(y,"/").concat(I,"/").concat(k)).then((e=>{A(!1);let t=e.data.docs;a(t),u(null===t||void 0===t?void 0:t.classWork),n(null===t||void 0===t?void 0:t.exam),G(null===t||void 0===t?void 0:t.examPercentage),q(null===t||void 0===t?void 0:t.classWorkPercentage);let s=null===t||void 0===t?void 0:t.students.sort(((e,a)=>Number((null===a||void 0===a?void 0:a.total)||0)-Number((null===e||void 0===e?void 0:e.total)||0)));l(s)}))}))}})}),_&&Object(o.jsx)(d.a,{setclassWork:v,rows:t,examMark:c,setexamMark:a=>{console.log("click"),r.a.put("/sba/update/".concat(null===e||void 0===e?void 0:e._id),{exam:a}).then((()=>n(a)))},classworkMark:m,setclassworkMark:a=>{r.a.put("/sba/update/".concat(null===e||void 0===e?void 0:e._id),{classWork:a}).then((()=>u(a)))},handleEdit:a=>{if(!m)return Object(j.c)("Please set  classWork %");if(!c)return Object(j.c)("Please set  exam score %");g(!0);let t=e.students.find((e=>e.userID===a));B(t),h(null===t||void 0===t?void 0:t.exam),v(null===t||void 0===t?void 0:t.classWork),f(null===t||void 0===t?void 0:t.position)},examPercentage:Y,classWorkPercentage:R,handleOpenPercentage:()=>{L(!0),Q(R),H(Y)}}),Object(o.jsx)(b.a,{name:null===F||void 0===F?void 0:F.name,userID:null===F||void 0===F?void 0:F.userID,exam:x,examMark:c,classworkMark:m,classID:W,loading:T,setposition:f,position:p,setexam:h,setclassWork:v,classWork:O,open:N,onSubmit:async()=>{V(!0);let a=t.map((e=>e.userID===F.userID?{classWork:O,exam:x,classWorkPercentage:U(O),examPercentage:X(x),total:Z(x,O),userID:null===F||void 0===F?void 0:F.userID,name:null===F||void 0===F?void 0:F.name}:e)),s=a.sort(((e,a)=>Number((null===a||void 0===a?void 0:a.total)||0)-Number((null===e||void 0===e?void 0:e.total)||0))).map(((e,a)=>({...e,position:a+1})));await r.a.put("/sba/update/".concat(null===e||void 0===e?void 0:e._id),{students:s}).then((e=>{console.log(e.data),g(!1),V(!1),l(s)}))},setOpen:g}),Object(o.jsx)(C,{open:J,classID:W,setOpen:L,examPercentage:z,setexamPercentage:e=>{H(e),Q(100-e)},classWorkPercentage:K,setclassWorkPercentage:e=>{H(100-e),Q(e)},onSubmit:()=>{r.a.put("/sba/update/".concat(null===e||void 0===e?void 0:e._id),{examPercentage:z,classWorkPercentage:K}).then((()=>{G(z),q(K),L(!1)}))}})]})}}}]);
//# sourceMappingURL=154.380eafac.chunk.js.map