(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[146],{1061:function(e,t,s){"use strict";s(0);var a=s(972),c=s.n(a),r=s(123),n=s(10);t.a=function(e){let{link:t,name:s}=e;return Object(n.jsx)("div",{className:"d-flex justify-content-end mb-5",children:Object(n.jsxs)(r.b,{to:t,className:"link",children:[s,Object(n.jsx)(c.a,{className:"icon"})]})})}},1213:function(e,t,s){"use strict";s(0);var a=s(637),c=s(10);t.a=function(e){const{register:t,handleSubmit:s,errors:r}=Object(a.a)();let{title:n,settitle:l,setdescription:i,description:o,starttime:d,setstarttime:j,startdate:b,setstartdate:m,allday:h,setallday:u,endtime:O,isEdit:p,onSubmit:x,loading:f,setendtime:v,type:N,settype:y}=e;return Object(c.jsxs)("form",{onSubmit:s(x),children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Title"}),Object(c.jsx)("input",{value:n,onChange:e=>l(e.target.value),ref:t({required:!0}),type:"text",className:"form-control",name:"event"}),r.event&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Description"}),Object(c.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),type:"text",rows:4,className:"form-control",name:"description"})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Event Type"}),Object(c.jsxs)("select",{value:N,onChange:e=>y(e.target.value),name:"type",className:"form-select",children:[Object(c.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(c.jsx)("option",{children:"Holiday"}),Object(c.jsx)("option",{children:"Easter Break"}),Object(c.jsx)("option",{children:"Mid Term"}),Object(c.jsx)("option",{children:"Break"}),Object(c.jsx)("option",{children:"Trip"}),Object(c.jsx)("option",{children:"Sports"}),Object(c.jsx)("option",{children:"Competitons"}),Object(c.jsx)("option",{children:"Visiting Day"}),Object(c.jsx)("option",{children:"Mid Term Assessment"}),Object(c.jsx)("option",{children:"Independence Holiday"}),Object(c.jsx)("option",{children:"Revision Week"}),Object(c.jsx)("option",{children:"Other"})]})]}),Object(c.jsxs)("div",{className:"mb-3 ",children:[Object(c.jsx)("label",{className:"form-label",children:"Date"}),Object(c.jsx)("input",{value:b,ref:t({required:!0}),onChange:e=>m(e.target.value),type:"date",className:"form-control",name:"startdate"}),r.starttime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("div",{className:"form-check form-switch ",children:[Object(c.jsx)("label",{htmlFor:"allday",className:"form-check-label mr-5",children:"All Day"}),Object(c.jsx)("input",{value:h,checked:h,onChange:e=>u(e.target.checked),className:"form-check-input",type:"checkbox",name:"allday"})]})}),!h&&Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"mb-3 col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"Start Time"}),Object(c.jsx)("input",{value:d,ref:t({required:!0}),onChange:e=>j(e.target.value),type:"time",className:"form-control",name:"starttime"}),r.starttime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),Object(c.jsxs)("div",{className:"mb-3 col-sm-6",children:[Object(c.jsx)("label",{className:"form-label",children:"End Time"}),Object(c.jsx)("input",{value:O,ref:t({required:!0}),onChange:e=>v(e.target.value),type:"time",className:"form-control",name:"endtime"}),r.endtime&&Object(c.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("button",{disabled:f,className:"btn blue__btn",children:[f&&Object(c.jsx)("span",{className:"spinner-border spinner-border-sm"}),p?"Save Changes":"Add"]})})]})}},1343:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(614),r=s(1061),n=s(1213),l=s(27),i=s(16),o=s(617),d=s.n(o),j=s(10);t.default=function(){const[e,t]=Object(a.useState)(""),[s,o]=Object(a.useState)(""),[b,m]=Object(a.useState)("2021/2/2"),[h,u]=Object(a.useState)("00:00:00"),[O,p]=Object(a.useState)(!0),[x,f]=Object(a.useState)("00:00:00"),[v,N]=Object(a.useState)(!1),[y,g]=Object(a.useState)(""),{id:k}=Object(i.i)();return Object(a.useEffect)((()=>{l.a.get("/calendar/".concat(k)).then((e=>{if(e.data.error)return Object(c.c)(e.data.error),0;const{docs:s}=e.data;t(s.title),o(s.description),p(s.allDay);const{day:a,time:r}=Object(c.l)(s.start);console.log(a),m(d()(a).format("YYYY-MM-DD")),u(r);const n=Object(c.l)(s.end);f(null===n||void 0===n?void 0:n.time)}))}),[k]),console.log(typeof b),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{name:"Go back to Events List",link:"/academics/calender"}),Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("h3",{children:"Edit Event"}),Object(j.jsx)(n.a,{title:e,settitle:t,setdescription:o,description:s,starttime:h,setstarttime:u,startdate:b,setstartdate:m,allday:O,setallday:p,endtime:x,isEdit:!0,onSubmit:()=>{const t=Object(c.a)(b,h),a=Object(c.a)(b,x);l.a.put("/calendar/update/".concat(k),{title:e,resource:y,allDay:O,day:b,start:t,end:a,type:y,description:s}).then((e=>{if(e.data.error)return Object(c.c)(e.data.error),N(!1),0;Object(c.m)("successfully updated"),N(!1)})).catch((e=>{Object(c.c)("sorry something when wrong"),N(!1)}))},loading:v,setendtime:f,type:y,settype:g})]})]})}},972:function(e,t,s){"use strict";var a=s(609),c=s(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(s(0)),n=(0,a(s(610)).default)(r.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos");t.default=n}}]);
//# sourceMappingURL=146.a205b0b7.chunk.js.map