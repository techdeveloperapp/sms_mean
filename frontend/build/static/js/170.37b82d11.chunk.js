(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[170],{1441:function(e,t,c){"use strict";c.r(t);var s=c(0),l=c(84),a=c(59),n=c(26),d=c(27),r=c(683),i=c.n(r),o=c(10);var j=function(e){let{yearGroup:t,academicYear:c,setacademicYear:s,term:l,setterm:a,loading:n,handleSearch:d}=e;return Object(o.jsxs)("form",{action:"",className:"content__container",children:[Object(o.jsx)("h3",{children:"Search"}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Academic Year"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:c,onChange:e=>s(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((e=>Object(o.jsx)("option",{value:e.year,children:e.year},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(o.jsxs)("div",{className:"mb-3",children:[Object(o.jsx)("label",{htmlFor:"name",className:"col-form-label",children:"Term"}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("select",{name:"academic-calendar",className:"form-select",value:l,onChange:e=>a(e.target.value),children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(o.jsx)("option",{value:"1",children:"1"}),Object(o.jsx)("option",{value:"2",children:"2"}),Object(o.jsx)("option",{value:"3",children:"3"})]})})]}),Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("button",{onClick:d,disabled:n,type:"submit",className:"btn blue__btn",children:[n&&Object(o.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})]})};t.default=function(){const[e,t]=Object(s.useState)([]),c=Object(l.c)(a.d),[r,b]=Object(s.useState)({}),[h,u]=Object(s.useState)(!1),[O,m]=Object(s.useState)(""),x=Object(l.c)(n.m),[v,p]=Object(s.useState)(""),[N,f]=Object(s.useState)(!1),[g,C]=Object(s.useState)(""),[S,P]=Object(s.useState)(""),[y,_]=Object(s.useState)([]);Object(s.useEffect)((()=>{d.a.get("/school").then((e=>{_(e.data)}))}),[]),Object(s.useEffect)((()=>{(async()=>{let e=await d.a.get("/students/student/".concat(null===c||void 0===c?void 0:c.userID));b(e.data.student)})()}),[c]);const k=(e,t)=>t||e?Number(e||0)+Number(t||0):"-",w=(e,t)=>{if(!e&&!t)return"-";let c=k(e,t);return c>=75&&c<=100?"A1":c>=70&&c<=74?"B2":c>=65&&c<=69?"B3":c>=60&&c<=64?"C4":c>=55&&c<=59?"C5":c>=50&&c<=54?"C6":c>=45&&c<=49?"D7":c>=40&&c<=44?"E8":c>=0&&c<=39?"F9":null},E=(e,t)=>{if(!e&&!t)return"-";let c=k(e,t);return c=Number(c),c>75&&c<=100?"Excellent":c>=70&&c<=74?"Vert good":c>=65&&c<=69?"Good":c>=60&&c<=64||c>=55&&c<=59||c>=50&&c<=54?"Credit":c>=45&&c<=49||c>=40&&c<=44?"Pass":c>=0&&c<=39?"Failure":null};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"mb-5",children:Object(o.jsx)(j,{yearGroup:x,academicYear:O,setacademicYear:m,term:v,setterm:p,loading:N,handleSearch:async e=>{f(!0),e.preventDefault(),await d.a.get("sba/student/".concat(null===c||void 0===c?void 0:c.userID,"/").concat(O,"/").concat(v)).then((e=>{f(!1),u(!0),C(v),P(O),t(e.data.docs),console.log(e.data.docs)}))}})}),h&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{id:"section-to-print",className:"content__container my-5",children:[Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("h3",{children:null===y||void 0===y?void 0:y.fullName}),Object(o.jsx)("p",{children:Object(o.jsx)("strong",{children:null===y||void 0===y?void 0:y.motto})})]}),Object(o.jsx)("div",{className:" mb-5",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h5",{children:"Report Card"}),Object(o.jsxs)("h6",{children:["Name: ",null===r||void 0===r?void 0:r.name," ",null===r||void 0===r?void 0:r.middleName," ",null===r||void 0===r?void 0:r.surname," -"," ",null===r||void 0===r?void 0:r.userID]}),Object(o.jsxs)("h6",{children:["Class: ",null===r||void 0===r?void 0:r.classID]}),Object(o.jsxs)("h6",{children:[" Year: ",S]}),Object(o.jsxs)("h6",{children:["Term:",g]})]})}),Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Courses"}),Object(o.jsx)("th",{scope:"col",children:"Classwork "}),Object(o.jsx)("th",{scope:"col",children:"Classwork %"}),Object(o.jsx)("th",{scope:"col",children:"Exam "}),Object(o.jsx)("th",{scope:"col",children:"Exam %"}),Object(o.jsx)("th",{scope:"col",children:"Total %"}),Object(o.jsx)("th",{scope:"col",children:"Grade"}),Object(o.jsx)("th",{scope:"col",children:"Interpretation"}),Object(o.jsx)("th",{scope:"col",children:"Position"})]})}),Object(o.jsx)("tbody",{children:e.length>0?e.map((e=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:null===e||void 0===e?void 0:e.course}),Object(o.jsx)("td",{children:e.classWork||"-"}),Object(o.jsx)("td",{children:e.classWorkPercentage||"-"}),Object(o.jsx)("td",{children:(null===e||void 0===e?void 0:e.exam)||"-"}),Object(o.jsx)("td",{children:(null===e||void 0===e?void 0:e.examPercentage)||"-"}),Object(o.jsx)("td",{children:k(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:w(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:E(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:null===e||void 0===e?void 0:e.position})]},null===e||void 0===e?void 0:e._id))):Object(o.jsx)("tr",{children:Object(o.jsx)("td",{colSpan:10,className:"text-center text-danger",children:Object(o.jsx)("h5",{children:"No data yet"})})})})]})]})," ",Object(o.jsx)("div",{className:"d-flex justify-content-center mb-5",children:Object(o.jsxs)("button",{onClick:()=>{window.print()},className:"btn blue__btn",children:[Object(o.jsx)(i.a,{}),"Print"]})})]})]})}},683:function(e,t,c){"use strict";var s=c(609),l=c(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(c(0)),n=(0,s(c(610)).default)(a.createElement("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.default=n}}]);
//# sourceMappingURL=170.37b82d11.chunk.js.map