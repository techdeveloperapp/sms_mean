{"version":3,"sources":["components/settings/Logout.js","components/settings/ChangePassword.js","components/settings/Settings.js","StudentComponents/settings/SettingsPage.js"],"names":["Logout","_ref","dispatch","loggout","user","history","useHistory","_jsx","className","children","_jsxs","id","name","lastName","onClick","handleDelete","localStorage","clear","push","ChangePassword","oldpassword","setoldpassword","useState","newpassword","setnewpassword","register","handleSubmit","errors","useForm","loading","setloading","action","onChange","e","target","value","ref","required","type","disabled","handleChangePassword","axios","post","concat","newPassword","oldPassword","then","res","data","error","errorAlert","successAlert","catch","err","console","log","role","SettingsPage","useSelector","selectUser","useDispatch","logout","Settings"],"mappings":"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","file":"static/js/152.bb9a0cf5.chunk.js","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Logout({ dispatch, loggout, user }) {\n  const history = useHistory();\n\n  const handleDelete = () => {\n    dispatch(loggout());\n    localStorage.clear();\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"content__container\">\n      <div className=\"d-flex justify-content-between\">\n        <h6>\n          You are logged-in as {user?.id}- {user?.name}{\" \"}\n          {user?.lastName ? user?.lastName : \"\"}\n        </h6>\n        <button onClick={handleDelete} className=\"btn btn-danger\">\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Logout;\n","import React, { useState } from \"react\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useForm } from \"react-hook-form\";\n\nfunction ChangePassword({ id }) {\n  const [oldpassword, setoldpassword] = useState(\"\");\n  const [newpassword, setnewpassword] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n  const [loading, setloading] = useState(false);\n\n  const handleChangePassword = () => {\n    setloading(true);\n    axios\n      .post(`/change/password/${id}`, {\n        newPassword: newpassword,\n        oldPassword: oldpassword,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"password successfully change\");\n        setoldpassword(\"\");\n        setnewpassword(\"\");\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Failed to change password\");\n      });\n  };\n\n  return (\n    <form action=\"\" className=\"mb-5 content__container\">\n      <h4>Change Password</h4>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">Old Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setoldpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={oldpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"oldpassword\"\n          />\n          {errors.oldpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">New Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setnewpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={newpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"newpassword\"\n          />\n          {errors.newpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <div className=\"offset-3 col-sm-9\">\n          <button\n            disabled={loading}\n            type=\"submit\"\n            onClick={handleSubmit(handleChangePassword)}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default ChangePassword;\n","import React from \"react\";\nimport Logout from \"./Logout\";\nimport ChangePassword from \"./ChangePassword\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser, logout } from \"../../store/slices/userSlice\";\n\nfunction SettingsPage() {\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      <h3>Account Settings</h3>\n      <ChangePassword id={user?.id} />\n      <Logout user={user} dispatch={dispatch} loggout={logout} />\n    </div>\n  );\n}\n\nexport default SettingsPage;\n","import React from 'react'\nimport Settings from '../../components/settings/Settings'\n\nfunction SettingsPage() {\n    return (\n        <div>\n           <Settings />\n        </div>\n    )\n}\n\nexport default SettingsPage\n"],"sourceRoot":""}