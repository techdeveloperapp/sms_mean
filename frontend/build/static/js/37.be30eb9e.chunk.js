(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[37],{1460:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),s=t(457),c=t(941),r=t(942),l=t(937),o=t(939),d=t(940),u=t(686),j=t(1411),b=t(938),h=t(816),m=t(714),v=t(10);const x=Object(s.a)({table:{width:"100%"}});function O(e){var a;let{data:t,tableHeader:n,loading:s}=e;const O=x(),[p,f]=i.a.useState(0),[g,y]=i.a.useState(5),N=g-Math.min(g,(null===t||void 0===t?void 0:t.length)-p*g);return Object(v.jsx)(d.a,{component:h.a,children:Object(v.jsxs)(c.a,{className:O.table,"aria-label":"custom pagination table",children:[Object(v.jsx)(l.a,{children:Object(v.jsx)(b.a,{children:n&&n.map((e=>Object(v.jsx)(o.a,{children:Object(v.jsx)("strong",{children:e.name})},e.id)))})}),s?Object(v.jsxs)("div",{className:"text-center my-5 w-100",children:[Object(v.jsx)("div",{class:"spinner-grow spinner-grow-sm",role:"status",children:Object(v.jsx)("span",{class:"visually-hidden",children:"Loading..."})}),Object(v.jsx)("div",{class:"spinner-grow spinner-grow-sm",role:"status",children:Object(v.jsx)("span",{class:"visually-hidden",children:"Loading..."})}),Object(v.jsx)("div",{class:"spinner-grow spinner-grow-sm",role:"status",children:Object(v.jsx)("span",{class:"visually-hidden",children:"Loading..."})})]}):Object(v.jsxs)(r.a,{children:[(null===t||void 0===t?void 0:t.length)<=0?Object(v.jsx)(b.a,{children:Object(v.jsxs)(o.a,{className:"text-center",colSpan:null===n||void 0===n?void 0:n.length,children:[" ","No data yet"]})}):Object(v.jsx)(v.Fragment,{children:null===(a=g>0?null===t||void 0===t?void 0:t.slice(p*g,p*g+g):t)||void 0===a?void 0:a.map((e=>Object(v.jsx)(b.a,{children:n&&n.map((a=>Object(v.jsx)(o.a,{align:"left",children:e[null===a||void 0===a?void 0:a.id]||"null"},null===a||void 0===a?void 0:a.id)))},null===e||void 0===e?void 0:e.userID)))}),N>0&&Object(v.jsx)(b.a,{style:{height:53},children:Object(v.jsx)(o.a,{colSpan:6})})]}),(null===t||void 0===t?void 0:t.length)>5&&Object(v.jsx)(u.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsx)(j.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:t.length,rowsPerPage:g,page:p,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,a)=>{f(a)},onChangeRowsPerPage:e=>{y(parseInt(e.target.value,10)),f(0)},ActionsComponent:m.a})})})]})})}var p=t(27),f=t(658),g=t(84),y=t(59),N=t(614),k=t(793);const S=[{id:"userID",name:"Staff ID"},{id:"taxNumber",name:"SSNIT Number"},{id:"name",name:"Name"},{id:"surname",name:"Surname"},{id:"position",name:"Staff Position"},{id:"tax",name:"5% Contribution"},{id:"salary",name:"Salary (".concat(Object(N.b)(),")")}];a.default=function(){const[e,a]=Object(n.useState)([]),[t,i]=Object(n.useState)([]),s=Object(N.k)(20),[c,r]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[d,u]=Object(n.useState)(!1),[j,b]=Object(n.useState)(!1),h=Object(g.c)(y.d),[m,x]=Object(n.useState)(""),[C,P]=Object(n.useState)("");return Object(n.useEffect)((()=>{p.a.get("/teachers").then((e=>{i(e.data)}))})),Object(v.jsxs)("div",{children:[Object(v.jsx)("form",{action:"",className:"content__container mb-5",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-sm-4",children:[Object(v.jsx)("label",{htmlFor:"",children:"Year"}),Object(v.jsx)("div",{className:"",children:Object(v.jsxs)("select",{value:c,name:"transfer",onChange:e=>r(e.target.value),className:"form-select",children:[Object(v.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),s&&s.map((e=>Object(v.jsx)("option",{value:e,children:e},e)))]})})]}),Object(v.jsxs)("div",{className:"col-sm-4",children:[Object(v.jsx)("label",{htmlFor:"",children:"Month"}),Object(v.jsx)("div",{className:"",children:Object(v.jsxs)("select",{value:l,name:"month",onChange:e=>o(e.target.value),className:"form-select",children:[Object(v.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),f.d&&f.d.map((e=>Object(v.jsx)("option",{value:e.id,children:e.name},e.id)))]})})]}),Object(v.jsx)("div",{className:"col-sm-4",children:Object(v.jsxs)("button",{disabled:d,className:"btn blue__btn mt-4",onClick:e=>(e.preventDefault(),c?l?(u(!0),void(c&&l&&p.a.get("/transactions/pay/".concat(c,"/").concat(l)).then((e=>{var n;u(!1),a(e.data.docs&&(null===(n=e.data.docs)||void 0===n?void 0:n.map((e=>{let a=t.find((a=>a.userID===e.pay.userID));return{userID:null===a||void 0===a?void 0:a.userID,position:null===a||void 0===a?void 0:a.position,name:null===a||void 0===a?void 0:a.name,surname:null===a||void 0===a?void 0:a.surname,tax:.05*(e.salary||0),salary:null===e||void 0===e?void 0:e.salary,taxNumber:null!==a&&void 0!==a&&a.ssnit?null===a||void 0===a?void 0:a.taxNumber:"not set",allowance:null===a||void 0===a?void 0:a.salary}})))),u(!1),b(!0),P(l),x(c)})).catch((e=>{console.log(e,"ERROR"),u(!1)})))):Object(N.c)("Please select month"):Object(N.c)("Please select year")),children:[d&&Object(v.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Generate"]})})]})}),j&&Object(v.jsxs)("div",{className:"content__container",children:[" ",Object(v.jsxs)("div",{id:"section-to-print",children:[Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("h3",{children:Object(v.jsx)("strong",{children:null===h||void 0===h?void 0:h.name})}),Object(v.jsxs)("h5",{children:["5% January Petra Trust Contribution List for"," ",C&&f.d[C].name," ",m]})]}),Object(v.jsx)(O,{data:e,tableHeader:S})]}),e.length>0&&Object(v.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(v.jsxs)("button",{onClick:()=>{window.print()},className:"btn blue__btn mr-2",children:[" ","View / Print"]}),Object(v.jsx)(k.a,{className:"btn blue__btn ml-2",data:e,columns:S})]})]})]})}},625:function(e,a,t){"use strict";var n=t(609),i=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(t(0)),c=(0,n(t(610)).default)(s.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");a.default=c},626:function(e,a,t){"use strict";var n=t(609),i=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(t(0)),c=(0,n(t(610)).default)(s.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");a.default=c},627:function(e,a,t){"use strict";var n=t(609),i=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(t(0)),c=(0,n(t(610)).default)(s.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");a.default=c},628:function(e,a,t){"use strict";var n=t(609),i=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=i(t(0)),c=(0,n(t(610)).default)(s.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");a.default=c},658:function(e,a,t){"use strict";t.d(a,"d",(function(){return n})),t.d(a,"f",(function(){return i})),t.d(a,"c",(function(){return s})),t.d(a,"b",(function(){return c})),t.d(a,"a",(function(){return r})),t.d(a,"e",(function(){return l}));const n=[{name:"January",id:0},{name:"February",id:1},{name:"March",id:2},{name:"April",id:3},{name:"May",id:4},{name:"June",id:5},{name:"July",id:6},{name:"August",id:7},{name:"September",id:8},{name:"October",id:9},{name:"November",id:10},{name:"December",id:11}],i=[{id:"border",name:"Border"},{id:"freshBorder",name:"Fresh Border"},{id:"freshDay",name:"Fresh Day"},{id:"day",name:"Day"}],s=["donations","prices","projects","others"],c=["Advertising and Marketing","Automobile Expense","Consultant Expense","Credit Card Charges","Depreciation Expense","IT and Internet Expenses","Janitorial Expense","Lodging","Meals and Entertainment","Office Supplies","Postage","Printing and Stationery","Rent Expense ","Repairs and Maintenance","Salaries and Expenses Wages","Telephone Expense","Travel Expense","Fixed Assets","Expenses","SNNIT","Bank Charges","Cleaning and Sanitation","Fuel/Lubrication","Vehicle Maintenance","Accountancy","Learning Materials","Proprietor Drawings","Donation/Gift","Permit/Levies/Rates","Electricity","Water","Text Book","Note books","School Uniform","Exams Printing","Maintenance","Others"],r=["Access Bank Ghana","African Investment Bank","Agricultural Developement Bank of Ghana","Ahantaman Rural Bank","CAL Bank","Ecobank Ghana","Fidelity Bank","Intercontinental Bank","HFC Bank","Consolidated Bank of Ghana","Barclays Bank","Merchant Bank Ghana Limited","Guaranty Trust Bank","Stanbic","Standard Chartered Bank","National City Bank","Northern City Bank","Trust Bank","UT Bank","United Bank for Africa","Zenith Bank"],l=["Teacher","Headmaster","Accountant","Teller","Security","Proprietor","Cleaner","Cook","Admin","Technician","Janitor","Matron","Secretary","Driver"]},686:function(e,a,t){"use strict";var n=t(1),i=t(14),s=t(0),c=t(30),r=t(97),l=t(622),o={variant:"footer"},d="tfoot",u=s.forwardRef((function(e,a){var t=e.classes,r=e.className,u=e.component,j=void 0===u?d:u,b=Object(i.a)(e,["classes","className","component"]);return s.createElement(l.a.Provider,{value:o},s.createElement(j,Object(n.a)({className:Object(c.a)(t.root,r),ref:a,role:j===d?null:"rowgroup"},b)))}));a.a=Object(r.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(u)},714:function(e,a,t){"use strict";t(0);var n=t(457),i=t(160),s=t(1304),c=t(626),r=t.n(c),l=t(628),o=t.n(l),d=t(627),u=t.n(d),j=t(625),b=t.n(j),h=t(10);const m=Object(n.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));a.a=function(e){const a=m(),t=Object(i.a)(),{count:n,page:c,rowsPerPage:l,onChangePage:d}=e;return Object(h.jsxs)("div",{className:a.root,children:[Object(h.jsx)(s.a,{onClick:e=>{d(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===t.direction?Object(h.jsx)(b.a,{}):Object(h.jsx)(r.a,{})}),Object(h.jsx)(s.a,{onClick:e=>{d(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===t.direction?Object(h.jsx)(u.a,{}):Object(h.jsx)(o.a,{})}),Object(h.jsx)(s.a,{onClick:e=>{d(e,c+1)},disabled:c>=Math.ceil(n/l)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(h.jsx)(o.a,{}):Object(h.jsx)(u.a,{})}),Object(h.jsx)(s.a,{onClick:e=>{d(e,Math.max(0,Math.ceil(n/l)-1))},disabled:c>=Math.ceil(n/l)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(h.jsx)(r.a,{}):Object(h.jsx)(b.a,{})})]})}},793:function(e,a,t){"use strict";t(0);var n=t(800),i=t.n(n),s=(t(617),t(10));const c=i.a.ExcelFile,r=i.a.ExcelFile.ExcelSheet,l=i.a.ExcelFile.ExcelColumn;a.a=function(e){let{data:a,btn:t,name:n,columns:i}=e;return Object(s.jsx)(c,{element:Object(s.jsx)("button",{className:"btn blue__btn",children:t||"Download"}),children:Object(s.jsx)(r,{data:a,name:n||"data",children:i.map((e=>Object(s.jsx)(l,{label:e.name,value:e.id},e.id)))})})}},801:function(e,a){},802:function(e,a){},803:function(e,a){},804:function(e,a){},805:function(e,a){},806:function(e,a){},807:function(e,a){},808:function(e,a){},809:function(e,a){},810:function(e,a){},811:function(e,a){},812:function(e,a){}}]);
//# sourceMappingURL=37.be30eb9e.chunk.js.map