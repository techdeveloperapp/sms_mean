(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[127],{1348:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a(643),c=a(675),i=a(16),s=a(123),o=a(27),d=a(614),r=a(10);const j=[{id:"code",name:"ID"},{id:"name",name:"Course"},{id:"type",name:"Course Type"},{id:"teacher",name:"Teacher"}];t.default=function(){const[e,t]=Object(l.useState)(""),[a,h]=Object(l.useState)(""),[u,b]=Object(l.useState)([]),[v,m]=Object(l.useState)(""),[O,x]=Object(l.useState)([]),p=Object(i.g)(),[g,f]=Object(l.useState)(!1);Object(l.useEffect)((()=>{f(!0),o.a.get("/courses").then((e=>{b(e.data),x(e.data),f(!1)}))}),[]);const C=[{type:"text",label:"Search Name",value:e,name:"name",onChange:t},{type:"text",label:"Search Type",value:a,name:"type",onChange:h},{type:"text",label:"Search Teacher",value:v,name:"teacher",onChange:m}],w=t=>{t.preventDefault();let l=[];e&&(l=u.filter((t=>(null===t||void 0===t?void 0:t.name.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))||(null===t||void 0===t?void 0:t.code.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))))),a&&(l=l.filter((e=>null===e||void 0===e?void 0:e.type.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase())))),v&&(l=l.filter((e=>null===e||void 0===e?void 0:e.teacher.toLowerCase().includes(null===v||void 0===v?void 0:v.toLowerCase())))),x(l)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(c.a,{title:"Courses List",handleSearch:w,handleReset:e=>{e.preventDefault(),t(""),h(""),m(""),x(u)},inputFields:C}),Object(r.jsxs)("div",{className:"content__container",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(r.jsx)("h3",{children:"Courses List"}),Object(r.jsx)(s.b,{to:"/academics/courses/add",className:"btn orange__btn btn__lg",children:"Add New Course"})]}),Object(r.jsx)(n.a,{handleEdit:e=>{p.push("/academics/courses/edit/".concat(e))},handleDelete:e=>{window.confirm("are you sure you want to delete")&&o.a.delete("/courses/delete/".concat(e)).then((t=>{if(t.data.error)return Object(d.c)(t.data.error),0;x(O.filter((t=>t._id!==e)))}))},data:O,loading:g,handleSearch:w,tableHeader:j})]})]})}},621:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i},629:function(e,t,a){"use strict";a(0);var l=a(457),n=a(160),c=a(1304),i=a(626),s=a.n(i),o=a(628),d=a.n(o),r=a(627),j=a.n(r),h=a(625),u=a.n(h),b=a(10);const v=Object(l.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));t.a=function(e){const t=v(),a=Object(n.a)(),{count:l,page:i,rowsPerPage:o,onChangePage:r}=e;return Object(b.jsxs)("div",{className:t.root,children:[Object(b.jsx)(c.a,{onClick:e=>{r(e,0)},disabled:0===i,"aria-label":"first page",children:"rtl"===a.direction?Object(b.jsx)(u.a,{}):Object(b.jsx)(s.a,{})}),Object(b.jsx)(c.a,{onClick:e=>{r(e,i-1)},disabled:0===i,"aria-label":"previous page",children:"rtl"===a.direction?Object(b.jsx)(j.a,{}):Object(b.jsx)(d.a,{})}),Object(b.jsx)(c.a,{onClick:e=>{r(e,i+1)},disabled:i>=Math.ceil(l/o)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(b.jsx)(d.a,{}):Object(b.jsx)(j.a,{})}),Object(b.jsx)(c.a,{onClick:e=>{r(e,Math.max(0,Math.ceil(l/o)-1))},disabled:i>=Math.ceil(l/o)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(b.jsx)(s.a,{}):Object(b.jsx)(u.a,{})})]})}},630:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=i},638:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),"Toc");t.default=i},643:function(e,t,a){"use strict";a.d(t,"a",(function(){return M}));var l=a(0),n=a.n(l),c=a(457),i=a(941),s=a(942),o=a(937),d=a(939),r=a(940),j=a(686),h=a(1411),u=a(938),b=a(816),v=a(1304),m=a(621),O=a.n(m),x=a(630),p=a.n(x),g=a(629),f=a(617),C=a.n(f),w=a(792),N=a(638),y=a.n(N),S=a(10);const _=Object(c.a)({table:{width:"100%"}});function M(e){var t;let{data:a,tableHeader:l,handleEdit:c,handleDelete:m,loading:x,isCanteen:f,isEdit:N,isItems:M,noActions:P,noData:L}=e;const k=_(),[z,D]=n.a.useState(0),[E,H]=n.a.useState(5),V=E-Math.min(E,(null===a||void 0===a?void 0:a.length)-z*E);return Object(S.jsx)(r.a,{component:b.a,children:Object(S.jsxs)(i.a,{className:k.table,"aria-label":"custom pagination table",children:[Object(S.jsx)(o.a,{children:Object(S.jsxs)(u.a,{children:[l&&(null===l||void 0===l?void 0:l.map((e=>Object(S.jsx)(d.a,{children:e.name},e.id)))),!P&&Object(S.jsx)(d.a,{children:"Actions"})]})}),x?Object(S.jsx)(s.a,{className:"text-center my-5 w-100",children:Object(S.jsx)(u.a,{children:Object(S.jsx)(d.a,{colSpan:l.lenght,children:Object(S.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})})}):Object(S.jsxs)(s.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(S.jsx)(u.a,{children:Object(S.jsx)(d.a,{colSpan:l.length+1,className:"text-center text-danger",children:L||"No data"})}):Object(S.jsx)(S.Fragment,{children:null===(t=E>0?null===a||void 0===a?void 0:a.slice(z*E,z*E+E):a)||void 0===t?void 0:t.map((e=>Object(S.jsxs)(u.a,{children:[l&&(null===l||void 0===l?void 0:l.map((t=>{var a,l;return Object(S.jsx)(d.a,{align:"left",children:(l=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(l)?null===(a=C()(e[null===t||void 0===t?void 0:t.id]))||void 0===a?void 0:a.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!P&&Object(S.jsx)(d.a,{align:"left",children:Object(S.jsxs)("div",{className:"d-flex align-items-center",children:[Object(S.jsx)(w.a,{title:M?"Manage Inventory":"delete",children:Object(S.jsx)(v.a,{onClick:()=>m(f?e.memberID:e._id),children:M?Object(S.jsx)(y.a,{}):Object(S.jsx)(p.a,{})})}),!N&&Object(S.jsx)(w.a,{title:"edit",children:Object(S.jsx)(v.a,{onClick:()=>c(f?e.memberID:e._id),children:Object(S.jsx)(O.a,{})})})]})})]},e._id)))}),V>0&&Object(S.jsx)(u.a,{style:{height:53},children:Object(S.jsx)(d.a,{colSpan:6})})]}),Object(S.jsx)(j.a,{children:Object(S.jsx)(u.a,{children:(null===a||void 0===a?void 0:a.length)>5&&Object(S.jsx)(h.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:E,page:z,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,t)=>{D(t)},onChangeRowsPerPage:e=>{H(parseInt(e.target.value,10)),D(0)},ActionsComponent:g.a})})})]})})}},675:function(e,t,a){"use strict";a(0);var l=a(10);t.a=function(e){let{inputFields:t,title:a,handleSearch:n,isReset:c,handleReset:i,noActions:s}=e;return Object(l.jsxs)("form",{className:"mb-5 content__container",children:[Object(l.jsx)("h3",{className:"mb-3",children:a||""}),Object(l.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((e=>Object(l.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(l.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(l.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value),className:"form-select form-select-sm py-2",children:[Object(l.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((e=>Object(l.jsx)("option",{value:e.id,children:e.name},e.id))):Object(l.jsx)("option",{disabled:!0,children:"No data "})]}):Object(l.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value)})]},null===e||void 0===e?void 0:e.name))),!s&&Object(l.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("button",{className:"btn orange__btn ",onClick:n,children:"Search"})}),!c&&Object(l.jsx)("div",{className:" mb-3 ml-3",children:Object(l.jsx)("button",{onClick:i,className:"btn blue__btn ",children:"Reset"})})]})]})]})}}}]);
//# sourceMappingURL=127.99d10eae.chunk.js.map