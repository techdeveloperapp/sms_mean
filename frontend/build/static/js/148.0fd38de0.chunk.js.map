{"version":3,"sources":["AdminComponents/shared/GoBack.js","AdminComponents/academics/calender/CalendarForm.js","AdminComponents/academics/calender/EditCalenderEvent.js","../node_modules/@material-ui/icons/ArrowForwardIos.js"],"names":["GoBack","_ref","link","name","_jsx","className","children","_jsxs","Link","to","ArrowForwardIosIcon","CalendarForm","props","register","handleSubmit","errors","useForm","title","settitle","setdescription","description","starttime","setstarttime","startdate","setstartdate","allday","setallday","endtime","isEdit","onSubmit","loading","setendtime","type","settype","value","onChange","e","target","ref","required","event","rows","defaultValue","hidden","htmlFor","checked","disabled","EditEvent","useState","startday","setstartday","setloading","id","useParams","useEffect","axios","get","concat","then","res","data","error","errorAlert","docs","allDay","day","time","separateDateandTime","start","console","log","moment","format","enddate","end","_Fragment","EditForm","handleEditEvent","combineDateAndTime","put","resource","successAlert","catch","err","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/148.0fd38de0.chunk.js","sourcesContent":["import React from \"react\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport { Link } from \"react-router-dom\";\n\nfunction GoBack({ link, name }) {\n  return (\n    <div className=\"d-flex justify-content-end mb-5\">\n      <Link to={link} className=\"link\">\n        {name}\n        <ArrowForwardIosIcon className=\"icon\" />\n      </Link>\n    </div>\n  );\n}\n\nexport default GoBack;\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nfunction CalendarForm(props) {\n  const { register, handleSubmit, errors } = useForm();\n\n  let {\n    title,\n    settitle,\n    setdescription,\n    description,\n    starttime,\n    setstarttime,\n    startdate,\n    setstartdate,\n    allday,\n    setallday,\n    endtime,\n    isEdit,\n    onSubmit,\n    loading,\n    setendtime,\n    type,\n    settype,\n  } = props;\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Title</label>\n        <input\n          value={title}\n          onChange={(e) => settitle(e.target.value)}\n          ref={register({ required: true })}\n          type=\"text\"\n          className=\"form-control\"\n          name=\"event\"\n        />\n        {errors.event && (\n          <span className=\" form-error text-danger mb-2\">\n            This field is required\n          </span>\n        )}\n      </div>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Description</label>\n        <textarea\n          value={description}\n          onChange={(e) => setdescription(e.target.value)}\n          type=\"text\"\n          rows={4}\n          className=\"form-control\"\n          name=\"description\"\n        />\n      </div>\n      <div className=\"mb-3\">\n        <label className=\"form-label\">Event Type</label>\n        <select\n          value={type}\n          onChange={(e) => settype(e.target.value)}\n          name=\"type\"\n          className=\"form-select\"\n        >\n          <option defaultValue hidden>\n            Choose...\n          </option>\n          <option>Holiday</option>\n          <option>Easter Break</option>\n          <option>Mid Term</option>\n          <option>Break</option>\n          <option>Trip</option>\n          <option>Sports</option>\n          <option>Competitons</option>\n          <option>Visiting Day</option>\n          <option>Mid Term Assessment</option>\n          <option>Independence Holiday</option>\n          <option>Revision Week</option>\n          <option>Other</option>\n        </select>\n      </div>\n      <div className=\"mb-3 \">\n        <label className=\"form-label\">Date</label>\n        <input\n          value={startdate}\n          ref={register({ required: true })}\n          onChange={(e) => setstartdate(e.target.value)}\n          type=\"date\"\n          className=\"form-control\"\n          name=\"startdate\"\n        />\n        {errors.starttime && (\n          <span className=\" form-error text-danger mb-2\">\n            This field is required\n          </span>\n        )}\n      </div>\n      <div className=\"mb-3\">\n        <div className=\"form-check form-switch \">\n          <label htmlFor=\"allday\" className=\"form-check-label mr-5\">\n            All Day\n          </label>\n          <input\n            value={allday}\n            checked={allday}\n            onChange={(e) => setallday(e.target.checked)}\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            name=\"allday\"\n          />\n        </div>\n      </div>\n      {!allday && (\n        <div className=\"row\">\n          <div className=\"mb-3 col-sm-6\">\n            <label className=\"form-label\">Start Time</label>\n            <input\n              value={starttime}\n              ref={register({ required: true })}\n              onChange={(e) => setstarttime(e.target.value)}\n              type=\"time\"\n              className=\"form-control\"\n              name=\"starttime\"\n            />\n            {errors.starttime && (\n              <span className=\" form-error text-danger mb-2\">\n                This field is required\n              </span>\n            )}\n          </div>\n          <div className=\"mb-3 col-sm-6\">\n            <label className=\"form-label\">End Time</label>\n            <input\n              value={endtime}\n              ref={register({ required: true })}\n              onChange={(e) => setendtime(e.target.value)}\n              type=\"time\"\n              className=\"form-control\"\n              name=\"endtime\"\n            />\n            {errors.endtime && (\n              <span className=\" form-error text-danger mb-2\">\n                This field is required\n              </span>\n            )}\n          </div>\n        </div>\n      )}\n      <div className=\"mb-3\">\n        <button disabled={loading} className=\"btn blue__btn\">\n          {loading && (\n            <span className=\"spinner-border spinner-border-sm\"></span>\n          )}\n          {isEdit ? \"Save Changes\" : \"Add\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default CalendarForm;\n","import React, { useState, useEffect } from \"react\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport GoBack from \"../../shared/GoBack\";\nimport { combineDateAndTime, separateDateandTime } from \"../../../utils\";\nimport EditForm from \"./CalendarForm\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\n\nfunction EditEvent() {\n  const [title, settitle] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [startday, setstartday] = useState(\"2021/2/2\");\n  const [starttime, setstarttime] = useState(\"00:00:00\");\n  const [allday, setallday] = useState(true);\n  const [endtime, setendtime] = useState(\"00:00:00\");\n  const [loading, setloading] = useState(false);\n  const [type, settype] = useState(\"\");\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/calendar/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      const { docs } = res.data;\n\n      settitle(docs.title);\n      setdescription(docs.description);\n      setallday(docs.allDay);\n      const { day, time } = separateDateandTime(docs.start);\n      console.log(day);\n      setstartday(moment(day).format(\"YYYY-MM-DD\"));\n      setstarttime(time);\n      const enddate = separateDateandTime(docs.end);\n      setendtime(enddate?.time);\n    });\n  }, [id]);\n\n  console.log(typeof startday);\n\n  const handleEditEvent = () => {\n    const start = combineDateAndTime(startday, starttime);\n    const end = combineDateAndTime(startday, endtime);\n    axios\n      .put(`/calendar/update/${id}`, {\n        title,\n        resource: type,\n        allDay: allday,\n        day: startday,\n        start,\n        end,\n        type,\n        description,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          setloading(false);\n          return 0;\n        }\n        successAlert(\"successfully updated\");\n        setloading(false);\n      })\n      .catch((err) => {\n        errorAlert(\"sorry something when wrong\");\n        setloading(false);\n      });\n  };\n\n  return (\n    <>\n      <GoBack name=\"Go back to Events List\" link=\"/academics/calender\" />\n      <div className=\"content__container\">\n        <h3>Edit Event</h3>\n        <EditForm\n          title={title}\n          settitle={settitle}\n          setdescription={setdescription}\n          description={description}\n          starttime={starttime}\n          setstarttime={setstarttime}\n          startdate={startday}\n          setstartdate={setstartday}\n          allday={allday}\n          setallday={setallday}\n          endtime={endtime}\n          isEdit={true}\n          onSubmit={handleEditEvent}\n          loading={loading}\n          setendtime={setendtime}\n          type={type}\n          settype={settype}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default EditEvent;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z\"\n}), 'ArrowForwardIos');\n\nexports.default = _default;"],"sourceRoot":""}