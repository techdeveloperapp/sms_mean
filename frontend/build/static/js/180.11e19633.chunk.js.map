{"version":3,"sources":["AdminComponents/attendance/StaffAttendance/StaffAttendanceHistory.js"],"names":["Attendance","month","setmonth","useState","attendanceData","setattendanceData","storeData","setstoreData","useEffect","axios","get","then","res","data","inputFields","type","label","value","name","onChange","_jsxs","children","_jsx","Search","handleSearch","e","preventDefault","newClasses","console","log","Date","toISOString","substring","filter","i","_i$date","date","includes","handleReset","title","className","Link","to","Table","isStaff"],"mappings":"iIAAA,8DAsEeA,UAhEf,WACE,MAAOC,EAAOC,GAAYC,mBAAS,KAC5BC,EAAgBC,GAAqBF,mBAAS,KAC9CG,EAAWC,GAAgBJ,mBAAS,IAE3CK,qBAAU,KACRC,IAAMC,IAAI,qBAAqBC,MAAMC,IACnCP,EAAkBO,EAAIC,MACtBN,EAAaK,EAAIC,KAAK,GACtB,GACD,IAEH,MAqBMC,EAAc,CAClB,CACEC,KAAM,OACNC,MAAO,kBACPC,MAAOhB,EACPiB,KAAM,QACNC,SAAUjB,IAId,OACEkB,eAAA,OAAAC,SAAA,CACEC,cAACC,IAAM,CACLC,aAlCgBC,IACpBA,EAAEC,iBACF,IAAIC,EAAa,GACb1B,IAEF2B,QAAQC,IAAI,IAAIC,KAAK7B,GAAO8B,cAAcC,UAAU,EAAG,KACvDL,EAAaA,EAAWM,QAAQC,IAAC,IAAAC,EAAA,OAC9B,OAADD,QAAC,IAADA,GAAO,QAANC,EAADD,EAAGE,YAAI,IAAAD,OAAN,EAADA,EACIH,UAAU,EAAG,IACdK,SAAS,IAAIP,KAAK7B,GAAO8B,cAAcC,UAAU,EAAG,IAAI,KAG/D3B,EAAkBsB,EAAW,EAuBzBW,YApBeb,IACnBA,EAAEC,iBACFxB,EAAS,IACTG,EAAkBC,EAAU,EAkBxBiC,MAAM,qBACNzB,YAAaA,IAEfM,eAAA,OAAKoB,UAAU,qBAAoBnB,SAAA,CACjCD,eAAA,OAAKoB,UAAU,sCAAqCnB,SAAA,CAClDC,cAAA,MAAAD,SAAI,sBACJC,cAACmB,IAAI,CAACC,GAAG,6BAA6BF,UAAU,gBAAenB,SAAC,2BAIlEC,cAACqB,IAAK,CAACC,SAAS,EAAMxC,eAAgBA,SAI9C,C","file":"static/js/180.11e19633.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"../../shared/Search\";\nimport Table from \"../../shared/AttendanceTable\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\n\nfunction Attendance() {\n  const [month, setmonth] = useState(\"\");\n  const [attendanceData, setattendanceData] = useState([]);\n  const [storeData, setstoreData] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/attendance/staff\").then((res) => {\n      setattendanceData(res.data);\n      setstoreData(res.data);\n    });\n  }, []);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    let newClasses = [];\n    if (month) {\n      //let today = new Date()\n      console.log(new Date(month).toISOString().substring(0, 10));\n      newClasses = newClasses.filter((i) =>\n        i?.date\n          ?.substring(0, 10)\n          .includes(new Date(month).toISOString().substring(0, 10))\n      );\n    }\n    setattendanceData(newClasses);\n  };\n\n  const handleReset = (e) => {\n    e.preventDefault();\n    setmonth(\"\");\n    setattendanceData(storeData);\n  };\n\n  const inputFields = [\n    {\n      type: \"date\",\n      label: \"Search by Month\",\n      value: month,\n      name: \"month\",\n      onChange: setmonth,\n    },\n  ];\n\n  return (\n    <div>\n      <Search\n        handleSearch={handleSearch}\n        handleReset={handleReset}\n        title=\"Staff's Attendance\"\n        inputFields={inputFields}\n      />\n      <div className=\"content__container\">\n        <div className=\"d-flex justify-content-between mb-3\">\n          <h3>Attendance Record</h3>\n          <Link to=\"/attendance/staff/register\" className=\"btn blue__btn\">\n            Register Attendance\n          </Link>\n        </div>\n        <Table isStaff={true} attendanceData={attendanceData} />\n      </div>\n    </div>\n  );\n}\n\nexport default Attendance;\n"],"sourceRoot":""}