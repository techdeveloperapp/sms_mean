(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[139],{1019:function(e,a,c){"use strict";c.d(a,"b",(function(){return l}));var t=c(0),s=t.createContext();function l(){return t.useContext(s)}a.a=s},1214:function(e,a,c){"use strict";var t=c(0),s=c(637),l=c(84),o=c(27),n=c(26),i=c(974),r=c(10);a.a=function(e){const a=Object(l.c)(n.b),c=Object(l.c)(n.f),d=Object(l.c)(n.h),[m,b]=Object(t.useState)([]),u=Object(l.c)(n.m),{register:j,handleSubmit:h,errors:p}=Object(s.a)();let{name:O,setname:v,code:f,setcode:x,campus:g,academic:N,setacademic:C,division:y,setdivision:k,group:S,setgroup:w,prefect:I,setprefect:F,sba:E,setsba:z,sbaStaff:B,setsbaStaff:V,setcampus:_,teacher:D,loading:P,isEdit:q,handleAddClass:A,setteacher:H}=e;const[M,R]=Object(t.useState)([]);return Object(t.useEffect)((()=>{o.a.get("/prefects").then((e=>{R(e.data)}))}),[]),Object(t.useEffect)((()=>{o.a.get("/teachers/teachers").then((e=>{b(e.data)}))}),[]),Object(r.jsxs)("form",{onSubmit:h(A),action:"",children:[Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Academic Year"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{name:"academic-calendar",className:"form-select",value:N,onChange:e=>C(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),u.length>0?u.map((e=>Object(r.jsx)("option",{value:e.year,children:e.year},e.year))):Object(r.jsx)("option",{disabled:!0,children:"No data"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Name"}),Object(r.jsxs)("div",{className:"col-sm-10",children:[Object(r.jsx)("input",{value:O,onChange:e=>v(e.target.value),type:"text",ref:j({required:!0}),className:"form-control",name:"name"}),p.name&&Object(r.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),!q&&Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Code"}),Object(r.jsxs)("div",{className:"col-sm-10",children:[Object(r.jsx)("input",{ref:j({required:!0}),value:f,onChange:e=>x(e.target.value),type:"text",className:"form-control",name:"code"}),p.code&&Object(r.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Campus"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{id:"campus",className:"form-select",value:g,onChange:e=>_(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),a.length>0?a.map((e=>Object(r.jsx)("option",{value:e._id,children:e.name},e._id))):Object(r.jsx)("option",{disabled:!0,children:"No campuses yet"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Group"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{id:"campus",className:"form-select",value:S,onChange:e=>w(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),d.length>0?d.map((e=>Object(r.jsx)("option",{value:e._id,children:e.name},e._id))):Object(r.jsx)("option",{disabled:!0,children:"No groups yet"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Division"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{id:"campus",className:"form-select",value:y,onChange:e=>k(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),c.length>0?c.map((e=>Object(r.jsx)("option",{value:e.code,children:e.name},e._id))):Object(r.jsx)("option",{disabled:!0,children:"No divisions yet"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Teacher"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{value:D,onChange:e=>H(e.target.value),id:"teacher",className:"form-select",children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),m.length>0?m.map((e=>Object(r.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID))):Object(r.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"Class Prefect"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{id:"campus",className:"form-select",value:I,onChange:e=>F(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),(null===M||void 0===M?void 0:M.length)>0?M.map((e=>Object(r.jsx)("option",{value:null===e||void 0===e?void 0:e.userID,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id))):Object(r.jsx)("option",{disabled:!0,children:"No prefects yet"})]})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Configuration"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsx)(i.a,{checked:E,color:"primary",onChange:()=>z(!E),inputProps:{"aria-label":"primary checkbox"}})})]}),Object(r.jsxs)("div",{className:"row mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:"SBA Assign Staff"}),Object(r.jsx)("div",{className:"col-sm-10",children:Object(r.jsxs)("select",{id:"campus",className:"form-select",value:B,onChange:e=>V(e.target.value),children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),m.length>0?m.map((e=>Object(r.jsxs)("option",{value:e.userID,children:[e.name," ",e.surname]},e.userID))):Object(r.jsx)("option",{disabled:!0,children:"No staff yet"})]})})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"offset-sm-2",children:Object(r.jsxs)("button",{disabled:P,type:"submit",className:"btn blue__btn",children:[P&&Object(r.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),q?"Save Changes":"Add"]})})})]})}},1347:function(e,a,c){"use strict";c.r(a);var t=c(0),s=c(1214),l=c(27),o=c(16),n=c(614),i=c(84),r=c(26),d=c(10);a.default=function(){const[e,a]=Object(t.useState)(""),[c,m]=Object(t.useState)(""),[b,u]=Object(t.useState)(""),[j,h]=Object(t.useState)(""),[p,O]=Object(t.useState)(""),[v,f]=Object(t.useState)(!1),[x,g]=Object(t.useState)(""),[N,C]=Object(t.useState)(""),[y,k]=Object(t.useState)(""),[S,w]=Object(t.useState)(""),[I,F]=Object(t.useState)(!1),{id:E}=Object(o.i)(),z=Object(i.b)(),B=Object(i.c)(r.c);return Object(t.useEffect)((()=>{l.a.get("/classes/".concat(E)).then((e=>{if(e.data.error)return Object(n.c)(e.data.error),0;let c=e.data.docs;a(null===c||void 0===c?void 0:c.name),m(null===c||void 0===c?void 0:c.campusID),u(null===c||void 0===c?void 0:c.teacherID),h(null===c||void 0===c?void 0:c.classCode),O(null===c||void 0===c?void 0:c.academic),g(null===c||void 0===c?void 0:c.division),C(null===c||void 0===c?void 0:c.group),w(null===c||void 0===c?void 0:c.sba),F(null===c||void 0===c?void 0:c.sbaStaff),k(null===c||void 0===c?void 0:c.prefect)}))}),[E]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"content__container",children:[Object(d.jsx)("h3",{children:"Edit Class"}),Object(d.jsx)(s.a,{name:e,handleAddClass:()=>{f(!0),l.a.put("/classes/update/".concat(E),{name:e,classCode:j,campusID:c,academic:p,teacherID:b,prefect:y,division:x,sba:S,group:N,sbaStaff:I}).then((async a=>{if(f(!1),a.data.error)return Object(n.c)(a.data.error),f(!1),0;Object(n.m)("successfully edited"),z(Object(r.q)(B.map((e=>{var c;return e._id===E?null===(c=a.data)||void 0===c?void 0:c.doc:e})))),await l.a.post("/activitylog/create",{activity:" ".concat(e," class was edited"),user:"admin"})})).catch((()=>{Object(n.c)("something went wrong")}))},setname:a,campus:c,academic:p,setacademic:O,setcampus:m,code:j,loading:v,setcode:h,teacher:b,isEdit:!0,setdivision:g,division:x,setgroup:C,group:N,setprefect:k,prefects:y,sba:S,setsba:w,sbaStaff:I,setsbaStaff:F,setteacher:u})]})})}},815:function(e,a,c){"use strict";c.d(a,"a",(function(){return l}));var t=c(0),s=c(1019);function l(){return t.useContext(s.a)}},974:function(e,a,c){"use strict";var t=c(1),s=c(14),l=c(0),o=c(30),n=c(99),i=c(685),r=c(815),d=c(97),m=c(1304),b=l.forwardRef((function(e,a){var c=e.autoFocus,d=e.checked,b=e.checkedIcon,u=e.classes,j=e.className,h=e.defaultChecked,p=e.disabled,O=e.icon,v=e.id,f=e.inputProps,x=e.inputRef,g=e.name,N=e.onBlur,C=e.onChange,y=e.onFocus,k=e.readOnly,S=e.required,w=e.tabIndex,I=e.type,F=e.value,E=Object(s.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),z=Object(i.a)({controlled:d,default:Boolean(h),name:"SwitchBase",state:"checked"}),B=Object(n.a)(z,2),V=B[0],_=B[1],D=Object(r.a)(),P=p;D&&"undefined"===typeof P&&(P=D.disabled);var q="checkbox"===I||"radio"===I;return l.createElement(m.a,Object(t.a)({component:"span",className:Object(o.a)(u.root,j,V&&u.checked,P&&u.disabled),disabled:P,tabIndex:null,role:void 0,onFocus:function(e){y&&y(e),D&&D.onFocus&&D.onFocus(e)},onBlur:function(e){N&&N(e),D&&D.onBlur&&D.onBlur(e)},ref:a},E),l.createElement("input",Object(t.a)({autoFocus:c,checked:d,defaultChecked:h,className:u.input,disabled:P,id:q&&v,name:g,onChange:function(e){var a=e.target.checked;_(a),C&&C(e,a)},readOnly:k,ref:x,required:S,tabIndex:w,type:I,value:F},f)),V?b:O)})),u=Object(d.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(b),j=c(657),h=Object(j.a)(l.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=Object(j.a)(l.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),O=c(98),v=Object(j.a)(l.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),f=c(158),x=l.createElement(p,null),g=l.createElement(h,null),N=l.createElement(v,null),C=l.forwardRef((function(e,a){var c=e.checkedIcon,n=void 0===c?x:c,i=e.classes,r=e.color,d=void 0===r?"secondary":r,m=e.icon,b=void 0===m?g:m,j=e.indeterminate,h=void 0!==j&&j,p=e.indeterminateIcon,O=void 0===p?N:p,v=e.inputProps,C=e.size,y=void 0===C?"medium":C,k=Object(s.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),S=h?O:b,w=h?O:n;return l.createElement(u,Object(t.a)({type:"checkbox",classes:{root:Object(o.a)(i.root,i["color".concat(Object(f.a)(d))],h&&i.indeterminate),checked:i.checked,disabled:i.disabled},color:d,inputProps:Object(t.a)({"data-indeterminate":h},v),icon:l.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===y?y:S.props.fontSize}),checkedIcon:l.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===y?y:w.props.fontSize}),ref:a},k))}));a.a=Object(d.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(O.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(O.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(C)}}]);
//# sourceMappingURL=139.9dab991e.chunk.js.map