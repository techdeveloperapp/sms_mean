(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[69],{1361:function(e,s,t){"use strict";t.r(s);var a=t(0),c=t(811),n=t(27),r=t(614),l=t(84),o=t(26),d=t(59),i=t(10);s.default=function(){const[e,s]=Object(a.useState)(""),[t,j]=Object(a.useState)(""),[m,b]=Object(a.useState)([]),h=Object(l.c)(d.d),u=Object(l.c)(o.c),[O,p]=Object(a.useState)("");return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"mb-5 content__container row",children:[Object(i.jsx)("h3",{children:"Select Student "}),Object(i.jsxs)("form",{action:"",onSubmit:e=>{e.preventDefault(),n.a.get("/students/search/".concat(O)).then((e=>e.data.error?(console.log("error"),Object(r.c)(e.data.error),0):e.data.users.length<=0?Object(r.c)("No students Find"):(p(""),b(e.data.users.map((e=>({id:e.userID,name:e.name,surname:e.surname})))),void console.log(m))))},className:"mb-5 col-md-6",children:[Object(i.jsx)("label",{className:"form-label",children:"Search Student by Name or Student ID"}),Object(i.jsx)("input",{value:O,onChange:e=>p(e.target.value),className:"form-control",type:"text",placeholder:"Type here..."})]}),Object(i.jsxs)("div",{className:"col-md-5",children:[Object(i.jsx)("label",{className:"form-label",children:"OR Select Student's Class"}),Object(i.jsxs)("select",{onChange:e=>(e=>{n.a.get("/students/class/".concat(e)).then((e=>{if(console.log(e.data),e.data.error)return console.log("error"),Object(r.c)(e.data.error),0;b(e.data.users.map((e=>({id:e.userID,name:e.name,surname:e.surname}))))}))})(e.target.value),id:"inputState",className:"form-select",children:[Object(i.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),u.map((e=>Object(i.jsx)("option",{value:e.classCode,children:e.name},e._id)))]})]})]}),Object(i.jsx)(c.a,{message:e,setmessage:s,onSend:a=>{a.preventDefault(),e&&t&&n.a.post("/chats/user",{message:e,sender:null===h||void 0===h?void 0:h.id,userID:t}).then((e=>{if(e.data.error)return Object(r.c)(e.data.error),0;Object(r.m)("message send"),s("")}))},recipientsOptions:m,recipient:t,searchOptions:()=>m.map((e=>Object(i.jsxs)("option",{value:e.id,children:[e.id," - ",e.name," ",e.surname]},e.id))),sendto:"Students",setrecipient:j,sender:null===h||void 0===h?void 0:h.id})]})}},811:function(e,s,t){"use strict";t(0);var a=t(10);s.a=function(e){let{message:s,setmessage:t,onSend:c,recipient:n,setrecipient:r,sender:l,sendto:o,searchOptions:d,loading:i,error:j}=e;return Object(a.jsxs)("form",{action:"",className:" content__container form__sender",children:[Object(a.jsx)("div",{className:"header",children:Object(a.jsxs)("h3",{children:["Send Message to ",o]})}),Object(a.jsxs)("div",{className:"row mb-2 px-3",children:[Object(a.jsx)("label",{className:"col-sm-2",htmlFor:"",children:"Recipient:"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsxs)("select",{value:n,onChange:e=>r(e.target.value),id:"inputState",className:"form-select",children:[Object(a.jsx)("option",{defaultChecked:!0,hidden:!0,children:"Choose..."}),d?d():Object(a.jsx)("option",{disabled:!0,children:"No options"})]})})]}),Object(a.jsxs)("div",{className:"row mb-2 px-3",children:[Object(a.jsx)("label",{className:"col-sm-2",htmlFor:"",children:"Sender:"}),Object(a.jsx)("div",{className:"col-sm-10",children:Object(a.jsx)("input",{className:"form-control",value:l,type:"text",readOnly:!0})})]}),Object(a.jsxs)("div",{className:"mb-2 row",children:[Object(a.jsx)("div",{className:"col-12",children:Object(a.jsx)("textarea",{value:s,onChange:e=>t(e.target.value),className:"form-control",name:"",rows:"10",required:!0,placeholder:"Type here"})}),j&&Object(a.jsx)("div",{className:"text-danger text-center mb-2",children:j}),Object(a.jsx)("div",{className:"col-12",children:Object(a.jsxs)("button",{disabled:i,onClick:c,className:"btn blue__btn w-100",children:[i&&Object(a.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Send"]})})]})]})}}}]);
//# sourceMappingURL=69.77a2a842.chunk.js.map