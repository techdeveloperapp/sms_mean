{"version":3,"sources":["AdminComponents/store/sales/SalesTable.js","AdminComponents/store/sales/AddSales.js","AdminComponents/store/sales/Sales.js","AdminComponents/shared/TablePagination.js"],"names":["useStyles2","makeStyles","table","width","CustomPaginationActionsTable","_ref","_ref2","data","classes","page","setPage","React","useState","rowsPerPage","setRowsPerPage","Math","min","length","_jsx","TableContainer","component","Paper","children","_jsxs","Table","className","TableHead","TableRow","TableCell","align","currentCurrency","TableBody","colSpan","_Fragment","slice","map","row","_moment","moment","date","format","Link","to","concat","_id","name","totalCost","TableFooter","TablePagination","rowsPerPageOptions","label","value","count","SelectProps","inputProps","native","onChangePage","handleChangePage","event","newPage","onChangeRowsPerPage","parseInt","target","ActionsComponent","TablePaginationActions","useStyles","theme","appBar","position","title","marginLeft","spacing","flex","Transition","forwardRef","props","ref","Slide","direction","CustomizedDialogs","student","setstudent","open","setOpen","totalprice","amount","setamount","buyitems","handleChangeDiscount","items","loading","handleSetitem","handleAddItem","handleChangeQty","handleAddSale","students","setstudents","handleClose","useEffect","axios","get","then","res","Dialog","fullScreen","onClose","TransitionComponent","AppBar","color","Toolbar","Typography","variant","IconButton","edge","onClick","CloseIcon","action","onChange","e","defaultValue","hidden","userID","surname","disabled","type","scope","i","rows","readOnly","a","y","qty","rate","discount","toFixed","autoFocus","Sales","setdata","setopen","setname","setitems","setloading","history","useHistory","setbuyitems","id","itemID","calculateAmount","amnt","Number","reduce","sum","obj","console","log","placeholder","AddSales","preventDefault","errorAlert","post","amountPaid","seller","_res$data$doc","error","successAlert","push","doc","catch","err","index","item","find","price","useStyles1","root","flexShrink","useTheme","LastPageIcon","FirstPageIcon","KeyboardArrowRight","KeyboardArrowLeft","ceil","max"],"mappings":"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","file":"static/js/172.422712ea.chunk.js","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableFooter from \"@material-ui/core/TableFooter\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TablePaginationActions from \"../../shared/TablePagination\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { currentCurrency } from \"../../../utils\";\n\nconst useStyles2 = makeStyles({\n  table: {\n    width: \"100%\",\n  },\n});\n\nexport default function CustomPaginationActionsTable({ data }) {\n  const classes = useStyles2();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  const emptyRows =\n    rowsPerPage - Math.min(rowsPerPage, data?.length - page * rowsPerPage);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Date</TableCell>\n            <TableCell align=\"left\">Receipt</TableCell>\n            <TableCell align=\"left\">Student</TableCell>\n            <TableCell align=\"left\">Amount ({currentCurrency()})</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {data?.length <= 0 ? (\n            <TableRow>\n              <TableCell colSpan={4} className=\"text-center my-5\">\n                No data\n              </TableCell>\n            </TableRow>\n          ) : (\n            <>\n              {(rowsPerPage > 0\n                ? data?.slice(\n                    page * rowsPerPage,\n                    page * rowsPerPage + rowsPerPage\n                  )\n                : data\n              )?.map((row) => (\n                <TableRow key={row._id}>\n                  <TableCell align=\"left\">\n                    {moment(row?.date)?.format(\"D MMMM YYYY\")}\n                  </TableCell>\n                  <TableCell align=\"left\">\n                    {\" \"}\n                    <Link to={`/store/sales/receipt/${row?._id}`}>\n                      {row?._id}\n                    </Link>\n                  </TableCell>\n                  <TableCell align=\"left\">{row?.name}</TableCell>\n                  <TableCell align=\"left\">{row?.totalCost}</TableCell>\n                </TableRow>\n              ))}\n            </>\n          )}\n        </TableBody>\n        <TableFooter>\n          <TableRow>\n            {data?.length > 5 && (\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25, { label: \"All\", value: -1 }]}\n                count={data?.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                SelectProps={{\n                  inputProps: { \"aria-label\": \"rows per page\" },\n                  native: true,\n                }}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                ActionsComponent={TablePaginationActions}\n              />\n            )}\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"../../../store/axios\";\nimport Slide from \"@material-ui/core/Slide\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"relative\",\n  },\n  title: {\n    marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function CustomizedDialogs({\n  student,\n  setstudent,\n  open,\n  setOpen,\n  totalprice,\n  amount,\n  setamount,\n  buyitems,\n  handleChangeDiscount,\n  items,\n  loading,\n  handleSetitem,\n  handleAddItem,\n  handleChangeQty,\n  handleAddSale,\n}) {\n  const [students, setstudents] = useState([]);\n  const classes = useStyles();\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    axios.get(\"/students\").then((res) => {\n      setstudents(res.data);\n    });\n  }, []);\n\n  return (\n    <Dialog\n      fullScreen\n      open={open}\n      onClose={handleClose}\n      TransitionComponent={Transition}\n      className=\"content__container\"\n      aria-labelledby=\"customized-dialog-title\"\n    >\n      <AppBar color=\"transparent\" className={classes.appBar}>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            Create New Sale\n          </Typography>\n\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleClose}\n            aria-label=\"close\"\n          >\n            <CloseIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <form action=\"\" className=\"mt-3 px-5\">\n        <div className=\"row\">\n          <div className=\"col-sm-6   mb-3\">\n            <label className=\" form-label\">Student</label>\n            <select\n              value={student}\n              onChange={(e) => setstudent(e.target.value)}\n              name=\"student\"\n              className=\"form-select\"\n              aria-label=\"Default select example\"\n            >\n              <option defaultValue hidden>\n                select\n              </option>\n              {students?.length > 0 ? (\n                students?.map((e) => (\n                  <option key={e._id} value={e.userID}>\n                    {e.name} {e?.surname}\n                  </option>\n                ))\n              ) : (\n                <option disabled>No student yet</option>\n              )}\n            </select>\n          </div>\n          <div className=\" col-sm-6   mb-3\">\n            <label className=\" form-label\">Amount Paid</label>\n            <input\n              name=\"employmentdate\"\n              value={amount}\n              onChange={(e) => setamount(e.target.value)}\n              type=\"number\"\n              className=\"form-control\"\n            />\n          </div>\n        </div>\n        <table className=\"table table-borderless\">\n          <thead className=\"table-dark\">\n            <tr>\n              <th colSpan={3}>Item Details</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\">Rate</th>\n              <th scope=\"col\">Discount (%)</th>\n              <th scope=\"col\">Amount</th>\n            </tr>\n          </thead>\n          <tbody>\n            {buyitems &&\n              buyitems.map((e, i) => (\n                <tr key={i}>\n                  <th colSpan={3}>\n                    <textarea\n                      className=\"form-control\"\n                      name=\"item\"\n                      rows=\"2\"\n                      value={e.name}\n                      readOnly\n                    ></textarea>\n                    <select\n                      defaultValue=\"item\"\n                      onChange={(a) => handleSetitem(a.target.value, i)}\n                      name=\"item\"\n                      className=\"form-select\"\n                      aria-label=\"Default select example\"\n                    >\n                      <option defaultValue hidden>\n                        select\n                      </option>\n                      {items?.length > 0 ? (\n                        items?.map((y) => (\n                          <option key={y._id} value={y?._id}>\n                            {y.name}\n                          </option>\n                        ))\n                      ) : (\n                        <option disabled>No item yet</option>\n                      )}\n                    </select>\n                  </th>\n                  <th scope=\"col\">\n                    <input\n                      name=\"quantity\"\n                      className=\"form-control\"\n                      onChange={(e) => handleChangeQty(e.target.value, i)}\n                      value={e.qty}\n                      type=\"number\"\n                    />\n                  </th>\n                  <th scope=\"col\">\n                    <input\n                      name=\"rate\"\n                      readOnly\n                      value={e.rate}\n                      className=\"form-control\"\n                      type=\"number\"\n                    />\n                  </th>\n                  <th scope=\"col\">\n                    <input\n                      name=\"discount\"\n                      className=\"form-control\"\n                      value={e.discount}\n                      onChange={(e) => handleChangeDiscount(e.target.value, i)}\n                      type=\"number\"\n                    />\n                  </th>\n                  <th scope=\"col\">\n                    <input\n                      name=\"amount\"\n                      className=\"form-control\"\n                      readOnly\n                      value={e.amount}\n                      type=\"number\"\n                    />\n                  </th>\n                </tr>\n              ))}\n\n            <tr>\n              <button onClick={handleAddItem} className=\"btn blue__btn\">\n                + Add another item\n              </button>\n            </tr>\n            <tr>\n              <th colSpan={5}></th>\n              <th colSpan={2}>\n                <div className=\"d-flex justify-content-between\">\n                  <span>Items Total Price</span>\n                  <span>{totalprice}</span>\n                </div>\n              </th>\n            </tr>\n            <tr>\n              <th colSpan={5}></th>\n              <th colSpan={2}>\n                <div className=\"d-flex justify-content-between\">\n                  <span>Balance </span>\n                  <span>{(amount - totalprice).toFixed(2)}</span>\n                </div>\n              </th>\n            </tr>\n          </tbody>\n        </table>\n        <div className=\"d-flex justify-content-end\">\n          <button\n            className=\"btn blue__btn\"\n            autoFocus\n            disabled={totalprice === 0 || amount === 0 || loading}\n            onClick={handleAddSale}\n            color=\"primary\"\n          >\n            Complete Sale\n          </button>\n        </div>\n      </form>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Table from \"./SalesTable\";\nimport AddSales from \"./AddSales\";\nimport axios from \"../../../store/axios\";\nimport { errorAlert, successAlert } from \"../../../utils\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Sales() {\n  const [data, setdata] = useState([]);\n  const [open, setopen] = useState(false);\n  const [name, setname] = useState(\"\");\n  const [amount, setamount] = useState(0);\n  const [items, setitems] = useState([]);\n  const [loading, setloading] = useState(false);\n  const history = useHistory();\n  const [buyitems, setbuyitems] = useState([\n    {\n      qty: 0,\n      rate: 0,\n      discount: 0.0,\n      amount: 0,\n      name: \"\",\n      id: 0,\n      itemID: \"\",\n    },\n  ]);\n\n  useEffect(() => {\n    axios.get(\"/store/sales\").then((res) => {\n      setdata(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    axios.get(\"/store/items\").then((res) => {\n      setitems(res.data);\n    });\n  }, []);\n\n  const calculateAmount = (rate, discount, qty) => {\n    if (rate || discount || qty) {\n      let amnt = Number(rate) * Number(qty);\n      let discountAmount = Number(discount) * amnt;\n      return (amnt - discountAmount).toFixed(2);\n    }\n    return 0;\n  };\n\n  const handleChangeDiscount = (e, i) => {\n    console.log(e);\n    setbuyitems(\n      buyitems.map((obj) => {\n        console.log(obj);\n        return obj.id === i\n          ? {\n              discount: Number(e),\n              name: obj.name,\n              rate: obj.rate,\n              qty: obj.qty,\n              amount: calculateAmount(obj.rate, e, obj.qty),\n              id: i,\n              itemID: obj.itemID,\n            }\n          : obj;\n      })\n    );\n  };\n\n  const handleChangeQty = (e, i) => {\n    console.log(e, i);\n    setbuyitems(\n      buyitems.map((obj) =>\n        obj.id === i\n          ? {\n              qty: Number(e),\n              amount: calculateAmount(obj.rate, obj.discount, e),\n              name: obj.name,\n              rate: obj.rate,\n              discount: obj.discount,\n              itemID: obj.itemID,\n              id: i,\n            }\n          : obj\n      )\n    );\n  };\n\n  const handleSetitem = (id, index) => {\n    let item = items.find((e) => e._id === id);\n    setbuyitems(\n      buyitems.map((obj) => {\n        return obj.id === index\n          ? {\n              name: item.name,\n              rate: item.price,\n              itemID: item._id,\n              amount: item.price,\n              discount: 0.0,\n              id: index,\n              qty: 1,\n            }\n          : obj;\n      })\n    );\n  };\n\n  const handleAddItem = (e) => {\n    e.preventDefault();\n    setbuyitems([\n      ...buyitems,\n      {\n        qty: 0,\n        rate: 0,\n        discount: 0.0,\n        amount: 0,\n        name: \"\",\n        id: buyitems.length,\n        itemID: \"\",\n      },\n    ]);\n  };\n\n  const totalprice = buyitems.reduce((sum, obj) => {\n    return sum + Number(obj.amount);\n  }, 0);\n\n  const handleAddSale = (e) => {\n    e.preventDefault();\n    if (!name) {\n      return errorAlert(\"please select student\");\n    }\n    setloading(true);\n    axios\n      .post(\"/store/sales/create\", {\n        amountPaid: amount,\n        totalCost: totalprice,\n        name,\n        items: buyitems,\n        seller: \"admin\",\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"payment successfully added\");\n\n        history.push(`/store/sales/receipt/${res.data.doc?._id}`);\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n      });\n  };\n\n  console.log(buyitems);\n  return (\n    <div>\n      <div className=\"mb-5 d-flex justify-content-between content__container \">\n        <div>\n          <button onClick={() => setopen(true)} className=\"btn blue__btn\">\n            New Sale\n          </button>\n        </div>\n        <form action=\"\">\n          <input\n            placeholder=\"Search....\"\n            className=\"form-control\"\n            type=\"text\"\n          />\n        </form>\n      </div>\n\n      <Table data={data} />\n\n      <AddSales\n        student={name}\n        setstudent={setname}\n        amount={amount}\n        setamount={setamount}\n        buyitems={buyitems}\n        handleChangeQty={handleChangeQty}\n        handleAddItem={handleAddItem}\n        items={items}\n        open={open}\n        loading={loading}\n        handleAddSale={handleAddSale}\n        totalprice={totalprice}\n        handleChangeDiscount={handleChangeDiscount}\n        handleSetitem={handleSetitem}\n        setOpen={setopen}\n      />\n    </div>\n  );\n}\n\nexport default Sales;\n","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\nconst useStyles1 = makeStyles((theme) => ({\n    root: {\n      flexShrink: 0,\n      marginLeft: theme.spacing(2.5),\n    },\n  }));\n\nfunction TablePaginationActions(props) {\n    const classes = useStyles1();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n  \n    const handleFirstPageButtonClick = (event) => {\n      onChangePage(event, 0);\n    };\n  \n    const handleBackButtonClick = (event) => {\n      onChangePage(event, page - 1);\n    };\n  \n    const handleNextButtonClick = (event) => {\n      onChangePage(event, page + 1);\n    };\n  \n    const handleLastPageButtonClick = (event) => {\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n  \n    return (\n      <div className={classes.root}>\n        <IconButton\n          onClick={handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"first page\"\n        >\n          {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n        </IconButton>\n        <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n        </IconButton>\n        <IconButton\n          onClick={handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"next page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n        </IconButton>\n        <IconButton\n          onClick={handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"last page\"\n        >\n          {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n        </IconButton>\n      </div>\n    );\n  }\n  \n  TablePaginationActions.propTypes = {\n    count: PropTypes.number.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n  };\n  \n\nexport default TablePaginationActions\n"],"sourceRoot":""}