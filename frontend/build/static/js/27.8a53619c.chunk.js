(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[27],{1264:function(e,t,n){"use strict";var c=n(0),a=n.n(c),i=n(457),o=n(941),l=n(942),d=n(939),s=n(940),r=n(1446),u=n(938),h=n(927),b=n(974),j=n(1498),m=n(16),p=n(975),v=n(614),O=n(998),x=n(10);function f(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function g(e,t){return"desc"===e?(e,n)=>f(e,n,t):(e,n)=>-f(e,n,t)}function k(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const c=t(e[0],n[0]);return 0!==c?c:e[1]-n[1]})),n.map((e=>e[0]))}const y=Object(i.a)((e=>({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})));function C(e){var t,n;let{students:c,headCells:i,route:f,handleWithdraw:C,handleDelete:N,noData:w,noActions:S}=e;const I=y(),[P,z]=a.a.useState("asc"),[D,E]=a.a.useState("name"),[B,A]=a.a.useState([]),[M,R]=a.a.useState(0),[F,_]=a.a.useState(5),H=Object(m.g)(),W=F-Math.min(F,(null===c||void 0===c?void 0:c.length)-M*F);return console.log(c),Object(x.jsx)("div",{className:I.root,children:Object(x.jsxs)(h.a,{className:I.paper,children:[Object(x.jsx)(s.a,{children:Object(x.jsxs)(o.a,{className:I.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(x.jsx)(p.a,{classes:I,headCells:i,numSelected:B.length,order:P,orderBy:D,noActions:S,onSelectAllClick:e=>{if(e.target.checked){const e=c.map((e=>e.name));A(e)}else A([])},onRequestSort:(e,t)=>{z(D===t&&"asc"===P?"desc":"asc"),E(t)},rowCount:null===c||void 0===c?void 0:c.length}),(null===c||void 0===c?void 0:c.length)>0?Object(x.jsxs)(l.a,{children:[null===(t=k(c,g(P,D)))||void 0===t||null===(n=t.slice(M*F,M*F+F))||void 0===n?void 0:n.map(((e,t)=>{const n=(c=null===e||void 0===e?void 0:e.userID,-1!==B.indexOf(c));var c;const a="enhanced-table-checkbox-".concat(t);return Object(x.jsxs)(u.a,{hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,children:[Object(x.jsx)(d.a,{padding:"checkbox",children:Object(x.jsx)(b.a,{onClick:t=>((e,t)=>{const n=B.indexOf(t);let c=[];-1===n?c=c.concat(B,t):0===n?c=c.concat(B.slice(1)):n===B.length-1?c=c.concat(B.slice(0,-1)):n>0&&(c=c.concat(B.slice(0,n),B.slice(n+1))),A(c)})(0,null===e||void 0===e?void 0:e.userID),checked:n,inputProps:{"aria-labelledby":a}})}),Object(x.jsx)(d.a,{align:"left",children:Object(x.jsx)(j.a,{src:"".concat(Object(v.g)(null===e||void 0===e?void 0:e.profileUrl)),alt:Object(v.h)(null===e||void 0===e?void 0:e.name)})}),Object(x.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.name}),Object(x.jsxs)(d.a,{align:"left",children:[" ",(null===e||void 0===e?void 0:e.middleName)||"-"]}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.surname)||"-"}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.position)}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.gender)||"-"}),!S&&Object(x.jsx)(d.a,{align:"left",children:Object(x.jsx)(O.a,{id:null===e||void 0===e?void 0:e.userID,route:f,isWithdraw:null===e||void 0===e?void 0:e.withdraw,history:H,handleWithdraw:C,handleDelete:N})})]},e.userID)})),W>0&&Object(x.jsx)(u.a,{style:{height:53*W},children:Object(x.jsx)(d.a,{colSpan:6})})]}):Object(x.jsxs)(l.a,{children:[Object(x.jsx)(u.a,{children:Object(x.jsx)(d.a,{className:"text-danger text-center",colSpan:i.length+2,children:w||"NO DATA"})}),W>0&&Object(x.jsx)(u.a,{style:{height:53*W},children:Object(x.jsx)(d.a,{colSpan:6})})]})]})}),(null===c||void 0===c?void 0:c.length)>5&&Object(x.jsx)(r.a,{rowsPerPageOptions:[5,10,25],component:"div",count:c.length,rowsPerPage:F,page:M,onChangePage:(e,t)=>{R(t)},onChangeRowsPerPage:e=>{_(parseInt(e.target.value,10)),R(0)}})]})})}var N=n(27),w=n(123),S=n(84),I=n(59),P=n(26);const z=[{id:"photoUrl",numeric:!1,disablePadding:!1,label:"Photo"},{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"middlename",numeric:!0,disablePadding:!0,label:"Middle Name"},{id:"surname",numeric:!0,disablePadding:!0,label:"Last Name"},{id:"status",numeric:!0,disablePadding:!0,label:"Status"},{id:"Gender",numeric:!0,disablePadding:!1,label:"Gender"}];t.a=function(e){let{id:t}=e;const[n,a]=Object(c.useState)([]),[i,o]=Object(c.useState)({}),l=Object(S.c)(P.l),d=Object(S.c)(P.b),s=Object(S.c)(I.d),r=l.find((e=>e.userID===(null===i||void 0===i?void 0:i.teacherID))),u=d.find((e=>e._id===(null===i||void 0===i?void 0:i.campusID)));return Object(c.useEffect)((()=>{(async()=>{await N.a.get("/classes/classCode/".concat(t)).then((e=>{o(e.data.docs)})),await N.a.get("/students/class/".concat(t)).then((e=>{a(e.data.users)})).catch((e=>{}))})()}),[t]),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"mb-5",children:Object(x.jsxs)("div",{className:"content__container px-5",children:[Object(x.jsxs)("h3",{className:"mb-4",children:["Class ",null===i||void 0===i?void 0:i.name]}),Object(x.jsxs)("div",{className:"d-flex flex-wrap justify-content-around",children:[Object(x.jsxs)("div",{className:"mb-4 text-center",children:[Object(x.jsx)("h6",{children:"Total Number of Students"}),Object(x.jsx)("h5",{children:(null===n||void 0===n?void 0:n.length)>0?null===n||void 0===n?void 0:n.length:Object(x.jsx)("span",{className:"text-danger",children:"no students yet "})})]}),Object(x.jsxs)("div",{className:"mb-4 text-center",children:[Object(x.jsx)("h6",{children:"Class Teacher"}),Object(x.jsx)("h5",{children:(null===r||void 0===r?void 0:r.name)+" "+(null===r||void 0===r?void 0:r.surname)||Object(x.jsx)("span",{className:"text-danger",children:"not appointed yet "})})]}),Object(x.jsxs)("div",{className:"mb-4 text-center",children:[Object(x.jsx)("h6",{children:"Class Prefect"}),Object(x.jsx)("h5",{children:(null===i||void 0===i?void 0:i.prefect)||Object(x.jsx)("span",{className:"text-danger",children:"not appointed yet "})})]}),Object(x.jsxs)("div",{className:"mb-4 text-center",children:[Object(x.jsx)("h6",{children:"Campus"}),Object(x.jsx)("h5",{children:(null===u||void 0===u?void 0:u.name)||Object(x.jsx)("span",{className:"text-danger",children:"not appointed yet "})})]})]})]})}),"student"!==(null===s||void 0===s?void 0:s.role)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"float-right mb-5",children:[Object(x.jsx)(w.b,{className:"btn blue__btn mt-3",to:"/academics/classes/attendance/record/".concat(t),children:"Register Today's Attendance"}),Object(x.jsx)(w.b,{className:"btn blue__btn ml-2 mt-3",to:"/academics/classes/attendance/".concat(t),children:"View Attendance Records"})]}),Object(x.jsx)("h3",{className:"my-5",children:"Class Students"})]}),Object(x.jsx)(C,{route:"students",students:n,noActions:!0,headCells:z})]})}},962:function(e,t,n){"use strict";var c=n(609),a=n(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),o=(0,c(n(610)).default)(i.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=o},974:function(e,t,n){"use strict";var c=n(1),a=n(14),i=n(0),o=n(30),l=n(99),d=n(685),s=n(926),r=n(97),u=n(1338),h=i.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,h=e.checkedIcon,b=e.classes,j=e.className,m=e.defaultChecked,p=e.disabled,v=e.icon,O=e.id,x=e.inputProps,f=e.inputRef,g=e.name,k=e.onBlur,y=e.onChange,C=e.onFocus,N=e.readOnly,w=e.required,S=e.tabIndex,I=e.type,P=e.value,z=Object(a.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),D=Object(d.a)({controlled:r,default:Boolean(m),name:"SwitchBase",state:"checked"}),E=Object(l.a)(D,2),B=E[0],A=E[1],M=Object(s.a)(),R=p;M&&"undefined"===typeof R&&(R=M.disabled);var F="checkbox"===I||"radio"===I;return i.createElement(u.a,Object(c.a)({component:"span",className:Object(o.a)(b.root,j,B&&b.checked,R&&b.disabled),disabled:R,tabIndex:null,role:void 0,onFocus:function(e){C&&C(e),M&&M.onFocus&&M.onFocus(e)},onBlur:function(e){k&&k(e),M&&M.onBlur&&M.onBlur(e)},ref:t},z),i.createElement("input",Object(c.a)({autoFocus:n,checked:r,defaultChecked:m,className:b.input,disabled:R,id:F&&O,name:g,onChange:function(e){var t=e.target.checked;A(t),y&&y(e,t)},readOnly:N,ref:f,required:w,tabIndex:S,type:I,value:P},x)),B?h:v)})),b=Object(r.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h),j=n(667),m=Object(j.a)(i.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=Object(j.a)(i.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=n(98),O=Object(j.a)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=n(158),f=i.createElement(p,null),g=i.createElement(m,null),k=i.createElement(O,null),y=i.forwardRef((function(e,t){var n=e.checkedIcon,l=void 0===n?f:n,d=e.classes,s=e.color,r=void 0===s?"secondary":s,u=e.icon,h=void 0===u?g:u,j=e.indeterminate,m=void 0!==j&&j,p=e.indeterminateIcon,v=void 0===p?k:p,O=e.inputProps,y=e.size,C=void 0===y?"medium":y,N=Object(a.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),w=m?v:h,S=m?v:l;return i.createElement(b,Object(c.a)({type:"checkbox",classes:{root:Object(o.a)(d.root,d["color".concat(Object(x.a)(r))],m&&d.indeterminate),checked:d.checked,disabled:d.disabled},color:r,inputProps:Object(c.a)({"data-indeterminate":m},O),icon:i.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===C?C:w.props.fontSize}),checkedIcon:i.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===C?C:S.props.fontSize}),ref:t},N))}));t.a=Object(r.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(v.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(v.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(y)},975:function(e,t,n){"use strict";var c=n(0),a=n(939),i=n(937),o=n(938),l=n(1),d=n(14),s=n(30),r=n(667),u=Object(r.a)(c.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),h=n(97),b=n(1454),j=n(158),m=c.forwardRef((function(e,t){var n=e.active,a=void 0!==n&&n,i=e.children,o=e.classes,r=e.className,h=e.direction,m=void 0===h?"asc":h,p=e.hideSortIcon,v=void 0!==p&&p,O=e.IconComponent,x=void 0===O?u:O,f=Object(d.a)(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return c.createElement(b.a,Object(l.a)({className:Object(s.a)(o.root,r,a&&o.active),component:"span",disableRipple:!0,ref:t},f),i,v&&!a?null:c.createElement(x,{className:Object(s.a)(o.icon,o["iconDirection".concat(Object(j.a)(m))])}))})),p=Object(h.a)((function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:.5}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}}),{name:"MuiTableSortLabel"})(m),v=n(974),O=n(10);t.a=function(e){const{classes:t,onSelectAllClick:n,order:c,orderBy:l,numSelected:d,headCells:s,noActions:r,rowCount:u,onRequestSort:h}=e;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(a.a,{padding:"checkbox",children:Object(O.jsx)(v.a,{indeterminate:d>0&&d<u,checked:u>0&&d===u,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),s.map((e=>{return Object(O.jsx)(a.a,{align:"left",padding:"none",sortDirection:l===e.id&&c,children:Object(O.jsxs)(p,{active:l===e.id,direction:l===e.id?c:"asc",onClick:(n=e.id,e=>{h(e,n)}),children:[e.label,l===e.id?Object(O.jsx)("span",{className:t.visuallyHidden,children:"desc"===c?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),!r&&Object(O.jsx)(a.a,{padding:"checkbox",children:"Actions"})]})})})}},998:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(0),a=n.n(c),i=n(1338),o=n(1319),l=n(1500),d=n(962),s=n.n(d),r=n(84),u=n(59),h=n(10);function b(e){let{id:t,route:n,history:c,isWithdraw:d,handleDelete:b,handleWithdraw:j}=e;const[m,p]=a.a.useState(null),v=Object(r.c)(u.d);return Object(h.jsxs)("div",{children:[Object(h.jsx)(i.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{p(e.currentTarget)},children:Object(h.jsx)(s.a,{})}),Object(h.jsxs)(o.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:()=>{p(null)},children:[Object(h.jsx)(l.a,{onClick:()=>c.push("/".concat(n,"/").concat(t)),children:"View"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(l.a,{onClick:()=>c.push("/".concat(n,"/edit/").concat(t)),children:"Edit"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(l.a,{onClick:()=>{j(t)},children:d?"UnWithdraw":"Withdraw"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(l.a,{onClick:()=>{b(t)},children:"Delete"})]})]})}}}]);
//# sourceMappingURL=27.8a53619c.chunk.js.map