(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[46],{1068:function(e,a,t){"use strict";t.d(a,"a",(function(){return M}));var n=t(0),l=t.n(n),c=t(457),s=t(941),i=t(942),o=t(937),r=t(939),d=t(940),u=t(686),j=t(1446),b=t(938),v=t(927),h=t(1338),m=t(629),f=t(1069),p=t.n(f),O=t(636),x=t.n(O),g=t(617),y=t.n(g),N=t(10);const w=Object(c.a)({table:{width:"100%"}});function M(e){var a;let{data:t,tableHeader:n,handleEdit:c,handleDelete:f,loading:O,noData:g,isEdit:M}=e;const _=w(),[S,P]=l.a.useState(0),[C,D]=l.a.useState(5),L=C-Math.min(C,(null===t||void 0===t?void 0:t.length)-S*C);return Object(N.jsx)(d.a,{component:v.a,children:Object(N.jsxs)(s.a,{className:_.table,"aria-label":"custom pagination table",children:[Object(N.jsx)(o.a,{children:Object(N.jsxs)(b.a,{children:[n&&(null===n||void 0===n?void 0:n.map((e=>Object(N.jsx)(r.a,{children:e.name},e.id)))),Object(N.jsx)(r.a,{children:"Actions"})]})}),O?Object(N.jsx)(i.a,{className:"text-center my-5 w-100",children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)(r.a,{children:Object(N.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(N.jsx)(r.a,{children:Object(N.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(N.jsx)(r.a,{children:Object(N.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(N.jsx)(r.a,{children:Object(N.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})]})}):Object(N.jsxs)(i.a,{children:[(null===t||void 0===t?void 0:t.length)<=0?Object(N.jsxs)(b.a,{className:"text-center my-5",children:[Object(N.jsx)(r.a,{className:"text-center text-danger",colSpan:n.length+1,children:g||"No Data"})," "]}):Object(N.jsx)(N.Fragment,{children:null===(a=C>0?null===t||void 0===t?void 0:t.slice(S*C,S*C+C):t)||void 0===a?void 0:a.map((e=>Object(N.jsxs)(b.a,{children:[n&&(null===n||void 0===n?void 0:n.map((a=>{var t,n;return Object(N.jsx)(r.a,{align:"left",children:(n=e[null===a||void 0===a?void 0:a.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(n)?null===(t=y()(e[null===a||void 0===a?void 0:a.id]))||void 0===t?void 0:t.format("D MMMM YYYY"):e[null===a||void 0===a?void 0:a.id]||"-")},null===a||void 0===a?void 0:a.id)}))),Object(N.jsx)(r.a,{align:"left",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(h.a,{onClick:()=>c(e._id),children:Object(N.jsx)(p.a,{})}),Object(N.jsx)(h.a,{onClick:()=>f(e._id),children:Object(N.jsx)(x.a,{})})]})})]},e._id)))}),L>0&&Object(N.jsx)(b.a,{style:{height:53*L},children:Object(N.jsx)(r.a,{colSpan:6})})]}),Object(N.jsx)(u.a,{children:Object(N.jsx)(b.a,{children:(null===t||void 0===t?void 0:t.length)>5&&Object(N.jsx)(j.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===t||void 0===t?void 0:t.length,rowsPerPage:C,page:S,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,a)=>{P(a)},onChangeRowsPerPage:e=>{D(parseInt(e.target.value,10)),P(0)},ActionsComponent:m.a})})})]})})}},1069:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2v1zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V6h16v12z"}),"LocalAtm");a.default=s},1405:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t(1068),c=t(681),s=t(84),i=t(26),o=t(27),r=t(123),d=t(614),u=t(16),j=t(10);const b=[{id:"date",name:"Date"},{id:"userID",name:"Staff ID"},{id:"name",name:"Name"},{id:"bank",name:"Bank"},{id:"accountNumber",name:"Account Number"},{id:"amount",name:"Total Salary (".concat(Object(d.b)(),")")}];a.default=function(){const[e,a]=Object(n.useState)([]),[t,v]=Object(n.useState)([]),[h,m]=Object(n.useState)(""),f=Object(s.c)(i.l),p=Object(u.g)();Object(n.useEffect)((()=>{o.a.get("/transactions/staff/pay").then((e=>{console.log(e.data);let t=e.data.map((e=>{var a,t;return{...e,name:(null===(a=f.find((a=>a.userID===e.userID)))||void 0===a?void 0:a.name)+" "+(null===(t=f.find((a=>a.userID===e.userID)))||void 0===t?void 0:t.surname)}}));a(t),v(t)}))}),[f]);const O=[{label:"Search by Staff Member",type:"select",value:h,onChange:m,options:f&&f.map((e=>({id:null===e||void 0===e?void 0:e.userID,name:(null===e||void 0===e?void 0:e.name)+" "+(null===e||void 0===e?void 0:e.surname)+" -"+(null===e||void 0===e?void 0:e.userID)})))}];return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"float-right mb-5",children:Object(j.jsx)(r.b,{className:"btn blue__btn",to:"/finance/staff/payrow/pay",children:"Staff Salary Payment"})}),Object(j.jsx)("h3",{className:" mb-5",children:"Staff Salary Transactions"}),Object(j.jsx)(c.a,{title:"Filter Staff",handleSearch:e=>{e.preventDefault();let n=[];h&&(n=t.filter((e=>{var a;return null===e||void 0===e||null===(a=e.userID)||void 0===a?void 0:a.toLowerCase().includes(null===h||void 0===h?void 0:h.toLowerCase())}))),a(n)},handleReset:e=>{e.preventDefault(),a(t),m("")},inputFields:O}),Object(j.jsx)(l.a,{data:e,handleEdit:e=>{o.a.get("/transactions/".concat(e)).then((async e=>{var a,t;p.push("/finance/staff/payrow/payslip/".concat(null===(a=e.data)||void 0===a||null===(t=a.pay)||void 0===t?void 0:t.userID))}))},handleDelete:t=>{o.a.delete("/transactions/delete/".concat(t)).then((n=>{n.data.error&&Object(d.c)(n.data.error),a(e.filter((e=>e._id!==t)))}))},noData:"No salary payments yet",tableHeader:b})]})}},625:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");a.default=s},626:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");a.default=s},627:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");a.default=s},628:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");a.default=s},629:function(e,a,t){"use strict";t(0);var n=t(457),l=t(160),c=t(1338),s=t(626),i=t.n(s),o=t(628),r=t.n(o),d=t(627),u=t.n(d),j=t(625),b=t.n(j),v=t(10);const h=Object(n.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));a.a=function(e){const a=h(),t=Object(l.a)(),{count:n,page:s,rowsPerPage:o,onChangePage:d}=e;return Object(v.jsxs)("div",{className:a.root,children:[Object(v.jsx)(c.a,{onClick:e=>{d(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===t.direction?Object(v.jsx)(b.a,{}):Object(v.jsx)(i.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{d(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===t.direction?Object(v.jsx)(u.a,{}):Object(v.jsx)(r.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{d(e,s+1)},disabled:s>=Math.ceil(n/o)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(v.jsx)(r.a,{}):Object(v.jsx)(u.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{d(e,Math.max(0,Math.ceil(n/o)-1))},disabled:s>=Math.ceil(n/o)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(v.jsx)(i.a,{}):Object(v.jsx)(b.a,{})})]})}},636:function(e,a,t){"use strict";var n=t(609),l=t(611);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(0)),s=(0,n(t(610)).default)(c.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");a.default=s},681:function(e,a,t){"use strict";t(0);var n=t(10);a.a=function(e){let{inputFields:a,title:t,handleSearch:l,isReset:c,handleReset:s,noActions:i}=e;return Object(n.jsxs)("form",{className:"mb-5 content__container",children:[Object(n.jsx)("h3",{className:"mb-3",children:t||""}),Object(n.jsxs)("div",{className:"row g-3 mb-3",children:[a&&a.map((e=>Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(n.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(n.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:a=>null===e||void 0===e?void 0:e.onChange(a.target.value),className:"form-select form-select-sm py-2",children:[Object(n.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((e=>Object(n.jsx)("option",{value:e.id,children:e.name},e.id))):Object(n.jsx)("option",{disabled:!0,children:"No data "})]}):Object(n.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:a=>null===e||void 0===e?void 0:e.onChange(a.target.value)})]},null===e||void 0===e?void 0:e.name))),!i&&Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{className:"btn orange__btn ",onClick:l,children:"Search"})}),!c&&Object(n.jsx)("div",{className:" mb-3 ml-3",children:Object(n.jsx)("button",{onClick:s,className:"btn blue__btn ",children:"Reset"})})]})]})]})}},686:function(e,a,t){"use strict";var n=t(1),l=t(14),c=t(0),s=t(30),i=t(97),o=t(624),r={variant:"footer"},d="tfoot",u=c.forwardRef((function(e,a){var t=e.classes,i=e.className,u=e.component,j=void 0===u?d:u,b=Object(l.a)(e,["classes","className","component"]);return c.createElement(o.a.Provider,{value:r},c.createElement(j,Object(n.a)({className:Object(s.a)(t.root,i),ref:a,role:j===d?null:"rowgroup"},b)))}));a.a=Object(i.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(u)}}]);
//# sourceMappingURL=46.d1f85d92.chunk.js.map