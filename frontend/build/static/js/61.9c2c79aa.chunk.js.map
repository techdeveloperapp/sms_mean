{"version":3,"sources":["AdminComponents/canteen/EditMember.js","AdminComponents/canteen/CanteenNav.js"],"names":["EditMember","name","setname","useState","paymentMethod","setpaymentMethod","loading","setloading","paymentPlan","setpaymentPlan","id","useParams","useEffect","axios","get","concat","then","res","data","error","console","log","member","user","_res$data","plans","_jsxs","children","_jsx","CanteenNav","className","type","value","readOnly","href","onChange","e","target","defaultValue","hidden","length","map","plan","_id","disabled","onClick","preventDefault","put","errorAlert","successAlert","catch","role","NavLink","activeStyle","color","to"],"mappings":"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","file":"static/js/61.9c2c79aa.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport CanteenNav from \"./CanteenNav\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction EditMember() {\n  const [name, setname] = useState(\"\");\n  const [paymentMethod, setpaymentMethod] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [paymentPlan, setpaymentPlan] = useState([]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    axios.get(`/canteen/${id}`).then((res) => {\n      if (res.data.error) {\n        console.log(res.data.error);\n        return 0;\n      }\n      const member = res.data.user;\n      setname(member?.name);\n      setpaymentMethod(member?.paymentMethod);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then((res) => {\n      setpaymentPlan(res.data?.plans);\n      console.log(res.data);\n    });\n  }, []);\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n    setloading(true);\n    axios\n      .put(`/canteen/update/${id}`, { paymentMethod, name })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Successfully edited\");\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"something went wrong\");\n      });\n  };\n\n  return (\n    <div>\n      <CanteenNav />\n      <h3>Edit Canteen Member {id}</h3>\n      <form className=\"content__container\">\n        <div className=\"col-md-6 mb-4\">\n          <label className=\"form-label\">Name</label>\n          <input\n            type=\"text\"\n            value={name}\n            readOnly\n            //onChange={e => setname(e.target.value)}\n            className=\"form-control\"\n            name=\"name\"\n          />\n        </div>\n        <div className=\"col-md-8 mb-3\">\n          <label className=\"form-label\">Select Payment Method</label>\n          <label className=\"form-label\">\n            Select Payment Plan{\" \"}\n            <a href=\"/canteen/payments/plan\">View Payment Plans available</a>\n          </label>\n          <select\n            onChange={(e) => setpaymentMethod(e.target.value)}\n            name=\"paymentMethod\"\n            className=\"form-select\"\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            {paymentPlan.length > 0 ? (\n              paymentPlan.map((e) => (\n                <option key={e._id} value={e.plan}>\n                  {e.name}\n                </option>\n              ))\n            ) : (\n              <option disabled>no data yet</option>\n            )}\n          </select>\n        </div>\n        <div>\n          <button\n            disabled={loading}\n            onClick={handleEdit}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n              ></span>\n            )}\n            Save Changes\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default EditMember;\n","import React from 'react'\nimport {NavLink} from 'react-router-dom'\n\nfunction CanteenNav() {\n    return (\n        <div className=\"d-flex xs-flex-column sm-flex-row justify-content-end\">\n            <NavLink  activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members/register\">Add  Canteen Member </NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members\">All Members</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/plan\">Payments Plan</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/add\">Make Payment</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments\">All Payments</NavLink>\n            \n        </div>\n    )\n}\n\nexport default CanteenNav\n"],"sourceRoot":""}