{"version":3,"sources":["components/class/AttendancePastRecords.js"],"names":["Attendance","date","setDate","useState","attendanceData","setattendanceData","storedata","setstoredata","id","useParams","handleSearch","e","console","log","searchData","filter","i","Date","createdAt","toISOString","slice","useEffect","axios","get","then","res","data","classData","classID","inputFields","type","label","value","name","onChange","_jsxs","children","className","_jsx","Link","to","concat","Search","title","isReset","noActions","Table","isStaff"],"mappings":"gIAAA,sEA2EeA,UApEf,WACE,MAAOC,EAAMC,GAAWC,mBAAS,KAC1BC,EAAgBC,GAAqBF,mBAAS,KAC9CG,EAAWC,GAAgBJ,mBAAS,KACrC,GAAEK,GAAOC,cAETC,EAAgBC,IACpBT,EAAQS,GACRC,QAAQC,IAAIF,GACZC,QAAQC,IAAIP,GACZ,IAAIQ,EAAaR,EAAUS,QACxBC,GAAM,IAAIC,KAAKD,EAAEE,WAAWC,cAAcC,MAAM,EAAG,MAAQT,IAE9DC,QAAQC,IAAIC,GACZT,EAAkBS,EAAW,EAG/BO,qBAAU,KACRC,IAAMC,IAAI,wBAAwBC,MAAMC,IACtCb,QAAQC,IAAIY,EAAIC,MAChB,IAAIC,EAAYF,EAAIC,KAAKX,QAAQJ,GAAMA,EAAEiB,UAAYpB,IACrDI,QAAQC,IAAIc,GACZpB,EAAaoB,GACbtB,EAAkBsB,EAAU,GAC5B,GACD,CAACnB,IAEJ,MAAMqB,EAAc,CAClB,CACEC,KAAM,OACNC,MAAO,iBACPC,MAAO/B,EACPgC,KAAM,OACNC,SAAUxB,IAId,OACEyB,eAAA,OAAAC,SAAA,CACED,eAAA,OAAKE,UAAU,4CAA2CD,SAAA,CACxDE,cAAA,OAAAF,SACEE,cAACC,IAAI,CAACC,GAAG,qBAAqBH,UAAU,oBAAmBD,SAAC,oBAI9DE,cAAA,OAAAF,SACEE,cAACC,IAAI,CACHC,GAAE,wCAAAC,OAA0CjC,GAC5C6B,UAAU,oBAAmBD,SAC9B,qCAKLE,cAAA,OAAKD,UAAU,QAAOD,SACpBE,cAACI,IAAM,CACLhC,aAAcA,EACdiC,MAAK,4BAAAF,OAA8BjC,GACnCoC,SAAS,EACTC,WAAW,EACXhB,YAAaA,MAGjBS,cAACQ,IAAK,CAACC,SAAS,EAAM3C,eAAgBA,MAG5C,C","file":"static/js/73.3a823e47.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Search from \"../../AdminComponents/shared/Search\";\nimport Table from \"../../AdminComponents/shared/AttendanceTable\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport { useParams } from \"react-router-dom\";\n\nfunction Attendance() {\n  const [date, setDate] = useState(\"\");\n  const [attendanceData, setattendanceData] = useState([]);\n  const [storedata, setstoredata] = useState([]);\n  const { id } = useParams();\n\n  const handleSearch = (e) => {\n    setDate(e);\n    console.log(e);\n    console.log(storedata);\n    let searchData = storedata.filter(\n      (i) => new Date(i.createdAt).toISOString().slice(0, 10) === e\n    );\n    console.log(searchData);\n    setattendanceData(searchData);\n  };\n\n  useEffect(() => {\n    axios.get(\"/attendance/students\").then((res) => {\n      console.log(res.data);\n      let classData = res.data.filter((e) => e.classID === id);\n      console.log(classData);\n      setstoredata(classData);\n      setattendanceData(classData);\n    });\n  }, [id]);\n\n  const inputFields = [\n    {\n      type: \"date\",\n      label: \"Search by Date\",\n      value: date,\n      name: \"date\",\n      onChange: handleSearch,\n    },\n  ];\n\n  return (\n    <div>\n      <div className=\"d-flex justify-content-around float-right\">\n        <div>\n          <Link to=\"/academics/classes\" className=\"btn blue__btn m-2\">\n            Class Details\n          </Link>\n        </div>\n        <div>\n          <Link\n            to={`/academics/classes/attendance/record/${id}`}\n            className=\"btn blue__btn m-2\"\n          >\n            Register Today's Attendance\n          </Link>\n        </div>\n      </div>\n      <div className=\" mb-4\">\n        <Search\n          handleSearch={handleSearch}\n          title={`Student's Attendance for ${id}`}\n          isReset={true}\n          noActions={true}\n          inputFields={inputFields}\n        />\n      </div>\n      <Table isStaff={true} attendanceData={attendanceData} />\n    </div>\n  );\n}\n\nexport default Attendance;\n"],"sourceRoot":""}