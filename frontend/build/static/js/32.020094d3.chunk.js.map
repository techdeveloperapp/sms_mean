{"version":3,"sources":["TeachersComponents/message/MessageAdmin.js","components/messages/SendToForm.js"],"names":["MessageAdmin","message","setmessage","useState","recipient","setrecipient","recipientOptions","id","name","user","useSelector","selectUser","loading","setloading","_jsx","children","SendForm","onSend","e","preventDefault","axios","post","userID","sender","then","res","data","error","errorAlert","successAlert","recipientsOptions","sendto","searchOptions","map","option","_jsxs","value","SendToForm","_ref","action","className","htmlFor","onChange","target","defaultChecked","hidden","disabled","type","readOnly","rows","required","placeholder","onClick","role"],"mappings":"gIAAA,oEA+DeA,UAxDf,WACE,MAAOC,EAASC,GAAcC,mBAAS,KAChCC,EAAWC,GAAgBF,mBAAS,IACrCG,EAAmB,CAAC,CAAEC,GAAI,QAASC,KAAM,UACzCC,EAAOC,YAAYC,MAClBC,EAASC,GAAcV,mBAAS,IAiCvC,OACEW,cAAA,OAAAC,SACED,cAACE,IAAQ,CACPf,QAASA,EACTC,WAAYA,EACZe,OApCUC,IACdA,EAAEC,iBACElB,GAAWG,IACbS,GAAW,GACXO,IACGC,KAAK,cAAe,CACnBpB,UACAqB,OAAQlB,EACRmB,OAAY,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMa,SAEfE,MAAMC,IAEL,GADAZ,GAAW,GACPY,EAAIC,KAAKC,MAEX,OADAC,YAAWH,EAAIC,KAAKC,OACb,EAETE,YAAa,gBACb3B,EAAW,GAAG,IAEpB,EAkBI4B,kBAAmBxB,EACnBF,UAAWA,EACX2B,OAAO,eACPnB,QAASA,EACToB,cAnBgBA,IACb1B,EAAiB2B,KAAKC,GAC3BC,eAAA,UAAwBC,MAAOF,EAAO3B,GAAGQ,SAAA,CACtC,IACAmB,EAAO1B,KAAM,MAFH0B,EAAO3B,MAkBlBF,aAAcA,EACdkB,OAAY,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMF,MAItB,C,mCC7DA,iBAoFe8B,IAlFf,SAAmBC,GAWf,IAXgB,QAClBrC,EAAO,WACPC,EAAU,OACVe,EAAM,UACNb,EAAS,aACTC,EAAY,OACZkB,EAAM,OACNQ,EAAM,cACNC,EAAa,QACbpB,EAAO,MACPe,GACDW,EACC,OACEH,eAAA,QAAMI,OAAO,GAAGC,UAAU,mCAAkCzB,SAAA,CAC1DD,cAAA,OAAK0B,UAAU,SAAQzB,SACrBoB,eAAA,MAAApB,SAAA,CAAI,mBAAiBgB,OAEvBI,eAAA,OAAKK,UAAU,gBAAezB,SAAA,CAC5BD,cAAA,SAAO0B,UAAU,WAAWC,QAAQ,GAAE1B,SAAC,eAGvCD,cAAA,OAAK0B,UAAU,YAAWzB,SACxBoB,eAAA,UACEC,MAAOhC,EACPsC,SAAWxB,GAAMb,EAAaa,EAAEyB,OAAOP,OACvC7B,GAAG,aACHiC,UAAU,cAAazB,SAAA,CAEvBD,cAAA,UAAQ8B,gBAAc,EAACC,QAAM,EAAA9B,SAAC,cAG7BiB,EACCA,IAEAlB,cAAA,UAAQgC,UAAQ,EAAA/B,SAAC,uBAMzBoB,eAAA,OAAKK,UAAU,gBAAezB,SAAA,CAC5BD,cAAA,SAAO0B,UAAU,WAAWC,QAAQ,GAAE1B,SAAC,YAGvCD,cAAA,OAAK0B,UAAU,YAAWzB,SACxBD,cAAA,SAAO0B,UAAU,eAAeJ,MAAOb,EAAQwB,KAAK,OAAOC,UAAQ,SAGvEb,eAAA,OAAKK,UAAU,WAAUzB,SAAA,CACvBD,cAAA,OAAK0B,UAAU,SAAQzB,SACrBD,cAAA,YACEsB,MAAOnC,EACPyC,SAAWxB,GAAMhB,EAAWgB,EAAEyB,OAAOP,OACrCI,UAAU,eACVhC,KAAK,GACLyC,KAAK,KACLC,UAAQ,EACRC,YAAY,gBAGfxB,GAASb,cAAA,OAAK0B,UAAU,+BAA8BzB,SAAEY,IACzDb,cAAA,OAAK0B,UAAU,SAAQzB,SACrBoB,eAAA,UACEW,SAAUlC,EACVwC,QAASnC,EACTuB,UAAU,sBAAqBzB,SAAA,CAE9BH,GACCE,cAAA,QACE0B,UAAU,mCACVa,KAAK,SACL,cAAY,SAEd,iBAOd,C","file":"static/js/32.020094d3.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport SendForm from \"../../components/messages/SendToForm\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport { errorAlert, successAlert } from \"../../utils\";\n\nfunction MessageAdmin() {\n  const [message, setmessage] = useState(\"\");\n  const [recipient, setrecipient] = useState(\"\");\n  const recipientOptions = [{ id: \"admin\", name: \"admin\" }];\n  const user = useSelector(selectUser);\n  const [loading, setloading] = useState(\"\");\n\n  const onSend = (e) => {\n    e.preventDefault();\n    if (message && recipient) {\n      setloading(true);\n      axios\n        .post(`/chats/user`, {\n          message,\n          userID: recipient,\n          sender: user?.userID,\n        })\n        .then((res) => {\n          setloading(false);\n          if (res.data.error) {\n            errorAlert(res.data.error);\n            return 0;\n          }\n          successAlert(\"message send\");\n          setmessage(\"\");\n        });\n    }\n  };\n\n  const searchOptions = () => {\n    return recipientOptions.map((option) => (\n      <option key={option.id} value={option.id}>\n        {\" \"}\n        {option.name}{\" \"}\n      </option>\n    ));\n  };\n\n  return (\n    <div>\n      <SendForm\n        message={message}\n        setmessage={setmessage}\n        onSend={onSend}\n        recipientsOptions={recipientOptions}\n        recipient={recipient}\n        sendto=\"School Admin\"\n        loading={loading}\n        searchOptions={searchOptions}\n        setrecipient={setrecipient}\n        sender={user?.id}\n      />\n    </div>\n  );\n}\n\nexport default MessageAdmin;\n","import React from \"react\";\n\nfunction SendToForm({\n  message,\n  setmessage,\n  onSend,\n  recipient,\n  setrecipient,\n  sender,\n  sendto,\n  searchOptions,\n  loading,\n  error,\n}) {\n  return (\n    <form action=\"\" className=\" content__container form__sender\">\n      <div className=\"header\">\n        <h3>Send Message to {sendto}</h3>\n      </div>\n      <div className=\"row mb-2 px-3\">\n        <label className=\"col-sm-2\" htmlFor=\"\">\n          Recipient:\n        </label>\n        <div className=\"col-sm-10\">\n          <select\n            value={recipient}\n            onChange={(e) => setrecipient(e.target.value)}\n            id=\"inputState\"\n            className=\"form-select\"\n          >\n            <option defaultChecked hidden>\n              Choose...\n            </option>\n            {searchOptions ? (\n              searchOptions()\n            ) : (\n              <option disabled>No options</option>\n            )}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"row mb-2 px-3\">\n        <label className=\"col-sm-2\" htmlFor=\"\">\n          Sender:\n        </label>\n        <div className=\"col-sm-10\">\n          <input className=\"form-control\" value={sender} type=\"text\" readOnly />\n        </div>\n      </div>\n      <div className=\"mb-2 row\">\n        <div className=\"col-12\">\n          <textarea\n            value={message}\n            onChange={(e) => setmessage(e.target.value)}\n            className=\"form-control\"\n            name=\"\"\n            rows=\"10\"\n            required\n            placeholder=\"Type here\"\n          ></textarea>\n        </div>\n        {error && <div className=\"text-danger text-center mb-2\">{error}</div>}\n        <div className=\"col-12\">\n          <button\n            disabled={loading}\n            onClick={onSend}\n            className=\"btn blue__btn w-100\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Send\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default SendToForm;\n"],"sourceRoot":""}