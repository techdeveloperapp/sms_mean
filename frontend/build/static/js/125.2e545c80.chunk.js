(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[125],{1067:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(0),c=a.n(n),o=a(457),l=a(941),i=a(942),d=a(939),s=a(940),r=a(1446),u=a(938),h=a(927),b=a(974),m=a(1498),j=a(16),p=a(975),v=a(614),O=a(998),x=a(10);function f(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function g(e,t){return"desc"===e?(e,a)=>f(e,a,t):(e,a)=>-f(e,a,t)}function y(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((e=>e[0]))}const k=Object(o.a)((e=>({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})));function w(e){var t,a;let{students:n,headCells:o,route:f,handleWithdraw:w,handleDelete:C,noData:S,noActions:N}=e;const I=k(),[D,P]=c.a.useState("asc"),[z,E]=c.a.useState("name"),[B,L]=c.a.useState([]),[A,F]=c.a.useState(0),[M,R]=c.a.useState(5),W=Object(j.g)(),_=M-Math.min(M,(null===n||void 0===n?void 0:n.length)-A*M);return console.log(n),Object(x.jsx)("div",{className:I.root,children:Object(x.jsxs)(h.a,{className:I.paper,children:[Object(x.jsx)(s.a,{children:Object(x.jsxs)(l.a,{className:I.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(x.jsx)(p.a,{classes:I,headCells:o,numSelected:B.length,order:D,orderBy:z,noActions:N,onSelectAllClick:e=>{if(e.target.checked){const e=n.map((e=>e.name));L(e)}else L([])},onRequestSort:(e,t)=>{P(z===t&&"asc"===D?"desc":"asc"),E(t)},rowCount:null===n||void 0===n?void 0:n.length}),(null===n||void 0===n?void 0:n.length)>0?Object(x.jsxs)(i.a,{children:[null===(t=y(n,g(D,z)))||void 0===t||null===(a=t.slice(A*M,A*M+M))||void 0===a?void 0:a.map(((e,t)=>{const a=(n=null===e||void 0===e?void 0:e.userID,-1!==B.indexOf(n));var n;const c="enhanced-table-checkbox-".concat(t);return Object(x.jsxs)(u.a,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(x.jsx)(d.a,{padding:"checkbox",children:Object(x.jsx)(b.a,{onClick:t=>((e,t)=>{const a=B.indexOf(t);let n=[];-1===a?n=n.concat(B,t):0===a?n=n.concat(B.slice(1)):a===B.length-1?n=n.concat(B.slice(0,-1)):a>0&&(n=n.concat(B.slice(0,a),B.slice(a+1))),L(n)})(0,null===e||void 0===e?void 0:e.userID),checked:a,inputProps:{"aria-labelledby":c}})}),Object(x.jsx)(d.a,{align:"left",id:c,children:(null===e||void 0===e?void 0:e.userID)||"-"}),Object(x.jsx)(d.a,{align:"left",children:Object(x.jsx)(m.a,{src:"".concat(Object(v.g)(null===e||void 0===e?void 0:e.profileUrl)),alt:Object(v.h)(null===e||void 0===e?void 0:e.name)})}),Object(x.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.name}),Object(x.jsxs)(d.a,{align:"left",children:[" ",(null===e||void 0===e?void 0:e.middleName)||"-"]}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.surname)||"-"}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.status)||(null===e||void 0===e?void 0:e.position)}),"student"===(null===e||void 0===e?void 0:e.role)&&Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.classID)||"-"}),Object(x.jsx)(d.a,{align:"left",children:(null===e||void 0===e?void 0:e.gender)||"-"}),!N&&Object(x.jsx)(d.a,{align:"left",children:Object(x.jsx)(O.a,{id:null===e||void 0===e?void 0:e.userID,route:f,isWithdraw:null===e||void 0===e?void 0:e.withdraw,history:W,handleWithdraw:w,handleDelete:C})})]},e.userID)})),_>0&&Object(x.jsx)(u.a,{style:{height:53*_},children:Object(x.jsx)(d.a,{colSpan:6})})]}):Object(x.jsxs)(i.a,{children:[Object(x.jsx)(u.a,{children:Object(x.jsx)(d.a,{className:"text-danger text-center",colSpan:o.length+2,children:S||"NO DATA"})}),_>0&&Object(x.jsx)(u.a,{style:{height:53*_},children:Object(x.jsx)(d.a,{colSpan:6})})]})]})}),(null===n||void 0===n?void 0:n.length)>5&&Object(x.jsx)(r.a,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:M,page:A,onChangePage:(e,t)=>{F(t)},onChangeRowsPerPage:e=>{R(parseInt(e.target.value,10)),F(0)}})]})})}},1418:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(681),o=a(1067),l=a(27),i=a(26),d=a(84),s=a(614),r=a(928),u=a(10);const h=[{id:"userID",numeric:!1,disablePadding:!1,label:"StudentID"},{id:"photoUrl",numeric:!1,disablePadding:!1,label:"Photo"},{id:"name",numeric:!1,disablePadding:!0,label:"Name"},{id:"middlename",disablePadding:!0,label:"Middle Name"},{id:"surname",disablePadding:!0,label:"Last Name"},{id:"status",disablePadding:!1,label:"Status"},{id:"class",disablePadding:!1,label:"Class"},{id:"Gender",disablePadding:!1,label:"Gender"}];t.default=function(){const[e,t]=Object(n.useState)(""),[a,b]=Object(n.useState)(""),[m,j]=Object(n.useState)(""),[p,v]=Object(n.useState)([]),O=Object(d.c)(i.c),[x,f]=Object(n.useState)([]),g=O.map((e=>({name:e.name,id:e.classCode})));Object(n.useEffect)((()=>{l.a.get("/students/withdraw").then((e=>{console.log(e.data),v(e.data),f(e.data)}))}),[]);const y=[{type:"text",value:a,label:"Search by Student ID",name:"Student ID",onChange:b},{type:"text",label:"Search by Name",value:e,name:"Name",onChange:t},{type:"select",options:g,label:"Search by Section",value:m,name:"Class",onChange:j}];return Object(u.jsxs)("div",{children:[Object(u.jsx)(c.a,{title:"Withdrawn Students",handleReset:e=>{e.preventDefault(),t(""),b(""),j(""),v(x)},handleSearch:t=>{t.preventDefault();let n=[];m&&(n=x.filter((e=>e.classID.toLowerCase().includes(m.toLowerCase())))),e&&(n=x.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())||t.surname.toLowerCase().includes(e.toLowerCase())))),a&&(n=x.filter((e=>e.userID.toLowerCase().includes(a.toLowerCase())))),v(n)},inputFields:y}),Object(u.jsx)(o.a,{route:"students",isWithdraw:!0,handleWithdraw:e=>{let t=window.confirm("Are you sure you want to withdraw this student ".concat(e));console.log(t),t&&l.a.put("/students/update/".concat(e),{withdraw:!1}).then((t=>{t.data.error&&Object(s.c)(t.data.error),console.log(t),v(p.filter((t=>t.userID!==e)))}))},handleDelete:e=>{window.confirm("Are sure you want to delete user ".concat(e))&&l.a.delete("/user/delete/".concat(e)).then((e=>{e.data.error&&Object(s.c)(e.data.error),v(p.filter((e=>e.userID!==a)))}))},students:p,headCells:h,noData:"No withdrawn students yet"}),Object(u.jsx)("div",{className:"d-flex justify-content-end",children:Object(u.jsx)("button",{onClick:()=>{Object(r.a)({data:p,headers:[{key:"userID",label:"UserID"},{key:"name",label:"Name"},{key:"middleName",label:"Middle Name"},{key:"surname",label:" SurName"},{key:"gender",label:"Gender"},{key:"classID",label:"Class"}],filename:"Allstudents"})},className:"btn orange__btn ",children:"Download PDF"})})]})}},681:function(e,t,a){"use strict";a(0);var n=a(10);t.a=function(e){let{inputFields:t,title:a,handleSearch:c,isReset:o,handleReset:l,noActions:i}=e;return Object(n.jsxs)("form",{className:"mb-5 content__container",children:[Object(n.jsx)("h3",{className:"mb-3",children:a||""}),Object(n.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((e=>Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(n.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(n.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value),className:"form-select form-select-sm py-2",children:[Object(n.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((e=>Object(n.jsx)("option",{value:e.id,children:e.name},e.id))):Object(n.jsx)("option",{disabled:!0,children:"No data "})]}):Object(n.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value)})]},null===e||void 0===e?void 0:e.name))),!i&&Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{className:"btn orange__btn ",onClick:c,children:"Search"})}),!o&&Object(n.jsx)("div",{className:" mb-3 ml-3",children:Object(n.jsx)("button",{onClick:l,className:"btn blue__btn ",children:"Reset"})})]})]})]})}},928:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(980);const c=function(e){let{data:t,headers:a,filename:c,title:o,subheading:l,date:i}=e;const d=new n.a({orientation:"l",unit:"pt",format:"a4"}),s=50,r={width:841.89-s,height:595.28-s};d.setFontSize(8),o&&d.text(o,200,29),l&&d.text(l,200,30),i&&d.text(i,200,32);const u=[];a.forEach(((e,t)=>{if(e.hasOwnProperty("xPos"))d.text(e.label,e.xPos,s),u.push(e.xPos);else{const n=s+t*(r.width/a.length),c=s;d.text(e.label,0===t?n:n+15,c),u.push(0===t?n:n+15)}})),d.line(s,53.5,r.width,53.5);let h=65;t.forEach(((e,t)=>{const n=[];a.forEach(((t,a)=>{const c=d.splitTextToSize(String(e[t.key]),u[a]-u[0!==a&&a-1]),o=c.length*d.getLineHeight();n.push(o),d.text(c,u[a],h)})),h=h+15+Math.max(...n,30),h>r.height&&(d.addPage(),h=65)})),d.save(c)}},962:function(e,t,a){"use strict";var n=a(609),c=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(a(0)),l=(0,n(a(610)).default)(o.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");t.default=l},974:function(e,t,a){"use strict";var n=a(1),c=a(14),o=a(0),l=a(30),i=a(99),d=a(685),s=a(926),r=a(97),u=a(1338),h=o.forwardRef((function(e,t){var a=e.autoFocus,r=e.checked,h=e.checkedIcon,b=e.classes,m=e.className,j=e.defaultChecked,p=e.disabled,v=e.icon,O=e.id,x=e.inputProps,f=e.inputRef,g=e.name,y=e.onBlur,k=e.onChange,w=e.onFocus,C=e.readOnly,S=e.required,N=e.tabIndex,I=e.type,D=e.value,P=Object(c.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),z=Object(d.a)({controlled:r,default:Boolean(j),name:"SwitchBase",state:"checked"}),E=Object(i.a)(z,2),B=E[0],L=E[1],A=Object(s.a)(),F=p;A&&"undefined"===typeof F&&(F=A.disabled);var M="checkbox"===I||"radio"===I;return o.createElement(u.a,Object(n.a)({component:"span",className:Object(l.a)(b.root,m,B&&b.checked,F&&b.disabled),disabled:F,tabIndex:null,role:void 0,onFocus:function(e){w&&w(e),A&&A.onFocus&&A.onFocus(e)},onBlur:function(e){y&&y(e),A&&A.onBlur&&A.onBlur(e)},ref:t},P),o.createElement("input",Object(n.a)({autoFocus:a,checked:r,defaultChecked:j,className:b.input,disabled:F,id:M&&O,name:g,onChange:function(e){var t=e.target.checked;L(t),k&&k(e,t)},readOnly:C,ref:f,required:S,tabIndex:N,type:I,value:D},x)),B?h:v)})),b=Object(r.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h),m=a(667),j=Object(m.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=Object(m.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=a(98),O=Object(m.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),x=a(158),f=o.createElement(p,null),g=o.createElement(j,null),y=o.createElement(O,null),k=o.forwardRef((function(e,t){var a=e.checkedIcon,i=void 0===a?f:a,d=e.classes,s=e.color,r=void 0===s?"secondary":s,u=e.icon,h=void 0===u?g:u,m=e.indeterminate,j=void 0!==m&&m,p=e.indeterminateIcon,v=void 0===p?y:p,O=e.inputProps,k=e.size,w=void 0===k?"medium":k,C=Object(c.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),S=j?v:h,N=j?v:i;return o.createElement(b,Object(n.a)({type:"checkbox",classes:{root:Object(l.a)(d.root,d["color".concat(Object(x.a)(r))],j&&d.indeterminate),checked:d.checked,disabled:d.disabled},color:r,inputProps:Object(n.a)({"data-indeterminate":j},O),icon:o.cloneElement(S,{fontSize:void 0===S.props.fontSize&&"small"===w?w:S.props.fontSize}),checkedIcon:o.cloneElement(N,{fontSize:void 0===N.props.fontSize&&"small"===w?w:N.props.fontSize}),ref:t},C))}));t.a=Object(r.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(v.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(v.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(k)},975:function(e,t,a){"use strict";var n=a(0),c=a(939),o=a(937),l=a(938),i=a(1),d=a(14),s=a(30),r=a(667),u=Object(r.a)(n.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),h=a(97),b=a(1454),m=a(158),j=n.forwardRef((function(e,t){var a=e.active,c=void 0!==a&&a,o=e.children,l=e.classes,r=e.className,h=e.direction,j=void 0===h?"asc":h,p=e.hideSortIcon,v=void 0!==p&&p,O=e.IconComponent,x=void 0===O?u:O,f=Object(d.a)(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return n.createElement(b.a,Object(i.a)({className:Object(s.a)(l.root,r,c&&l.active),component:"span",disableRipple:!0,ref:t},f),o,v&&!c?null:n.createElement(x,{className:Object(s.a)(l.icon,l["iconDirection".concat(Object(m.a)(j))])}))})),p=Object(h.a)((function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:.5}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}}),{name:"MuiTableSortLabel"})(j),v=a(974),O=a(10);t.a=function(e){const{classes:t,onSelectAllClick:a,order:n,orderBy:i,numSelected:d,headCells:s,noActions:r,rowCount:u,onRequestSort:h}=e;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(l.a,{children:[Object(O.jsx)(c.a,{padding:"checkbox",children:Object(O.jsx)(v.a,{indeterminate:d>0&&d<u,checked:u>0&&d===u,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),s.map((e=>{return Object(O.jsx)(c.a,{align:"left",padding:"none",sortDirection:i===e.id&&n,children:Object(O.jsxs)(p,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(a=e.id,e=>{h(e,a)}),children:[e.label,i===e.id?Object(O.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a})),!r&&Object(O.jsx)(c.a,{padding:"checkbox",children:"Actions"})]})})})}},998:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),c=a.n(n),o=a(1338),l=a(1319),i=a(1500),d=a(962),s=a.n(d),r=a(84),u=a(59),h=a(10);function b(e){let{id:t,route:a,history:n,isWithdraw:d,handleDelete:b,handleWithdraw:m}=e;const[j,p]=c.a.useState(null),v=Object(r.c)(u.d);return Object(h.jsxs)("div",{children:[Object(h.jsx)(o.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:e=>{p(e.currentTarget)},children:Object(h.jsx)(s.a,{})}),Object(h.jsxs)(l.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:()=>{p(null)},children:[Object(h.jsx)(i.a,{onClick:()=>n.push("/".concat(a,"/").concat(t)),children:"View"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(i.a,{onClick:()=>n.push("/".concat(a,"/edit/").concat(t)),children:"Edit"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(i.a,{onClick:()=>{m(t)},children:d?"UnWithdraw":"Withdraw"}),"admin"===(null===v||void 0===v?void 0:v.role)&&Object(h.jsx)(i.a,{onClick:()=>{b(t)},children:"Delete"})]})]})}}}]);
//# sourceMappingURL=125.2e545c80.chunk.js.map