{"version":3,"sources":["StudentComponents/classes/Search.js","StudentComponents/classes/Results.js","../node_modules/@material-ui/icons/Print.js"],"names":["Search","_ref","yearGroup","academicYear","setacademicYear","term","setterm","loading","handleSearch","_jsxs","action","className","children","_jsx","htmlFor","name","value","onChange","e","target","defaultValue","hidden","length","map","year","_id","disabled","onClick","type","role","ReportCard","results","setresults","useState","currentUser","useSelector","selectUser","user","setuser","show","setshow","setyear","years","selectYearGroup","setloading","selectedterm","setselectedterm","selectedyear","setselectedyear","school","setschool","useEffect","axios","get","then","res","data","async","student","concat","userID","getData","getTotal","exams","work","Number","getGrade","classwork","exam","num","getInterpretation","_Fragment","preventDefault","docs","console","log","id","fullName","motto","middleName","surname","classID","scope","course","classWork","classWorkPercentage","examPercentage","position","colSpan","handlePrint","window","print","PrintIcon","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/173.2ce65a62.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Search({\n  yearGroup,\n  academicYear,\n  setacademicYear,\n  term,\n  setterm,\n  loading,\n  handleSearch,\n}) {\n  return (\n    <form action=\"\" className=\"content__container\">\n      <h3>Search</h3>\n      <div className=\"mb-3\">\n        <label htmlFor=\"name\" className=\"col-form-label\">\n          Academic Year\n        </label>\n        <div className=\"\">\n          <select\n            name=\"academic-calendar\"\n            className=\"form-select\"\n            value={academicYear}\n            onChange={(e) => setacademicYear(e.target.value)}\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            {yearGroup.length > 0 ? (\n              yearGroup.map((e) => (\n                <option key={e._id} value={e.year}>\n                  {e.year}\n                </option>\n              ))\n            ) : (\n              <option disabled>No data</option>\n            )}\n          </select>\n        </div>\n      </div>\n      <div className=\"mb-3\">\n        <label htmlFor=\"name\" className=\"col-form-label\">\n          Term\n        </label>\n        <div className=\"\">\n          <select\n            name=\"academic-calendar\"\n            className=\"form-select\"\n            value={term}\n            onChange={(e) => setterm(e.target.value)}\n          >\n            <option defaultValue hidden>\n              Choose...\n            </option>\n            <option value=\"1\">1</option>\n            <option value=\"2\">2</option>\n            <option value=\"3\">3</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"\">\n        <button\n          onClick={handleSearch}\n          disabled={loading}\n          type=\"submit\"\n          className=\"btn blue__btn\"\n        >\n          {loading && (\n            <span\n              className=\"spinner-border spinner-border-sm\"\n              role=\"status\"\n              aria-hidden=\"true\"\n            ></span>\n          )}\n          {\"Search\"}\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default Search;\n","import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport { selectYearGroup } from \"../../store/slices/schoolSlice\";\nimport axios from \"../../store/axios\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport Search from \"./Search\";\n\nfunction ReportCard() {\n  const [results, setresults] = useState([]);\n  const currentUser = useSelector(selectUser);\n  const [user, setuser] = useState({});\n  const [show, setshow] = useState(false);\n  const [year, setyear] = useState(\"\");\n  const years = useSelector(selectYearGroup);\n  const [term, setterm] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [selectedterm, setselectedterm] = useState(\"\");\n  const [selectedyear, setselectedyear] = useState(\"\");\n  const [school, setschool] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      setschool(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    const getData = async () => {\n      let student = await axios.get(`/students/student/${currentUser?.userID}`);\n      setuser(student.data.student);\n    };\n    getData();\n  }, [currentUser]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const getTotal = (exams, work) => {\n    if (!work && !exams) {\n      return \"-\";\n    }\n    return Number(exams || 0) + Number(work || 0);\n  };\n\n  const getGrade = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    if (num >= 75 && num <= 100) {\n      return \"A1\";\n    } else if (num >= 70 && num <= 74) {\n      return \"B2\";\n    } else if (num >= 65 && num <= 69) {\n      return \"B3\";\n    } else if (num >= 60 && num <= 64) {\n      return \"C4\";\n    } else if (num >= 55 && num <= 59) {\n      return \"C5\";\n    } else if (num >= 50 && num <= 54) {\n      return \"C6\";\n    } else if (num >= 45 && num <= 49) {\n      return \"D7\";\n    } else if (num >= 40 && num <= 44) {\n      return \"E8\";\n    } else if (num >= 0 && num <= 39) {\n      return \"F9\";\n    } else {\n      return null;\n    }\n  };\n\n  const getInterpretation = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    num = Number(num);\n    if (num > 75 && num <= 100) {\n      return \"Excellent\";\n    } else if (num >= 70 && num <= 74) {\n      return \"Vert good\";\n    } else if (num >= 65 && num <= 69) {\n      return \"Good\";\n    } else if (num >= 60 && num <= 64) {\n      return \"Credit\";\n    } else if (num >= 55 && num <= 59) {\n      return \"Credit\";\n    } else if (num >= 50 && num <= 54) {\n      return \"Credit\";\n    } else if (num >= 45 && num <= 49) {\n      return \"Pass\";\n    } else if (num >= 40 && num <= 44) {\n      return \"Pass\";\n    } else if (num >= 0 && num <= 39) {\n      return \"Failure\";\n    } else {\n      return null;\n    }\n  };\n\n  const handleSearch = async (e) => {\n    setloading(true);\n    e.preventDefault();\n    await axios\n      .get(`sba/student/${currentUser?.userID}/${year}/${term}`)\n      .then((res) => {\n        setloading(false);\n        setshow(true);\n        setselectedterm(term);\n        setselectedyear(year);\n        setresults(res.data.docs);\n        console.log(res.data.docs);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"mb-5\">\n        <Search\n          yearGroup={years}\n          academicYear={year}\n          setacademicYear={setyear}\n          term={term}\n          setterm={setterm}\n          loading={loading}\n          handleSearch={handleSearch}\n        />\n      </div>\n      {show && (\n        <>\n          <div id=\"section-to-print\" className=\"content__container my-5\">\n            <div className=\"text-center\">\n              <h3>{school?.fullName}</h3>\n              <p>\n                <strong>{school?.motto}</strong>\n              </p>\n            </div>\n            <div className=\" mb-5\">\n              <div>\n                <h5>Report Card</h5>\n                <h6>\n                  Name: {user?.name} {user?.middleName} {user?.surname} -{\" \"}\n                  {user?.userID}\n                </h6>\n                <h6>Class: {user?.classID}</h6>\n                <h6> Year: {selectedyear}</h6>\n                <h6>Term:{selectedterm}</h6>\n              </div>\n            </div>\n            <table className=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Courses</th>\n                  <th scope=\"col\">Classwork </th>\n                  <th scope=\"col\">Classwork %</th>\n                  <th scope=\"col\">Exam </th>\n                  <th scope=\"col\">Exam %</th>\n                  <th scope=\"col\">Total %</th>\n                  <th scope=\"col\">Grade</th>\n                  <th scope=\"col\">Interpretation</th>\n                  <th scope=\"col\">Position</th>\n                </tr>\n              </thead>\n              <tbody>\n                {results.length > 0 ? (\n                  results.map((res) => (\n                    <tr key={res?._id}>\n                      <td>{res?.course}</td>\n                      <td>{res.classWork || \"-\"}</td>\n                      <td>{res.classWorkPercentage || \"-\"}</td>\n                      <td>{res?.exam || \"-\"}</td>\n                      <td>{res?.examPercentage || \"-\"}</td>\n                      <td>\n                        {getTotal(res?.examPercentage, res.classWorkPercentage)}\n                      </td>\n                      <td>\n                        {getGrade(res?.examPercentage, res.classWorkPercentage)}\n                      </td>\n                      <td>\n                        {getInterpretation(\n                          res?.examPercentage,\n                          res.classWorkPercentage\n                        )}\n                      </td>\n                      <td>{res?.position}</td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={10} className=\"text-center text-danger\">\n                      <h5>No data yet</h5>\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>{\" \"}\n          <div className=\"d-flex justify-content-center mb-5\">\n            <button onClick={handlePrint} className=\"btn blue__btn\">\n              <PrintIcon />\n              Print\n            </button>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default ReportCard;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;"],"sourceRoot":""}