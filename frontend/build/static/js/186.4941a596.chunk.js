(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[186],{1449:function(e,s,t){"use strict";t.r(s);var c=t(0),a=t(26),l=t(84),n=t(27),i=t(614),o=t(10);var r=function(e){let{classes:s}=e;const[t,a]=Object(c.useState)(""),[l,r]=Object(c.useState)(""),[d,j]=Object(c.useState)(""),[b,m]=Object(c.useState)(""),[u,h]=Object(c.useState)(""),[O,x]=Object(c.useState)("");return Object(o.jsx)("div",{children:Object(o.jsx)("form",{action:"",children:Object(o.jsxs)("div",{className:"content__container mb-5",children:[Object(o.jsx)("div",{className:"col-12 ",children:Object(o.jsx)("h3",{className:"mb-4",children:"Promoting Student to another Class"})}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("label",{children:"Select Class"}),Object(o.jsxs)("select",{name:"class",value:d,onChange:e=>{j(e.target.value),m(!0),n.a.get("/students/class/".concat(e.target.value)).then((e=>{m(!1),h(e.data.users)}))},className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===s||void 0===s?void 0:s.length)>0?s.map((e=>Object(o.jsxs)("option",{value:e.classCode,children:[" ",e.name," "]},e.classCode))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),b&&Object(o.jsx)("div",{className:"d-flex justify-content-center",children:Object(o.jsx)("div",{className:"spinner-border",role:"status",children:Object(o.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),d&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("label",{children:"Select Student"}),Object(o.jsxs)("select",{name:"class",value:l,onChange:e=>r(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===u||void 0===u?void 0:u.length)>0?u.map((e=>Object(o.jsxs)("option",{value:e.userID,children:[" ",null===e||void 0===e?void 0:e.name," ",null===e||void 0===e?void 0:e.surname]},e.userID))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("label",{children:"Select Move to"}),Object(o.jsxs)("select",{name:"class",value:t,onChange:e=>a(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===s||void 0===s?void 0:s.length)>0?s.map((e=>Object(o.jsxs)("option",{value:e.classCode,children:[" ",e.name," "]},e.classCode))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]})]}),Object(o.jsx)("div",{className:"col-xs-12 col-sm-6   mb-2 mt-4",children:Object(o.jsx)("button",{disabled:O.classes,className:"btn blue__btn mr-3",onClick:e=>(e.preventDefault(),l?t?(x(!0),void n.a.put("/students/update/".concat(l),{classID:t}).then((async e=>{if(x(!1),e.data.error)return Object(i.c)(e.data.error);Object(i.m)("Changes successfully saved"),j(""),a(""),r(""),await n.a.post("/activitylog/create",{activity:"student ".concat(l," was moved to class ").concat(t),user:"admin"})}))):Object(i.c)("Please select new class"):Object(i.c)("Please select student")),children:"Save Changes"})})]})]})})})};var d=function(e){let{classes:s}=e;const[t,a]=Object(c.useState)(""),[l,r]=Object(c.useState)(""),[d,j]=Object(c.useState)(""),[b,m]=Object(c.useState)({classes:!1});return Object(o.jsx)("div",{children:Object(o.jsx)("form",{className:"content__container mb-5",children:Object(o.jsxs)("div",{className:"row mb-5 aligh-items-center",children:[Object(o.jsx)("div",{className:"col-12 ",children:Object(o.jsx)("h3",{className:"mb-4",children:"Promoting Students to the next Class"})}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2",children:[Object(o.jsx)("label",{children:"Current Class"}),Object(o.jsxs)("select",{name:"class",value:t,onChange:e=>a(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===s||void 0===s?void 0:s.length)>0?s.map((e=>Object(o.jsxs)("option",{value:e.classCode,children:[" ",e.name," "]},e.classCode))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2",children:[Object(o.jsx)("label",{children:"Promote Class"}),Object(o.jsxs)("select",{name:"class",value:l,onChange:e=>r(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===s||void 0===s?void 0:s.length)>0?s.map((e=>Object(o.jsxs)("option",{value:e.classCode,children:[" ",e.name," "]},e.classCode))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),b.classes&&Object(o.jsx)("div",{className:"text-danger",children:" Please select all field "}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2 mt-4",children:[Object(o.jsx)("button",{disabled:d.classes,className:"btn blue__btn mr-3",onClick:e=>{if(e.preventDefault(),m({...b,classes:!1}),""===t||""===l)return m({...b,classes:!0}),0;j(!0),n.a.post("/students/upgrade/class",{currentclass:t,nextclass:l}).then((async e=>{if(j(!1),e.data.error)return Object(i.c)(e.data.error),0;Object(i.m)("Changes are successfully done"),await n.a.post("/activitylog/create",{activity:"students in class ".concat(t," were moved to class ").concat(l),user:"admin"}),a(""),r("")})).catch((e=>{console.log(e),j(!1),Object(i.c)("something went wrong")}))},children:"Save Changes"}),Object(o.jsx)("button",{className:"btn btn-danger",onClick:e=>{e.preventDefault(),a(""),r(""),m({...b,classes:!1})},children:"Cancel"})]})]})})})};var j=function(e){let{dormitories:s}=e;const[t,a]=Object(c.useState)(""),[l,r]=Object(c.useState)(""),[d,j]=Object(c.useState)(!1),[b,m]=Object(c.useState)("");let u=s.find((e=>e._id===t)),h=s.find((e=>e._id===l));return Object(o.jsx)("form",{action:"",className:"content__container mb-5",children:Object(o.jsxs)("div",{className:"row mb-5 aligh-items-center",children:[Object(o.jsx)("div",{className:"col-12 ",children:Object(o.jsx)("h3",{className:"mb-4",children:"Promoting Students to another Dormitories"})}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6 ",children:[Object(o.jsx)("label",{children:"Current Dormitory"}),Object(o.jsxs)("select",{name:"dormitories",value:t,onChange:e=>a(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),s.length>0?s.map((e=>Object(o.jsx)("option",{value:e._id,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6 ",children:[Object(o.jsx)("label",{children:"Promote Dormitory"}),Object(o.jsxs)("select",{name:"nextdormitory",value:l,onChange:e=>r(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),s.length>0?s.map((e=>Object(o.jsx)("option",{value:e._id,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),b.dormitories&&Object(o.jsx)("div",{className:"text-danger",children:" Please select all field "}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2 mt-4",children:[Object(o.jsx)("button",{disabled:d.dormitories,className:"btn blue__btn mr-3",onClick:e=>{if(e.preventDefault(),m(!1),""===t||""===l)return m({...b,dormitories:!0}),0;j(!0),n.a.post("/students//upgrade/dormitories",{currentdormitories:t,nextdormitories:l}).then((async e=>{if(j(!1),e.data.error)return Object(i.c)(e.data.error),0;Object(i.m)("Changes are successfully done"),a(""),r(""),await n.a.post("/activitylog/create",{activity:"dormitory ".concat(u.name," were moved to dormitory ").concat(h),user:"admin"})})).catch((e=>{console.log(e),j(!1),Object(i.c)("something went wrong")}))},children:"Save Changes"}),Object(o.jsx)("button",{className:"btn btn-danger",onClick:e=>{e.preventDefault(),a(""),r(""),m({...b,dormitories:!1})},children:"Cancel"})]})]})})};var b=function(e){let{campuses:s}=e;const[t,a]=Object(c.useState)(""),[l,r]=Object(c.useState)(""),[d,j]=Object(c.useState)(!1),[b,m]=Object(c.useState)(!1);return Object(o.jsx)("form",{className:"content__container mb-5",children:Object(o.jsxs)("div",{className:"row mb-5 aligh-items-center",children:[Object(o.jsx)("div",{className:"col-12 ",children:Object(o.jsx)("h3",{className:"mb-4",children:"Promoting Students to another Campus"})}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6 ",children:[Object(o.jsx)("label",{children:"Current Campus"}),Object(o.jsxs)("select",{name:"campus",value:t,onChange:e=>a(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),s.length>0?s.map((e=>Object(o.jsx)("option",{value:e._id,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6 ",children:[Object(o.jsx)("label",{children:"Promote Campus"}),Object(o.jsxs)("select",{name:"nextcampus",value:l,onChange:e=>r(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),s.length>0?s.map((e=>Object(o.jsx)("option",{value:e._id,children:e.name},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),b.campuses&&Object(o.jsx)("div",{className:"text-danger",children:" Please select all field "}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2 mt-4",children:[Object(o.jsx)("button",{disabled:d.campuses,className:"btn blue__btn mr-3",onClick:e=>{if(e.preventDefault(),m(!1),""===t||""===l)return m({...b,campuses:!0}),0;j(!0),n.a.post("/students/upgrade/campus",{currentcampus:t,nextcampus:l}).then((async e=>{if(j(!1),e.data.error)return Object(i.c)(e.data.error),0;Object(i.m)("Changes are successfully done"),a(""),r(""),await n.a.post("/activitylog/create",{activity:"students in campus ".concat(t," were moved to campus ").concat(l),user:"admin"})})).catch((e=>{console.log(e),j(!1),Object(i.c)("something went wrong")}))},children:"Save Changes"}),Object(o.jsx)("button",{className:"btn btn-danger",onClick:e=>{e.preventDefault(),a(""),r(""),m(!1)},children:"Cancel"})]})]})})};var m=function(e){let{classes:s}=e;const t=Object(l.b)(),[r,d]=Object(c.useState)(""),[j,b]=Object(c.useState)(""),[m,u]=Object(c.useState)({classes:!1});return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{className:"content__container mb-5",children:[Object(o.jsxs)("div",{className:"row mb-3 aligh-items-center",children:[Object(o.jsx)("div",{className:"col-12 ",children:Object(o.jsx)("h3",{className:"mb-4",children:"Graduate Students"})}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2",children:[Object(o.jsx)("label",{children:"Select Class"}),Object(o.jsxs)("select",{name:"class",value:r,onChange:e=>d(e.target.value),className:"form-select","aria-label":"Default select example",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"select"}),(null===s||void 0===s?void 0:s.length)>0?s.map((e=>Object(o.jsxs)("option",{value:e.classCode,children:[" ",e.name," "]},e.classCode))):Object(o.jsx)("option",{disabled:!0,children:"No options yet"})]})]}),m.classes&&Object(o.jsx)("div",{className:"text-danger",children:" Please select all field "})]}),Object(o.jsxs)("div",{className:"col-xs-12 col-sm-6   mb-2 mt-4",children:[Object(o.jsx)("button",{disabled:j.classes,className:"btn blue__btn mr-3",onClick:e=>{if(e.preventDefault(),u({...m,classes:!1}),""===r)return u({...m,classes:!0}),0;b(!0),n.a.post("/students/upgrade/graduate",{currentclass:r}).then((async e=>{if(b(!1),e.data.error)return Object(i.c)(e.data.error),0;Object(i.m)("Changes are successfully done"),t(Object(a.q)(s.filter((e=>e._id!==r)))),await n.a.post("/activitylog/create",{activity:"students in class ".concat(r," was graduated"),user:"admin"}),d("")})).catch((e=>{console.log(e),b(!1),Object(i.c)("something went wrong")}))},children:"Submit"}),Object(o.jsx)("button",{className:"btn btn-danger",onClick:e=>{e.preventDefault(),d(""),u({...m,classes:!1})},children:"Cancel"})]})]})})};s.default=function(){const e=Object(l.c)(a.c),s=Object(l.c)(a.g),t=Object(l.c)(a.b);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{className:"mb-5",children:"Students Promotions"}),Object(o.jsx)(m,{classes:e}),Object(o.jsx)(r,{classes:e}),Object(o.jsx)(d,{classes:e}),Object(o.jsx)(b,{campuses:t}),Object(o.jsx)(j,{dormitories:s})]})}}}]);
//# sourceMappingURL=186.4941a596.chunk.js.map