{"version":3,"sources":["AdminComponents/Profile/financialReports/IncomeStatement.js","../node_modules/@material-ui/icons/Print.js","components/tables/pdf.js","../node_modules/@material-ui/icons/InsertDriveFile.js"],"names":["thismonth","moment","month","thisyear","year","firstday","concat","format","IncomeStatement","user","useSelector","selectUser","from","setfrom","useState","to","setto","loading","setloading","data","name","id","_jsxs","children","className","_jsx","htmlFor","value","onChange","e","target","type","onClick","handleSearch","console","log","disabled","role","scope","handlePrint","window","print","PrintIcon","handleSave","pdf","headers","key","label","filename","title","subheading","date","InsertDriveFileIcon","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","_ref","doc","jsPDF","orientation","unit","pageMargin","liveArea","width","height","setFontSize","text","xPositions","forEach","heading","index","hasOwnProperty","xPos","push","xPositionForCurrentHeader","length","yPositionForHeaders","line","nextYPos","row","rIndex","rowHeights","column","cIndex","longText","splitTextToSize","String","rowHeight","getLineHeight","Math","max","addPage","save"],"mappings":"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","file":"static/js/143.24970db7.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../../store/slices/userSlice\";\nimport moment from \"moment\";\nimport InsertDriveFileIcon from \"@material-ui/icons/InsertDriveFile\";\nimport PrintIcon from \"@material-ui/icons/Print\";\nimport { pdf } from \"../../../components/tables/pdf\";\n\nlet thismonth = moment().month();\nlet thisyear = moment().year();\nlet firstday = moment(`${thisyear}-${thismonth + 1}-01`).format(\"YYYY-MM-DD\");\n\nfunction IncomeStatement() {\n  const user = useSelector(selectUser);\n  const [from, setfrom] = useState(firstday);\n  const [to, setto] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setloading] = useState(\"\");\n  const data = [\n    { name: \"Revenue\", id: \"\" },\n    { name: \"Fee Payments\", id: \"0\" },\n    { name: \"Other Income\", id: \"0\" },\n    { name: \"Expenses\", id: \"-\" },\n    { name: \"Net income\", id: \"0\" },\n  ];\n\n  const handleSearch = () => {\n    setloading(false);\n    console.log(\"searching...\");\n  };\n\n  const handleSave = () => {\n    const headers = [\n      { key: \"name\", label: \"\" },\n      { key: \"id\", label: \"\" },\n    ];\n\n    pdf({\n      data: data,\n      headers,\n      filename: \"Itemized\",\n      title: user?.name,\n      subheading: \"INCOME STATEMENT REPORT\",\n      date: `  From ${moment(from).format(\"DD MMMM YYYY\")} - To{\" \"}\n    ${moment(to).format(\"DD MMMM YYYY\")}`,\n    });\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <div>\n      <form className=\"content__container row\">\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            From\n          </label>\n          <div className=\"\">\n            <input\n              value={from}\n              onChange={(e) => setfrom(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n              name=\"from\"\n            />\n          </div>\n        </div>\n        <div className=\"col-sm-6 col-md-4 mb-3\">\n          <label htmlFor=\"name\" className=\" col-form-label\">\n            To\n          </label>\n          <div className=\"\">\n            <input\n              value={to}\n              onChange={(e) => setto(e.target.value)}\n              type=\"date\"\n              className=\"form-control\"\n              name=\"to\"\n            />\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <button\n            onClick={handleSearch}\n            disabled={loading}\n            type=\"submit\"\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Search\n          </button>\n        </div>\n      </form>\n      <div className=\"content__container mt-5\">\n        <div className=\"text-center\">\n          <h5>\n            <strong>{user?.name}</strong>\n          </h5>\n          <h5>INCOME STATEMENT</h5>\n          <div>\n            From {moment(from).format(\"DD MMMM YYYY\")} - To{\" \"}\n            {moment(to).format(\"DD MMMM YYYY\")}\n          </div>\n        </div>\n        <table className=\"table table-borderless\">\n          <thead>\n            <tr>\n              <th scope=\"col\"></th>\n              <th scope=\"col\">Amount ($)</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <th scope=\"col\">\n                <strong>Revenues</strong>\n              </th>\n              <th scope=\"col\"></th>\n            </tr>\n            <tr>\n              <td className=\"pl-5\">Fee Payment</td>\n              <td>0</td>\n            </tr>\n            <tr>\n              <td className=\"pl-5\">Others income</td>\n              <td>0</td>\n            </tr>\n            <br />\n            <tr>\n              <td>\n                <strong>Expenses</strong>\n              </td>\n              <td></td>\n            </tr>\n            <br />\n            <tr>\n              <td>\n                <strong>Net Income</strong>\n              </td>\n              <td>0</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div className=\"d-flex justify-content-center mt-3\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          Print <PrintIcon />\n        </button>\n        <button onClick={handleSave} className=\"btn blue__btn ml-3\">\n          Save <InsertDriveFileIcon />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default IncomeStatement;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;","import jsPDF from \"jspdf\";\n\nexport const pdf = function ({\n  data,\n  headers,\n  filename,\n  title,\n  subheading,\n  date,\n}) {\n  const doc = new jsPDF({\n    orientation: \"l\",\n    unit: \"pt\",\n    format: \"a4\",\n  });\n\n  // Get the page total pt height and pt width based on\n  // https://github.com/MrRio/jsPDF/blob/ddbfc0f0250ca908f8061a72fa057116b7613e78/jspdf.js#L59\n\n  const pageDimensions = {\n    height: 595.28,\n    width: 841.89,\n  };\n\n  // Set some general padding to the document\n  const pageMargin = 50;\n\n  const liveArea = {\n    width: pageDimensions.width - pageMargin,\n    height: pageDimensions.height - pageMargin,\n  };\n\n  // Let's set up a standard padding that we can add to known coordinates\n  const padding = 15;\n\n  doc.setFontSize(8);\n\n  if (title) {\n    doc.text(title, 200, 29);\n  }\n\n  if (subheading) {\n    doc.text(subheading, 200, 30);\n  }\n  if (date) {\n    doc.text(date, 200, 32);\n  }\n\n  const xPositions = [];\n\n  headers.forEach((heading, index) => {\n    if (heading.hasOwnProperty(\"xPos\")) {\n      doc.text(heading.label, heading.xPos, pageMargin);\n      xPositions.push(heading.xPos);\n    } else {\n      const xPositionForCurrentHeader =\n        pageMargin + index * (liveArea.width / headers.length);\n      const yPositionForHeaders = pageMargin;\n      doc.text(\n        heading.label,\n        index === 0\n          ? xPositionForCurrentHeader\n          : xPositionForCurrentHeader + padding,\n        yPositionForHeaders\n      );\n\n      xPositions.push(\n        index === 0\n          ? xPositionForCurrentHeader\n          : xPositionForCurrentHeader + padding\n      );\n    }\n  });\n\n  doc.line(pageMargin, pageMargin + 3.5, liveArea.width, pageMargin + 3.5);\n\n  const baseYPosForRows = pageMargin + padding;\n  let nextYPos = baseYPosForRows;\n\n  // ROWS\n  data.forEach((row, rIndex) => {\n    const rowHeights = [];\n\n    // COLUMNS\n    headers.forEach((column, cIndex) => {\n      const longText = doc.splitTextToSize(\n        String(row[column.key]),\n        xPositions[cIndex] - xPositions[cIndex !== 0 && cIndex - 1]\n      );\n      const rowHeight = longText.length * doc.getLineHeight();\n      rowHeights.push(rowHeight);\n\n      doc.text(longText, xPositions[cIndex], nextYPos);\n    });\n\n    nextYPos = nextYPos + padding + Math.max(...rowHeights, 30);\n    if (nextYPos > liveArea.height) {\n      doc.addPage();\n      nextYPos = baseYPosForRows;\n    }\n  });\n\n  doc.save(filename);\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"\n}), 'InsertDriveFile');\n\nexports.default = _default;"],"sourceRoot":""}