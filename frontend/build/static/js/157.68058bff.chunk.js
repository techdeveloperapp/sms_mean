(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[157],{1300:function(e,a){},1302:function(e,a){},1442:function(e,a,t){"use strict";t.r(a);var n=t(0),s=(t(27),t(1318)),u=(t(1294),t(10));Object(s.a)();a.default=function(){const[e,a]=Object(n.useState)([]),[t,i]=Object(n.useState)(!1),[l,c]=Object(n.useState)(null),[r,o]=Object(n.useState)(null),[m,d]=Object(n.useState)(null),v=Object(n.useRef)(null),f=Object(n.useRef)(null),S=Object(n.useRef)(null),[b,w]=Object(n.useState)({Students:[{name:"New Registration",value:!1},{name:"View Student Details",value:!1},{name:"Edit Student",value:!1},{name:"Student List",value:!1},{name:"Manage Scholarships",value:!1},{name:"Record Attendance",value:!1},{name:"Manage Section",value:!1},{name:"Manage Campuses",value:!1},{name:"Manage Dormitories",value:!1},{name:"Promotions/Demotions",value:!1},{name:"Prefects",value:!1},{name:"View Past Students",value:!1},{name:"View Withdrawn Students",value:!1},{name:"Delete Student",value:!1},{name:"Withdraw Student",value:!1},{name:"Re-enroll withdrawn Student",value:!1}],Academics:[{name:"Manage Divisions",value:!1},{name:"Manage Classes",value:!1},{name:"Manage Subjects",value:!1},{name:"Manage Calendar",value:!1},{name:"Notes",value:!1},{name:"SBA",value:!1},{name:"Year Groups",value:!1},{name:"Terminal Reports",value:!1},{name:"Manage Letters / Correspondences",value:!1}],HR:[{name:"Manage Departments",value:!1},{name:"Add Staff",value:!1},{name:"View Staff List/Details",value:!1},{name:"Edit Staff Details",value:!1},{name:"Staff Payroll",value:!1},{name:"PAYE Deductions",value:!1},{name:"Trustee",value:!1},{name:"SSNIT Contributions",value:!1},{name:"Staff Bank Details",value:!1},{name:"PAYE Calculator",value:!1},{name:"Delete/Archive Staff",value:!1}],Library:[{name:"Books categories",value:!1},{name:"Books",value:!1}],Finance:[{name:"View Set fees",value:!1},{name:"Set/Delete Fees",value:!1},{name:"Prepare Bill",value:!1},{name:"Bill Payment",value:!1},{name:"Initiate e-Payment Request",value:!1},{name:"Non-billable items payment",value:!1},{name:"View Payments",value:!1},{name:"Debtors Inventory module (View only)",value:!1}],VideoStream:[{name:"View Set fees",value:!1}]});return Object(n.useEffect)((()=>{i(!0),v.current=Object(s.a)("https://toupgradeonlineapi.prekshaeyeyoga.com:8080");const e=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return e.onicecandidate=e=>{e.candidate&&v.current.emit("candidate",e.candidate)},e.ontrack=e=>{o(e.streams[0])},d(e),v.current.on("offer",(async a=>{await e.setRemoteDescription(new RTCSessionDescription(a));const t=await e.createAnswer();await e.setLocalDescription(t),v.current.emit("answer",t)})),v.current.on("answer",(async a=>{await e.setRemoteDescription(new RTCSessionDescription(a))})),v.current.on("candidate",(async a=>{await e.addIceCandidate(new RTCIceCandidate(a))})),()=>{v.current.disconnect()}}),[]),Object(n.useEffect)((()=>{r&&(S.current.srcObject=r)}),[r]),Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("video",{ref:f,autoPlay:!0,muted:!0}),Object(u.jsx)("video",{ref:S,autoPlay:!0}),Object(u.jsx)("button",{onClick:async()=>{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});c(e),f.current.srcObject=e,e.getTracks().forEach((a=>m.addTrack(a,e)))},children:"Start Video"}),Object(u.jsx)("button",{onClick:async()=>{const e=await m.createOffer();await m.setLocalDescription(e),v.current.emit("offer",e)},children:"Call"})]})})}}}]);
//# sourceMappingURL=157.68058bff.chunk.js.map