(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[134],{1275:function(e,t,a){"use strict";var n=a(609),l=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=l(a(0)),s=(0,n(a(610)).default)(c.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=s},1456:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(457),s=a(941),i=a(942),d=a(937),o=a(939),r=a(940),j=a(686),b=a(1411),h=a(938),u=a(816),v=a(1304),O=a(621),m=a.n(O),x=a(630),p=a.n(x),g=a(629),f=a(617),w=a.n(f),C=a(1275),N=a.n(C),_=a(792),y=a(10);const M=Object(c.a)({table:{width:"100%"}});function S(e){var t;let{data:a,tableHeader:n,handleEdit:c,handleDelete:O,handleView:x,loading:f,handleViewCorrespondance:C,noActions:S}=e;const P=M(),[k,V]=l.a.useState(0),[E,z]=l.a.useState(5),A=E-Math.min(E,(null===a||void 0===a?void 0:a.length)-k*E);return Object(y.jsx)(r.a,{component:u.a,children:Object(y.jsxs)(s.a,{className:P.table,"aria-label":"custom pagination table",children:[Object(y.jsx)(d.a,{children:Object(y.jsxs)(h.a,{children:[n&&(null===n||void 0===n?void 0:n.map((e=>Object(y.jsx)(o.a,{children:e.name},e.id)))),!S&&Object(y.jsx)(o.a,{children:"Actions"})]})}),f?Object(y.jsx)(i.a,{className:"text-center my-5 w-100",children:Object(y.jsxs)(h.a,{children:[Object(y.jsx)(o.a,{children:Object(y.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(y.jsx)(o.a,{children:Object(y.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(y.jsx)(o.a,{children:Object(y.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(y.jsx)(o.a,{children:Object(y.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})]})}):Object(y.jsxs)(i.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(y.jsx)(h.a,{className:"text-center my-5",children:" No data "}):Object(y.jsx)(y.Fragment,{children:null===(t=E>0?null===a||void 0===a?void 0:a.slice(k*E,k*E+E):a)||void 0===t?void 0:t.map((e=>Object(y.jsxs)(h.a,{children:[n&&(null===n||void 0===n?void 0:n.map((t=>{var a,n;return Object(y.jsx)(o.a,{align:"left",children:(n=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(n)?null===(a=w()(e[null===t||void 0===t?void 0:t.id]))||void 0===a?void 0:a.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!S&&Object(y.jsx)(o.a,{align:"left",children:Object(y.jsxs)("div",{className:"d-flex align-items-center",children:[Object(y.jsx)(_.a,{title:"View",children:Object(y.jsx)(v.a,{onClick:()=>C(e._id),children:Object(y.jsx)(N.a,{})})}),Object(y.jsx)(_.a,{title:"Delete",children:Object(y.jsx)(v.a,{onClick:()=>O(e._id),children:Object(y.jsx)(p.a,{})})}),Object(y.jsx)(_.a,{title:"Edit",children:Object(y.jsx)(v.a,{onClick:()=>c(e._id),children:Object(y.jsx)(m.a,{})})})]})})]},e._id)))}),A>0&&Object(y.jsx)(h.a,{style:{height:53*A},children:Object(y.jsx)(o.a,{colSpan:6})})]}),Object(y.jsx)(j.a,{children:Object(y.jsx)(h.a,{children:(null===a||void 0===a?void 0:a.length)>5&&Object(y.jsx)(b.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:E,page:k,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,t)=>{V(t)},onChangeRowsPerPage:e=>{z(parseInt(e.target.value,10)),V(0)},ActionsComponent:g.a})})})]})})}var P=a(675),k=a(123),V=a(27),E=a(16),z=a(614);const A=[{id:"createdAt",name:"Created At"},{id:"subject",name:"Subject"},{id:"signature",name:"Created By"}];t.default=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)([]),[c,s]=Object(n.useState)([]),[i,d]=Object(n.useState)(!1),o=Object(E.g)();Object(n.useEffect)((()=>{d(!0),V.a.get("/correspondance").then((e=>{d(!1);let t=e.data;l(t),s(t)}))}),[]);const r=[{type:"text",label:"Search...",value:e,name:"name",onChange:t}],j=t=>{t.preventDefault();let a=[];e&&(a=c.filter((t=>(null===t||void 0===t?void 0:t.name.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))||(null===t||void 0===t?void 0:t.subject.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))))),l(a)};return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsx)(P.a,{title:"Correspondances",loading:i,inputFields:r,handleSearch:j,handleReset:e=>{e.preventDefault(),t(""),l(c)}})}),Object(y.jsx)("div",{className:"d-flex justify-content-end mb-3",children:Object(y.jsx)(k.b,{to:"/academics/correspondance/add",className:"btn btn-outline-info btn__lg",children:"Add New Correspondance"})}),Object(y.jsx)(S,{handleEdit:e=>{o.push("/academics/correspondance/edit/".concat(e))},handleSearch:j,handleDelete:e=>{window.confirm("are you sure you want to delete")&&V.a.delete("/correspondance/delete/".concat(e)).then((t=>{if(t.data.error)return Object(z.c)(t.data.error),0;l(a.filter((t=>t._id!==e)))}))},data:a,handleViewCorrespondance:e=>{o.push("/academics/correspondance/view/".concat(e))},tableHeader:A})]})}},621:function(e,t,a){"use strict";var n=a(609),l=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=l(a(0)),s=(0,n(a(610)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=s},629:function(e,t,a){"use strict";a(0);var n=a(457),l=a(160),c=a(1304),s=a(626),i=a.n(s),d=a(628),o=a.n(d),r=a(627),j=a.n(r),b=a(625),h=a.n(b),u=a(10);const v=Object(n.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));t.a=function(e){const t=v(),a=Object(l.a)(),{count:n,page:s,rowsPerPage:d,onChangePage:r}=e;return Object(u.jsxs)("div",{className:t.root,children:[Object(u.jsx)(c.a,{onClick:e=>{r(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===a.direction?Object(u.jsx)(h.a,{}):Object(u.jsx)(i.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{r(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===a.direction?Object(u.jsx)(j.a,{}):Object(u.jsx)(o.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{r(e,s+1)},disabled:s>=Math.ceil(n/d)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(u.jsx)(o.a,{}):Object(u.jsx)(j.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{r(e,Math.max(0,Math.ceil(n/d)-1))},disabled:s>=Math.ceil(n/d)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(u.jsx)(i.a,{}):Object(u.jsx)(h.a,{})})]})}},630:function(e,t,a){"use strict";var n=a(609),l=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=l(a(0)),s=(0,n(a(610)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=s},675:function(e,t,a){"use strict";a(0);var n=a(10);t.a=function(e){let{inputFields:t,title:a,handleSearch:l,isReset:c,handleReset:s,noActions:i}=e;return Object(n.jsxs)("form",{className:"mb-5 content__container",children:[Object(n.jsx)("h3",{className:"mb-3",children:a||""}),Object(n.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((e=>Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(n.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(n.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value),className:"form-select form-select-sm py-2",children:[Object(n.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((e=>Object(n.jsx)("option",{value:e.id,children:e.name},e.id))):Object(n.jsx)("option",{disabled:!0,children:"No data "})]}):Object(n.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value)})]},null===e||void 0===e?void 0:e.name))),!i&&Object(n.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("button",{className:"btn orange__btn ",onClick:l,children:"Search"})}),!c&&Object(n.jsx)("div",{className:" mb-3 ml-3",children:Object(n.jsx)("button",{onClick:s,className:"btn blue__btn ",children:"Reset"})})]})]})]})}}}]);
//# sourceMappingURL=134.2a3cef9f.chunk.js.map