{"version":3,"sources":["pages/forget/ForgetPassword.js","utils.js"],"names":["Login","userId","setuserId","useState","isSend","setisSend","email","setemail","loading","setloading","register","handleSubmit","errors","useForm","_jsx","className","children","CContainer","CRow","CCol","md","CCardGroup","CCard","CCardBody","_jsxs","CForm","CInputGroup","CInputGroupPrepend","CInputGroupText","CIcon","name","value","ref","required","onChange","e","target","type","placeholder","autoComplete","pattern","getEmailPattern","Link","to","xs","CButton","disabled","onClick","handleSignin","axios","post","userID","then","res","data","error","console","log","errorAlert","successAlert","concat","catch","err","color","_Fragment","role","text","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getYearsList","length","min","Date","getFullYear","max","yearArray","arr","index","push","currentCurrency","getYearsPast","getID","Math","random","toString","substr","getTrimString","str","getCapitalize","string","charAt","toUpperCase","substring","getIntial","slice","getImgSrc","src","timeStamp","time","_moment2","_moment","_moment3","_moment4","moment","format","subtract","combineDateAndTime","date","year","month","getMonth","day","getDate","separateDateandTime","d","getHours","getMinutes"],"mappings":"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","file":"static/js/173.dca4f5a4.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../store/axios\";\nimport { useForm } from \"react-hook-form\";\nimport { errorAlert, successAlert, getEmailPattern } from \"../../utils\";\n\nconst Login = () => {\n  const [userId, setuserId] = useState(\"\");\n  const [isSend, setisSend] = useState(false);\n  const [email, setemail] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n\n  const handleSignin = () => {\n    setloading(true);\n    axios\n      .post(\"/forgetpassword\", { userID: userId, email })\n      .then((res) => {\n        const { data } = res;\n        setloading(false);\n        if (data.error) {\n          console.log(data);\n          errorAlert(data.error);\n          return 0;\n        }\n        successAlert(`Email has been send to ${email} `);\n        setisSend(true);\n      })\n      .catch((err) => {\n        console.log(err);\n        setloading(false);\n        errorAlert(\"Connection  error try again later\");\n      });\n  };\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Forget Password</h1>\n                    <p className=\"text-muted\">\n                      Enter your email and you will receive an email to reset\n                      password\n                    </p>\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <input\n                        value={userId}\n                        className=\"form-control  col-6\"\n                        name=\"userId\"\n                        ref={register({ required: true })}\n                        onChange={(e) => setuserId(e.target.value)}\n                        type=\"text\"\n                        required\n                        placeholder=\"ID\"\n                        autoComplete=\"username\"\n                      />\n                      <br />\n                    </CInputGroup>\n                    {errors.userId && (\n                      <p className=\"d-flex form-error text-danger mb-2\">\n                        This field is required\n                      </p>\n                    )}\n                    <CInputGroup className=\"mb-2\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <input\n                        type=\"email\"\n                        className=\"form-control  col-6\"\n                        placeholder=\"Email\"\n                        name=\"email\"\n                        ref={register({\n                          required: true,\n                          pattern: getEmailPattern(),\n                        })}\n                        value={email}\n                        required\n                        onChange={(e) => setemail(e.target.value)}\n                        autoComplete=\"current-password\"\n                      />\n                      <br />\n                    </CInputGroup>\n                    {errors.email && (\n                      <span className=\"form-error text-danger mb-2\">\n                        Valid email is required\n                      </span>\n                    )}\n                    <p>\n                      {isSend && (\n                        <p>\n                          If you haven't received the email Click resend button\n                          below\n                        </p>\n                      )}\n                    </p>\n                    <CRow>\n                      <CCol className=\"mb-3\">\n                        <Link to=\"/login\">Login in your account</Link>\n                      </CCol>\n                    </CRow>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton\n                          disabled={loading}\n                          onClick={handleSubmit(handleSignin)}\n                          type=\"submit\"\n                          color=\"primary\"\n                          className=\"px-4\"\n                        >\n                          {loading ? (\n                            <>\n                              <span\n                                className=\"spinner-border spinner-border-sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                              ></span>\n                              <span className=\"visually-hidden\">\n                                Loading...\n                              </span>\n                            </>\n                          ) : (\n                            <>{isSend ? \"Resend\" : \"Submit\"}</>\n                          )}\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              {/* \n              <CCard\n               \n              > */}\n              {/* <CCardBody className=\"text-center\">\n                  <div>\n                    <img src={logo} alt=\"logo\" />\n                    <h2>Welcome Back</h2>\n                    <p>\n                      Lorem ipsum dolor sit amet, consectetur adipisicing elit,\n                      sed do eiusmod tempor incididunt ut labore et dolore magna\n                      aliqua.\n                    </p>\n                  </div>\n                </CCardBody> */}\n              {/* </CCard> */}\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  );\n};\n\nexport default Login;\n","//import {API_BASE_URL} from './api'\nimport moment from \"moment\";\nimport { toast } from \"react-toastify\";\n\nexport const successAlert = (text) => {\n  return toast.success(text, {\n    position: \"top-right\",\n    autoClose: false,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\nexport const errorAlert = (text) => {\n  return toast.error(text, {\n    position: \"top-right\",\n    autoClose: false,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n  });\n};\n\nexport const getYearsList = (length) => {\n  const min = new Date().getFullYear();\n  const max = min + length;\n\n  const yearArray = () => {\n    let arr = [];\n    for (let index = min; index < max; index++) {\n      arr.push(index);\n    }\n    return arr;\n  };\n\n  return yearArray();\n};\n\nexport const currentCurrency = () => {\n  return \"GH¢\";\n};\n\nexport const getYearsPast = (length) => {\n  const max = new Date().getFullYear();\n  const min = max - length;\n\n  const yearArray = () => {\n    let arr = [];\n    for (let index = max; index > min; index--) {\n      arr.push(index);\n    }\n    return arr;\n  };\n\n  return yearArray();\n};\n\nexport const getEmailPattern = () =>\n  /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const getID = function () {\n  return Math.random().toString(36).substr(2, 9);\n};\n\nexport const getTrimString = (str, length) => {\n  if (str.length > length) {\n    console.log(str, length);\n    return str.substr(0, length) + \"...\";\n  }\n  return str;\n};\n\nexport const getCapitalize = (string) => {\n  if (string) {\n    return string.charAt(0).toUpperCase() + string.substring(1);\n  } else return null;\n};\n\nexport const getLowerCase = (string) => {\n  if (string) {\n    return string.toLowerCase();\n  } else return null;\n};\n\nexport const getIntial = (name) => {\n  if (name) {\n    return name.slice(0, 1).toUpperCase();\n  }\n  return null;\n};\n\nexport const getImgSrc = (src) => {\n  return `${src}`;\n};\n\nexport const timeStamp = (time) => {\n  if (moment().format(\"dddd\") === moment(time).format(\"dddd\")) {\n    return `Today ${moment(time)?.format(\"h:mm a\")}`;\n  } else if (\n    moment().subtract(1, \"days\").format(\"dddd\") === moment(time)?.format(\"dddd\")\n  ) {\n    return `Yesterday ${moment(time)?.format(\"h:mm a\")}`;\n  } else {\n    return moment(time)?.format(\"dddd,  h:mm a\");\n  }\n};\n\nexport const combineDateAndTime = function (date, time) {\n  console.log(time, \"tieme\");\n  // let d = new Date();\n  // time =   d.setTime(time);\n\n  date = new Date(date);\n  console.log(date, \"date\");\n\n  var year = date.getFullYear();\n  var month = date.getMonth() + 1; // Jan is 0, dec is 11\n  var day = date.getDate();\n  var dateString = \"\" + year + \"-\" + month + \"-\" + day;\n  var combined = new Date(dateString + \" \" + time);\n\n  return combined;\n};\n\nexport const separateDateandTime = (date) => {\n  const d = new Date(date);\n\n  var year = d.getFullYear();\n  var month = d.getMonth() + 1; // Jan is 0, dec is 11\n  var da = d.getDate();\n  var hours = d.getHours();\n  var minutes = d.getMinutes();\n  var day = \"\" + year + \"-\" + month + \"-\" + da;\n  var time = \"\" + hours + \": \" + minutes;\n\n  return { day, time };\n};\n\nexport const sortArray = (arr) => {\n  arr.sort(function (x, y) {\n    return x.updatedAt - y.updatedAt;\n  });\n};\n"],"sourceRoot":""}