(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[112],{1452:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(457),s=a(941),i=a(942),o=a(937),d=a(939),r=a(940),j=a(686),u=a(1411),b=a(938),v=a(816),h=a(1304),O=a(621),m=a.n(O),x=a(630),p=a.n(x),f=a(629),g=a(617),N=a.n(g),w=a(614),C=a(10);const y=Object(c.a)({table:{width:"100%"}});function M(e){var t;let{data:a,tableHeader:l,handleEdit:c,handleDelete:O,loading:x,isEdit:g,user:M}=e;const _=y(),[P,L]=n.a.useState(0),[S,D]=n.a.useState(5),E=S-Math.min(S,(null===a||void 0===a?void 0:a.length)-P*S);return Object(C.jsx)(r.a,{component:v.a,children:Object(C.jsxs)(s.a,{className:_.table,"aria-label":"custom pagination table",children:[Object(C.jsx)(o.a,{children:Object(C.jsxs)(b.a,{children:[l&&(null===l||void 0===l?void 0:l.map((e=>Object(C.jsx)(d.a,{children:e.name},e.id)))),Object(C.jsx)(d.a,{children:"Actions"})]})}),x?Object(C.jsx)(i.a,{className:"text-center my-5 w-100",children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(d.a,{children:Object(C.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(C.jsx)(d.a,{children:Object(C.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(C.jsx)(d.a,{children:Object(C.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})}),Object(C.jsx)(d.a,{children:Object(C.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})]})}):Object(C.jsxs)(i.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(C.jsx)(b.a,{className:"text-center my-5",children:"  No data yet "}):Object(C.jsx)(C.Fragment,{children:null===(t=S>0?null===a||void 0===a?void 0:a.slice(P*S,P*S+S):a)||void 0===t?void 0:t.map((e=>{var t;return Object(C.jsxs)(b.a,{children:[Object(C.jsx)(d.a,{align:"left",children:null===(t=N()(null===e||void 0===e?void 0:e.date))||void 0===t?void 0:t.format("D MMMM YYYY")}),Object(C.jsx)(d.a,{align:"left",children:Object(w.i)(null===e||void 0===e?void 0:e.topic,30)}),Object(C.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.courseID}),Object(C.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.classID}),Object(C.jsx)(d.a,{align:"left",children:null===e||void 0===e?void 0:e.senderID}),Object(C.jsx)(d.a,{align:"left",children:Object(C.jsx)("a",{href:"".concat(Object(w.g)(null===e||void 0===e?void 0:e.file)),children:null===e||void 0===e?void 0:e.file})}),Object(C.jsx)(d.a,{align:"left",children:Object(C.jsx)("div",{className:"d-flex align-items-center",children:e.senderID===M&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{onClick:()=>O(e._id),children:Object(C.jsx)(p.a,{})}),!g&&Object(C.jsx)(h.a,{onClick:()=>c(e._id),children:Object(C.jsx)(m.a,{})})]})})})]})}))}),E>0&&Object(C.jsx)(b.a,{style:{height:53*E},children:Object(C.jsx)(d.a,{colSpan:6})})]}),Object(C.jsx)(j.a,{children:Object(C.jsx)(b.a,{children:(null===a||void 0===a?void 0:a.length)>0&&Object(C.jsx)(u.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:S,page:P,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,t)=>{L(t)},onChangeRowsPerPage:e=>{D(parseInt(e.target.value,10)),L(0)},ActionsComponent:f.a})})})]})})}var _=a(123),P=a(675),L=a(16),S=a(27),D=a(84),E=a(59);const k=[{id:"date",name:"Added"},{id:"topic",name:"Topic"},{id:"courseID",name:"Course"},{id:"classID",name:"Class"},{id:"senderId",name:"Teacher"},{id:"file",name:"File"}];t.default=function(){const[e,t]=Object(l.useState)(""),[a,n]=Object(l.useState)(""),[c,s]=Object(l.useState)(""),[i,o]=Object(l.useState)([]),[d,r]=Object(l.useState)([]),j=Object(L.g)(),u=Object(D.c)(E.d);console.log(i),Object(l.useEffect)((()=>{S.a.get("/notes").then((e=>{o(e.data),r(e.data)}))}),[]);const b=[{type:"text",name:"subject",label:"Search by Course",value:e,onChange:t},{type:"text",name:"class",label:"Search by Class",value:a,onChange:n},{type:"text",name:"teacher",label:"Search by Teacher",value:c,onChange:s}];return Object(C.jsxs)("div",{children:[Object(C.jsx)(P.a,{title:"Academics Notes",handleReset:e=>{e.preventDefault(),s(""),n(""),t(""),o(d)},handleSearch:t=>{t.preventDefault();let l=[];a&&(l=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.classID)||void 0===t?void 0:t.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase())}))),e&&(l=d.filter((t=>{var a;return null===t||void 0===t||null===(a=t.courseID)||void 0===a?void 0:a.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())}))),c&&(l=d.filter((e=>{var t;return null===e||void 0===e||null===(t=e.senderId)||void 0===t?void 0:t.toLowerCase().includes(null===c||void 0===c?void 0:c.toLowerCase())}))),o(l)},inputFields:b}),Object(C.jsxs)("div",{className:"content__container",children:[Object(C.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(C.jsx)("h3",{children:"Notes List"}),Object(C.jsx)(_.b,{to:"/academics/notes/add",className:"btn blue__btn ",children:"Add Notes"})]}),Object(C.jsx)(M,{handleDelete:e=>{S.a.delete("/notes/delete/".concat(e)).then((t=>{t.data.error&&Object(w.c)(t.data.error),o(i.filter((t=>t._id!==e)))}))},handleEdit:e=>{j.push("/academics/notes/edit/".concat(e))},data:i,user:null===u||void 0===u?void 0:u.id,tableHeader:k})]})]})}},621:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=s},625:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");t.default=s},626:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage");t.default=s},627:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");t.default=s},628:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"KeyboardArrowLeft");t.default=s},629:function(e,t,a){"use strict";a(0);var l=a(457),n=a(160),c=a(1304),s=a(626),i=a.n(s),o=a(628),d=a.n(o),r=a(627),j=a.n(r),u=a(625),b=a.n(u),v=a(10);const h=Object(l.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));t.a=function(e){const t=h(),a=Object(n.a)(),{count:l,page:s,rowsPerPage:o,onChangePage:r}=e;return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(c.a,{onClick:e=>{r(e,0)},disabled:0===s,"aria-label":"first page",children:"rtl"===a.direction?Object(v.jsx)(b.a,{}):Object(v.jsx)(i.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{r(e,s-1)},disabled:0===s,"aria-label":"previous page",children:"rtl"===a.direction?Object(v.jsx)(j.a,{}):Object(v.jsx)(d.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{r(e,s+1)},disabled:s>=Math.ceil(l/o)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(v.jsx)(d.a,{}):Object(v.jsx)(j.a,{})}),Object(v.jsx)(c.a,{onClick:e=>{r(e,Math.max(0,Math.ceil(l/o)-1))},disabled:s>=Math.ceil(l/o)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(v.jsx)(i.a,{}):Object(v.jsx)(b.a,{})})]})}},630:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),s=(0,l(a(610)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=s},675:function(e,t,a){"use strict";a(0);var l=a(10);t.a=function(e){let{inputFields:t,title:a,handleSearch:n,isReset:c,handleReset:s,noActions:i}=e;return Object(l.jsxs)("form",{className:"mb-5 content__container",children:[Object(l.jsx)("h3",{className:"mb-3",children:a||""}),Object(l.jsxs)("div",{className:"row g-3 mb-3",children:[t&&t.map((e=>Object(l.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:[Object(l.jsx)("label",{htmlFor:"",children:e.label}),"select"===e.type?Object(l.jsxs)("select",{value:null===e||void 0===e?void 0:e.value,name:null===e||void 0===e?void 0:e.name,onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value),className:"form-select form-select-sm py-2",children:[Object(l.jsx)("option",{hidden:!0,defaultValue:!0,children:"Select"}),(null===e||void 0===e?void 0:e.options.length)>0?null===e||void 0===e?void 0:e.options.map((e=>Object(l.jsx)("option",{value:e.id,children:e.name},e.id))):Object(l.jsx)("option",{disabled:!0,children:"No data "})]}):Object(l.jsx)("input",{type:e.type,value:e.value,name:null===e||void 0===e?void 0:e.name,className:"form-control py-3",placeholder:"Search by ".concat(e.name),onChange:t=>null===e||void 0===e?void 0:e.onChange(t.target.value)})]},null===e||void 0===e?void 0:e.name))),!i&&Object(l.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-4 d-flex mt-5",children:[Object(l.jsx)("div",{className:"mb-3",children:Object(l.jsx)("button",{className:"btn orange__btn ",onClick:n,children:"Search"})}),!c&&Object(l.jsx)("div",{className:" mb-3 ml-3",children:Object(l.jsx)("button",{onClick:s,className:"btn blue__btn ",children:"Reset"})})]})]})]})}},686:function(e,t,a){"use strict";var l=a(1),n=a(14),c=a(0),s=a(30),i=a(97),o=a(622),d={variant:"footer"},r="tfoot",j=c.forwardRef((function(e,t){var a=e.classes,i=e.className,j=e.component,u=void 0===j?r:j,b=Object(n.a)(e,["classes","className","component"]);return c.createElement(o.a.Provider,{value:d},c.createElement(u,Object(l.a)({className:Object(s.a)(a.root,i),ref:t,role:u===r?null:"rowgroup"},b)))}));t.a=Object(i.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(j)}}]);
//# sourceMappingURL=112.ca472d19.chunk.js.map