(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[137],{1066:function(e,t,s){"use strict";s(0);var a=s(972),c=s.n(a),l=s(123),r=s(10);t.a=function(e){let{link:t,name:s}=e;return Object(r.jsx)("div",{className:"d-flex justify-content-end mb-5",children:Object(r.jsxs)(l.b,{to:t,className:"link",children:[s,Object(r.jsx)(c.a,{className:"icon"})]})})}},1223:function(e,t,s){"use strict";var a=s(0),c=s(638),l=s(27),r=s(84),n=s(26),d=s(935),i=s.n(d),o=s(1224),j=s.n(o),b=s(1338),u=s(10);t.a=function(e){const[t,s]=Object(a.useState)([]),d=Object(r.c)(n.e),o=Object(r.c)(n.c);let{type:h,teacher:m,setteacher:O,settype:p,name:v,setname:x,code:f,setcode:N,onSubmit:g,loading:y,isEdit:C,setclassesArr:_,classesArr:S}=e;console.log(S),Object(a.useEffect)((()=>{l.a.get("/teachers/teachers").then((e=>{s(e.data)}))}),[]);const{register:w,handleSubmit:A,errors:k}=Object(c.a)();return Object(u.jsxs)("form",{action:"",onSubmit:A(g),children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Course Name"}),Object(u.jsx)("input",{type:"text",value:v,ref:w({required:!0}),onChange:e=>x(e.target.value),className:"form-control",name:"name"}),k.name&&Object(u.jsx)("span",{className:" form-error text-danger mb-2",children:"This field is required"})]}),!C&&Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Course Code"}),Object(u.jsx)("input",{type:"text",value:f,ref:w({required:!0}),onChange:e=>N(e.target.value),className:"form-control",name:"code"}),k.code&&Object(u.jsx)("span",{className:"form-error text-danger mb-2",children:"This field is required"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Departments"}),Object(u.jsxs)("select",{name:"type",value:h,onChange:e=>p(e.target.value),id:"inputState",className:"form-select",children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),d.length>0?d.map((e=>Object(u.jsx)("option",{value:e.code,children:e.name},e._id))):Object(u.jsx)("option",{disabled:!0,children:"No departments yet"})]})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("div",{className:"d-flex justify-content-between mb-3",children:Object(u.jsx)("label",{className:"form-label",children:"Classes"})}),Object(u.jsx)("div",{className:"mb-3",children:S&&S.map((e=>Object(u.jsxs)("div",{className:" row",children:[Object(u.jsx)("div",{className:"col-sm-5 mb-3",children:Object(u.jsxs)("select",{name:"type",value:e.class,onChange:t=>{return s=t.target.value,a=e._id,void _(S.map((e=>e._id===a?{_id:a,class:s,teacher:e.teacher}:e)));var s,a},id:"inputState",className:"form-select",children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),o.length>0?o.map((e=>Object(u.jsx)("option",{value:e.classCode,children:e.name},e._id))):Object(u.jsx)("option",{disabled:!0,children:"No classes yet yet"})]})}),Object(u.jsx)("div",{className:"col-sm-5",children:Object(u.jsxs)("select",{name:"type",value:e.teacher,onChange:t=>{return s=t.target.value,a=e._id,void _(S.map((e=>e._id===a?{_id:a,class:e.class,teacher:s}:e)));var s,a},id:"inputState",className:"form-select",children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((e=>Object(u.jsxs)("option",{value:e.userID,children:[e.name," ",""," ",e.surname]},e._id))):Object(u.jsx)("option",{disabled:!0,children:"No teachers registered yet"})]})}),Object(u.jsx)("div",{className:"col-sm-2",children:Object(u.jsx)(b.a,{onClick:()=>(e=>{let t=S.filter((t=>t._id!==e));console.log(t),_(t)})(e._id),children:Object(u.jsx)(i.a,{})})})]},e._id)))}),Object(u.jsx)("div",{className:"d-flex justify-content-start",children:Object(u.jsxs)("button",{type:"button",onClick:()=>{let e=Math.random().toString(16).slice(2);_([...S,{class:"",teacher:"",_id:e}])},className:"btn ",children:[Object(u.jsx)(j.a,{}),"Add Class"," "]})})]}),Object(u.jsxs)("div",{className:"mb-5",children:[Object(u.jsx)("label",{className:"form-label",children:"Head Teacher"}),Object(u.jsxs)("select",{name:"type",value:m,onChange:e=>O(e.target.value),id:"inputState",className:"form-select",children:[Object(u.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),t.length>0?t.map((e=>Object(u.jsxs)("option",{value:null===e||void 0===e?void 0:e.userID,children:[e.name," ",e.surname]},null===e||void 0===e?void 0:e.userID))):Object(u.jsx)("option",{disabled:!0,children:"No data"})]})]}),Object(u.jsx)("div",{className:"mb-3",children:Object(u.jsxs)("button",{disabled:y,type:"submit",className:"btn blue__btn",children:[y&&Object(u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),C?"Save Changes":"Add"]})})]})}},1224:function(e,t,s){"use strict";var a=s(609),c=s(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(s(0)),r=(0,a(s(610)).default)(l.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.default=r},1383:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(1223),l=s(1066),r=s(27),n=s(614),d=s(84),i=s(26),o=s(10);t.default=function(){const[e,t]=Object(a.useState)(""),[s,j]=Object(a.useState)(""),[b,u]=Object(a.useState)(""),[h,m]=Object(a.useState)(""),[O,p]=Object(a.useState)(""),[v,x]=Object(a.useState)([{_id:"",teacher:"",class:""}]),[f,N]=Object(a.useState)(""),g=Object(d.b)(),y=Object(d.c)(i.d);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(l.a,{link:"/academics/courses",name:"Go back to Courses List"}),Object(o.jsxs)("div",{className:"content__container",children:[Object(o.jsx)("h3",{children:"Add New Course"}),Object(o.jsx)(c.a,{onSubmit:()=>{u(!0);let a=(e=>{let t=[];return e.map((e=>{t.find((t=>t.class===e.class||t.teacher===e.teacher))||t.push(e)})),t})(v.filter((e=>""!==e.class||""!==e.teacher)));r.a.post("/courses/create",{name:e,code:s,type:h,teacher:O,classID:f,classes:a}).then((e=>{if(e.data.error)return u(!1),Object(n.c)(e.data.error),0;g(Object(i.r)([e.data.doc,...y])),u(!1),Object(n.m)("successfull added"),t(""),j(""),p(""),m(""),x([])})).catch((()=>{u(!1),Object(n.c)("sorry something when wrong")}))},name:e,handleSetclasses:e=>{N(e);let t=v.push(e);x(t)},setname:t,code:s,teacher:O,setteacher:p,type:h,setclassesArr:x,classesArr:v,classID:f,settype:m,loadin:b,setcode:j})]})]})}},935:function(e,t,s){"use strict";var a=s(609),c=s(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(s(0)),r=(0,a(s(610)).default)(l.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");t.default=r},972:function(e,t,s){"use strict";var a=s(609),c=s(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=c(s(0)),r=(0,a(s(610)).default)(l.createElement("path",{d:"M5.88 4.12L13.76 12l-7.88 7.88L8 22l10-10L8 2z"}),"ArrowForwardIos");t.default=r}}]);
//# sourceMappingURL=137.b910c0c1.chunk.js.map