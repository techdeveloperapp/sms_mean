(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[153],{1114:function(e,t,s){"use strict";s(0);var a=s(457),l=s(941),n=s(942),c=s(939),r=s(940),i=s(937),o=s(938),d=s(816),j=s(1239),b=s.n(j),u=s(621),m=s.n(u),x=s(10);const O=Object(a.a)({table:{width:"100%"}});t.a=function(e){let{rows:t,handleEdit:s,examMark:a,classWorkPercentage:j,examPercentage:u,setexamMark:h,classworkMark:v,setclassworkMark:f,handleOpenPercentage:p}=e;const g=O(),N=(e,t)=>{if(!e&&!t)return"-";let s=W(e,t);return s>=75&&s<=100?"A1":s>=70&&s<=74?"B2":s>=65&&s<=69?"B3":s>=60&&s<=64?"C4":s>=55&&s<=59?"C5":s>=50&&s<=54?"C6":s>=45&&s<=49?"D7":s>=40&&s<=44?"E8":s>=0&&s<=39?"F9":null},k=(e,t)=>{if(!e&&!t)return"-";let s=W(e,t);return s=Number(s),s>75&&s<=100?"Excellent":s>=70&&s<=74?"Vert good":s>=65&&s<=69?"Good":s>=60&&s<=64||s>=55&&s<=59||s>=50&&s<=54?"Credit":s>=45&&s<=49||s>=40&&s<=44?"Pass":s>=0&&s<=39?"Failure":null},S=(e,t,s)=>{if(e&&t&&s){let a=Number(e)/Number(s)*(Number(t)/100);return Number(100*a).toFixed(0)}return null},C=(e,t,s)=>{if(e&&t&&s){let a=Number(e)/Number(s)*(Number(t)/100);return Number(100*a).toFixed(0)}return null},W=(e,t)=>{if(!e&&!t)return"-";let s=Number(e)/Number(v||0)*(Number(j||0)/100),l=Number(t)/Number(a)*(Number(u||0)/100);return(100*Number(l+s)).toFixed(0)};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"mb-5",children:"Continuous Assessment"}),Object(x.jsx)(r.a,{className:"mb-5",component:d.a,children:Object(x.jsxs)(l.a,{className:g.table,"aria-label":"spanning table",children:[Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.a,{children:[Object(x.jsx)(c.a,{align:"left",children:"ID"}),Object(x.jsx)(c.a,{align:"left",colSpan:3,children:"Name of Student"}),Object(x.jsxs)(c.a,{align:"left",children:["Class Work",Object(x.jsx)("input",{className:"form-control",name:"classworkMark",type:"number",onChange:e=>f(e.target.value),value:v})]}),Object(x.jsxs)(c.a,{align:"left",children:["Class Work (",j,"%)",Object(x.jsxs)("button",{onClick:()=>p(),className:"btn",children:["Set ",Object(x.jsx)(m.a,{})]})]}),Object(x.jsxs)(c.a,{align:"left",children:["Exam",Object(x.jsx)("input",{className:"form-control",type:"number",onChange:e=>h(e.target.value),value:a})," "]}),Object(x.jsxs)(c.a,{align:"left",children:["Exam (",u,"%)",Object(x.jsxs)("button",{onClick:()=>p(),className:"btn",children:["Set ",Object(x.jsx)(m.a,{})]})]}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("small",{children:"Total 100%"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("small",{children:"Grade"})}),Object(x.jsxs)(c.a,{align:"left",children:[" ",Object(x.jsx)("small",{children:"Interpretation"})]}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("small",{children:"Position"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("small",{children:"Set"})})]})}),Object(x.jsx)(n.a,{children:(null===t||void 0===t?void 0:t.length)>0?Object(x.jsx)(x.Fragment,{children:null===t||void 0===t?void 0:t.map((e=>Object(x.jsxs)(o.a,{children:[Object(x.jsx)(c.a,{children:null===e||void 0===e?void 0:e.userID}),Object(x.jsx)(c.a,{colSpan:3,align:"left",children:null===e||void 0===e?void 0:e.name}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:(null===e||void 0===e?void 0:e.classWork)||"-",type:"text",className:"form-control"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:S(null===e||void 0===e?void 0:e.classWork,j,v),type:"text",className:"form-control"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:null===e||void 0===e?void 0:e.exam,type:"text",className:"form-control"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("input",{readOnly:!0,value:C(null===e||void 0===e?void 0:e.exam,u,a),type:"text",className:"form-control"})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",null===e||void 0===e?void 0:e.total]})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",N(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsxs)("small",{children:[" ",k(null===e||void 0===e?void 0:e.classWork,null===e||void 0===e?void 0:e.exam)]})}),Object(x.jsxs)(c.a,{align:"left",children:[" ",Object(x.jsx)("small",{children:null===e||void 0===e?void 0:e.position})," "]}),Object(x.jsx)(c.a,{align:"left",children:Object(x.jsx)("button",{onClick:()=>s(null===e||void 0===e?void 0:e.userID),className:"btn btn-sm",children:Object(x.jsx)(b.a,{})})})]},null===e||void 0===e?void 0:e.userID)))}):Object(x.jsxs)(c.a,{colSpan:10,children:[Object(x.jsx)("strong",{children:"There are no students in this class"})," "]})})]})})]})}},1115:function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var a=s(0),l=s.n(a),n=s(457),c=s(711),r=s(961),i=s(1237),o=s(1304),d=s(1268),j=s(633),b=s.n(j),u=s(1e3),m=s(637),x=s(10);const O=Object(n.a)((e=>({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}))),h=l.a.forwardRef((function(e,t){return Object(x.jsx)(u.a,{direction:"up",ref:t,...e})}));function v(e){let{open:t,setOpen:s,name:a,userID:l,exam:n,setexam:j,classWork:u,setclassWork:v,onSubmit:f,classID:p,loading:g,position:N,setposition:k,classworkMark:S,examMark:C}=e;const W=O(),{register:D,handleSubmit:I,errors:w}=Object(m.a)(),M=()=>{k(""),v(""),j(""),s(!1)};return Object(x.jsxs)(c.a,{fullScreen:!0,open:t,onClose:M,TransitionComponent:h,children:[Object(x.jsx)(r.a,{color:"transparent",className:W.appBar,children:Object(x.jsxs)(i.a,{children:[Object(x.jsxs)(d.a,{variant:"h6",className:W.title,children:[a," - ",l]}),Object(x.jsx)(o.a,{edge:"start",color:"inherit",onClick:M,"aria-label":"close",children:Object(x.jsx)(b.a,{})})]})}),Object(x.jsxs)("form",{action:"",className:"m-5",children:[Object(x.jsxs)("h3",{className:"mb-5",children:["Set Grades for Class ",p," "]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsxs)("label",{className:"form-label",children:["Set ClassWork ( out of ",Number(S||0),")"]}),Object(x.jsx)("input",{value:u,ref:D({min:0,max:Number(S||0)+1}),onChange:e=>v(e.target.value),type:"number",className:"form-control col-sm-6",name:"a1"}),w.a1&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(S||0)]})]}),Object(x.jsxs)("div",{className:"mb-5",children:[Object(x.jsxs)("label",{className:"form-label",children:["Exam Mark (out of ",Number(C||0),")"]}),Object(x.jsx)("input",{value:n,ref:D({min:0,max:Number(C||0)+1}),onChange:e=>j(e.target.value),type:"number",className:"form-control col-6",name:"exams"}),w.exams&&Object(x.jsxs)("span",{className:" form-error text-danger mb-2",children:["out of (",Number(C||0)]})]}),Object(x.jsx)("div",{className:"mb-3",children:Object(x.jsxs)("button",{disabled:g,onClick:I(f),className:"btn blue__btn",children:[g&&Object(x.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Submit Changes"]})})]})]})}},1337:function(e,t,s){"use strict";s.r(t);var a=s(0),l=s(1114),n=s(1115),c=s(27),r=s(16),i=s(614),o=s(84),d=s(26),j=s(10);t.default=function(){const[e,t]=Object(a.useState)([]),[s,b]=Object(a.useState)(""),[u,m]=Object(a.useState)(!1),[x,O]=Object(a.useState)([]),h=Object(o.c)(d.n),[v,f]=Object(a.useState)({}),{id:p,classID:g}=Object(r.i)(),[N,k]=Object(a.useState)(""),[S,C]=Object(a.useState)(!1),[W,D]=Object(a.useState)(!1),[I,w]=Object(a.useState)(""),[M,y]=Object(a.useState)(""),[E,F]=Object(a.useState)("");return Object(a.useEffect)((()=>{c.a.get("/classes/classCode/".concat(g)).then((e=>{var s,a;if(null===(s=e.data.docs)||void 0===s||!s.sba||!1===(null===(a=e.data.docs)||void 0===a?void 0:a.sba))return D(!0),Object(i.c)("SBA not set for this class");c.a.get("/sba/".concat(g,"/").concat(p,"/").concat(null===h||void 0===h?void 0:h.currentYear,"/").concat(null===h||void 0===h?void 0:h.currentTerm)).then((e=>{var s,a,l;O(e.data.docs),t(null===(s=e.data.docs)||void 0===s?void 0:s.students),F(null===(a=e.data.docs)||void 0===a?void 0:a.classWork),w(null===(l=e.data.docs)||void 0===l?void 0:l.exam)}))}))}),[h,p,g]),Object(j.jsx)("div",{children:W?Object(j.jsx)("div",{children:"SBA is not set for this class"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{setclassWork:y,rows:e,handleEdit:e=>{if(!E)return Object(i.c)("Please set  classWork %");if(!I)return Object(i.c)("Please set  exam score %");m(!0);let t=x.students.find((t=>t.userID===e));f(t),b(null===t||void 0===t?void 0:t.exam),y(null===t||void 0===t?void 0:t.classWork),k(null===t||void 0===t?void 0:t.position)},examMark:I,setexamMark:w,classworkMark:E,setclassworkMark:F}),Object(j.jsx)(n.a,{name:null===v||void 0===v?void 0:v.name,userID:null===v||void 0===v?void 0:v.userID,exam:s,classworkMark:E,examMark:I,classID:g,loading:S,setposition:k,position:N,setexam:b,setclassWork:y,classWork:M,open:u,onSubmit:async()=>{C(!0),await c.a.put("/sba/update/".concat(null===x||void 0===x?void 0:x._id),{exam:I,classWork:E}),c.a.put("/sba/update/student/".concat(null===x||void 0===x?void 0:x._id,"/").concat(null===v||void 0===v?void 0:v.userID),{classWork:M,exam:s,userID:null===v||void 0===v?void 0:v.userID,name:null===v||void 0===v?void 0:v.name,position:N}).then((e=>{var s;m(!1),C(!1),t(null===(s=e.data.doc)||void 0===s?void 0:s.students)}))},setOpen:m})," "]})})}}}]);
//# sourceMappingURL=153.b79090d6.chunk.js.map