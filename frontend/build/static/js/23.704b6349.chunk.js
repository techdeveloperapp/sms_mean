(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[23],{1370:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a(646),c=a(123),i=a(27),d=a(16),s=a(614),r=a(59),o=a(84),j=a(10);const b=[{id:"resource",name:"Type"},{id:"title",name:"Event"},{id:"day",name:"Date"},{id:"start",name:"Starts"},{id:"end",name:"Ends"}];t.default=function(){const[e,t]=Object(l.useState)([]),a=Object(d.g)(),[h,u]=Object(l.useState)([]),v=Object(o.c)(r.d),[O,x]=Object(l.useState)("");return Object(l.useEffect)((()=>{i.a.get("/calendar").then((e=>{let a=e.data.map((e=>{var t,a;return{...e,start:null!==e&&void 0!==e&&e.allDay?"All day":null===e||void 0===e||null===(t=e.start)||void 0===t?void 0:t.replace(/^[^:]*([0-2]\d:[0-5]\d).*$/,"$1"),end:null!==e&&void 0!==e&&e.allDay?"-":null===e||void 0===e||null===(a=e.end)||void 0===a?void 0:a.replace(/^[^:]*([0-2]\d:[0-5]\d).*$/,"$1")}}));t(a),u(a)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"row mb-5",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),O){let e=h.filter((e=>e.title.toLowerCase().includes(O.toLowerCase())));t(e)}else t(h)},className:"d-flex align-items-stretch",children:[Object(j.jsx)("input",{value:O,onChange:e=>x(e.target.value),type:"text",className:"form-control",placeholder:"Search by name"}),Object(j.jsx)("button",{className:"btn blue__btn",children:"Search"})]})}),Object(j.jsxs)("div",{className:"col",children:["admin"===(null===v||void 0===v?void 0:v.role)&&Object(j.jsx)(c.b,{to:"/academics/calender/add",className:"btn btn__lg blue__btn",children:"Add New Event"}),Object(j.jsx)(c.b,{to:"/academics/calender/view",className:"btn btn__lg blue__btn ml-2",children:"View Calendar"})]})]}),Object(j.jsx)(n.a,{data:e,handleDelete:a=>{i.a.delete("/calendar/delete/".concat(a)).then((l=>{if(l.data.error)return Object(s.c)(l.data.error),0;t(e.filter((e=>e._id!==a)))}))},handleEdit:e=>{a.push("/academics/calender/edit/".concat(e))},noActions:"admin"!==(null===v||void 0===v?void 0:v.role),tableHeader:b})]})}},623:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=i},629:function(e,t,a){"use strict";a(0);var l=a(457),n=a(160),c=a(1338),i=a(626),d=a.n(i),s=a(628),r=a.n(s),o=a(627),j=a.n(o),b=a(625),h=a.n(b),u=a(10);const v=Object(l.a)((e=>({root:{flexShrink:0,marginLeft:e.spacing(2.5)}})));t.a=function(e){const t=v(),a=Object(n.a)(),{count:l,page:i,rowsPerPage:s,onChangePage:o}=e;return Object(u.jsxs)("div",{className:t.root,children:[Object(u.jsx)(c.a,{onClick:e=>{o(e,0)},disabled:0===i,"aria-label":"first page",children:"rtl"===a.direction?Object(u.jsx)(h.a,{}):Object(u.jsx)(d.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{o(e,i-1)},disabled:0===i,"aria-label":"previous page",children:"rtl"===a.direction?Object(u.jsx)(j.a,{}):Object(u.jsx)(r.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{o(e,i+1)},disabled:i>=Math.ceil(l/s)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(u.jsx)(r.a,{}):Object(u.jsx)(j.a,{})}),Object(u.jsx)(c.a,{onClick:e=>{o(e,Math.max(0,Math.ceil(l/s)-1))},disabled:i>=Math.ceil(l/s)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(u.jsx)(d.a,{}):Object(u.jsx)(h.a,{})})]})}},632:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.default=i},639:function(e,t,a){"use strict";var l=a(609),n=a(611);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),i=(0,l(a(610)).default)(c.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}),"Toc");t.default=i},646:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var l=a(0),n=a.n(l),c=a(457),i=a(941),d=a(942),s=a(937),r=a(939),o=a(940),j=a(686),b=a(1446),h=a(938),u=a(927),v=a(1338),O=a(623),x=a.n(O),m=a(632),p=a.n(m),g=a(629),f=a(617),_=a.n(f),w=a(792),M=a(639),N=a.n(M),C=a(10);const P=Object(c.a)({table:{width:"100%"}});function S(e){var t;let{data:a,tableHeader:l,handleEdit:c,handleDelete:O,loading:m,isCanteen:f,isEdit:M,isItems:S,noActions:y,noData:E}=e;const z=P(),[D,k]=n.a.useState(0),[H,A]=n.a.useState(5),V=H-Math.min(H,(null===a||void 0===a?void 0:a.length)-D*H);return Object(C.jsx)(o.a,{component:u.a,children:Object(C.jsxs)(i.a,{className:z.table,"aria-label":"custom pagination table",children:[Object(C.jsx)(s.a,{children:Object(C.jsxs)(h.a,{children:[l&&(null===l||void 0===l?void 0:l.map((e=>Object(C.jsx)(r.a,{children:e.name},e.id)))),!y&&Object(C.jsx)(r.a,{children:"Actions"})]})}),m?Object(C.jsx)(d.a,{className:"text-center my-5 w-100",children:Object(C.jsx)(h.a,{children:Object(C.jsx)(r.a,{colSpan:l.lenght,children:Object(C.jsx)("span",{className:"spinner-grow spinner-grow-sm",role:"status"})})})}):Object(C.jsxs)(d.a,{children:[(null===a||void 0===a?void 0:a.length)<=0?Object(C.jsx)(h.a,{children:Object(C.jsx)(r.a,{colSpan:l.length+1,className:"text-center text-danger",children:E||"No data"})}):Object(C.jsx)(C.Fragment,{children:null===(t=H>0?null===a||void 0===a?void 0:a.slice(D*H,D*H+H):a)||void 0===t?void 0:t.map((e=>Object(C.jsxs)(h.a,{children:[l&&(null===l||void 0===l?void 0:l.map((t=>{var a,l;return Object(C.jsx)(r.a,{align:"left",children:(l=e[null===t||void 0===t?void 0:t.id],new RegExp("^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$").test(l)?null===(a=_()(e[null===t||void 0===t?void 0:t.id]))||void 0===a?void 0:a.format("D MMMM YYYY"):e[null===t||void 0===t?void 0:t.id]||"-")},null===t||void 0===t?void 0:t.id)}))),!y&&Object(C.jsx)(r.a,{align:"left",children:Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[Object(C.jsx)(w.a,{title:S?"Manage Inventory":"delete",children:Object(C.jsx)(v.a,{onClick:()=>O(f?e.memberID:e._id),children:S?Object(C.jsx)(N.a,{}):Object(C.jsx)(p.a,{})})}),!M&&Object(C.jsx)(w.a,{title:"edit",children:Object(C.jsx)(v.a,{onClick:()=>c(f?e.memberID:e._id),children:Object(C.jsx)(x.a,{})})})]})})]},e._id)))}),V>0&&Object(C.jsx)(h.a,{style:{height:53},children:Object(C.jsx)(r.a,{colSpan:6})})]}),Object(C.jsx)(j.a,{children:Object(C.jsx)(h.a,{children:(null===a||void 0===a?void 0:a.length)>5&&Object(C.jsx)(b.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],count:null===a||void 0===a?void 0:a.length,rowsPerPage:H,page:D,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:(e,t)=>{k(t)},onChangeRowsPerPage:e=>{A(parseInt(e.target.value,10)),k(0)},ActionsComponent:g.a})})})]})})}}}]);
//# sourceMappingURL=23.704b6349.chunk.js.map