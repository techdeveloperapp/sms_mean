(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[132],{1040:function(e,c,l){"use strict";var s=l(0),i=l(457),a=l(936),d=l.n(a),t=l(1498),o=l(614),n=l(27),r=l(84),j=l(59),b=l(7),v=l(461),m=l(10);const h=Object(i.a)((e=>({root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},profileIcon:{}})));c.a=function(e){let{id:c,profile:l}=e;const i=h(),[a,u]=Object(s.useState)(""),[O,x]=Object(s.useState)(!1),N=Object(r.b)();return Object(s.useEffect)((()=>{u(l)}),[l]),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{accept:"image/*",onChange:e=>{const l=e.target.files[0];if((null===l||void 0===l?void 0:l.size)>2e6)Object(o.c)("image is too large");else if(l){x(!0);const e=new FileReader;e.readAsDataURL(l),e.onloadend=()=>{n.a.post("/upload",{dataUrl:e.result}).then((e=>{const l=e.data.url;console.log(l),n.a.post("/update/profile/".concat(c),{profileUrl:l}).then((e=>{if(x(!1),e.data.error)return Object(o.c)("Profile update failed"),0;u(l),N(Object(j.e)({photoUrl:l})),localStorage.setItem(b.a.PhotoURL,l)}))})).catch((e=>{console.log(e),x(!1),Object(o.c)("Profile update failed")}))}}else console.log("no file selected"),Object(o.c)("no file selected")},className:i.input,disabled:O,id:"icon-button-file",type:"file"}),Object(m.jsxs)("label",{className:"profileContainer",htmlFor:"icon-button-file",children:[Object(m.jsx)(t.a,{src:Object(o.g)(a),className:"large__avatar","aria-label":"upload picture",component:"span",children:O?Object(m.jsx)(v.a,{}):Object(m.jsx)(d.a,{})}),Object(m.jsx)("div",{className:"profileIcon",children:"Change Profile"})]})]})}},1233:function(e,c,l){"use strict";l.d(c,"a",(function(){return C}));var s=l(0),i=l.n(s),a=l(1018),d=l.n(a),t=l(457),o=l(160),n=l(961),r=l(1085),j=l(1081),b=l(1285),v=l(1084),m=l(994),h=l(27),u=l(26),O=l(84),x=l(10);var N=function(e){var c,l;let{user:i}=e;const[a,d]=Object(s.useState)(""),[t,o]=Object(s.useState)(""),[n,r]=Object(s.useState)(""),[j,b]=Object(s.useState)(""),v=Object(O.c)(u.h);return console.log(i),Object(s.useEffect)((()=>{if(null!==i&&void 0!==i&&i.fees){let e=v.find((e=>e.code===(null===i||void 0===i?void 0:i.fees)));o(null===e||void 0===e?void 0:e.name)}null!==i&&void 0!==i&&i.scholarship&&h.a.get("/scholarships/".concat(null===i||void 0===i?void 0:i.scholarship)).then((e=>{var c,l;b(null===(c=e.data)||void 0===c||null===(l=c.doc)||void 0===l?void 0:l.name)})),null!==i&&void 0!==i&&i.campusID&&h.a.get("/campuses/".concat(null===i||void 0===i?void 0:i.campusID)).then((e=>{var c,l;console.log(e.data),r(null===(c=e.data)||void 0===c||null===(l=c.docs)||void 0===l?void 0:l.name)})),null!==i&&void 0!==i&&i.section&&h.a.get("/sections/".concat(null===i||void 0===i?void 0:i.section)).then((e=>{var c;d(null===(c=e.data.doc)||void 0===c?void 0:c.name)}))}),[i,v]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Class "}),Object(x.jsxs)("div",{className:"col-6",children:[null===i||void 0===i?void 0:i.classID," "]})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Section/ House "}),Object(x.jsx)("div",{className:"col-6",children:a||"-"})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Student Status "}),Object(x.jsxs)("div",{className:"col-6",children:[null===i||void 0===i?void 0:i.status," "]})]}),"border"===(null===i||void 0===i?void 0:i.status)&&Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Dormitory "}),Object(x.jsxs)("div",{className:"col-6",children:[null===i||void 0===i?void 0:i.dormitoryID," "]})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Campus "}),Object(x.jsx)("div",{className:"col-6",children:n||"N/A"})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Scholarship "}),Object(x.jsx)("div",{className:"col-6",children:j||"N/A"})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Fees Category "}),Object(x.jsxs)("div",{className:"col-6",children:[t||"-"," "]})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Last School "}),Object(x.jsxs)("div",{className:"col-6",children:[(null===i||void 0===i||null===(c=i.lastSchool)||void 0===c?void 0:c.school)||"N/A"," "]})]}),Object(x.jsxs)("div",{className:"row  mb-3",children:[Object(x.jsx)("div",{className:"col-4",children:"Reason for Leaving last School "}),Object(x.jsxs)("div",{className:"col-6",children:[" ",(null===i||void 0===i||null===(l=i.lastSchool)||void 0===l?void 0:l.reason)||"N/A"," "]})]})]})},f=l(960);var p=function(e){let{user:c}=e;return console.log(c,"guadance tab"),Object(x.jsx)("div",{children:(null===c||void 0===c?void 0:c.length)>0?c.map((e=>Object(x.jsx)(f.a,{guadian:e,noEdit:!0},e._id))):Object(x.jsx)("div",{children:"No guadian info"})})},w=l(995);function g(e){const{children:c,value:l,index:s,...i}=e;return Object(x.jsx)("div",{role:"tabpanel",hidden:l!==s,id:"full-width-tabpanel-".concat(s),"aria-labelledby":"full-width-tab-".concat(s),...i,children:l===s&&Object(x.jsx)(v.a,{p:3,children:Object(x.jsx)(b.a,{children:c})})})}function A(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}const S=Object(t.a)((e=>({root:{backgroundColor:e.palette.background.paper,width:"100%"}})));function C(e){let{user:c}=e;const l=S(),s=Object(o.a)(),[a,t]=i.a.useState(0);return Object(x.jsxs)("div",{className:l.root,children:[Object(x.jsx)(n.a,{position:"static",color:"default",children:Object(x.jsxs)(r.a,{value:a,onChange:(e,c)=>{t(c)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"full width tabs example",children:[Object(x.jsx)(j.a,{label:"Student's Information",...A(0)}),Object(x.jsx)(j.a,{label:"Academics's Information",...A(1)}),Object(x.jsx)(j.a,{label:"Guardian's Information",...A(2)}),Object(x.jsx)(j.a,{label:"Contact Details",...A(3)})]})}),Object(x.jsxs)(d.a,{axis:"rtl"===s.direction?"x-reverse":"x",index:a,onChangeIndex:e=>{t(e)},children:[Object(x.jsx)(g,{value:a,index:0,dir:s.direction,children:Object(x.jsx)(m.a,{user:c})}),Object(x.jsx)(g,{value:a,index:1,dir:s.direction,children:Object(x.jsx)(N,{user:c})}),Object(x.jsx)(g,{value:a,index:2,dir:s.direction,children:Object(x.jsx)(p,{user:null===c||void 0===c?void 0:c.guadian})}),Object(x.jsx)(g,{value:a,index:3,dir:s.direction,children:Object(x.jsx)(w.a,{user:c})})]})]})}},1340:function(e,c,l){"use strict";l.r(c);var s=l(0),i=l(123),a=l(1233),d=l(1040),t=l(84),o=l(59),n=l(614),r=l(27),j=l(10);c.default=function(){const e=Object(t.c)(o.d),[c,l]=Object(s.useState)({});return Object(s.useEffect)((()=>{r.a.get("/students/student/".concat(null===e||void 0===e?void 0:e.userID)).then((e=>{console.log(e.data),l(e.data.student)}))}),[e]),Object(j.jsxs)("div",{className:"content__container",children:[Object(j.jsx)("h3",{children:"About Me"}),Object(j.jsxs)("div",{className:"row mb-5",children:[Object(j.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-4",children:Object(j.jsx)(d.a,{profile:null===e||void 0===e?void 0:e.photoUrl,id:null===e||void 0===e?void 0:e.userID})}),Object(j.jsxs)("div",{className:"col-xs-12 col-sm-6 col-md-8",children:[Object(j.jsxs)("h3",{children:[Object(n.d)(null===e||void 0===e?void 0:e.name)," ",Object(n.h)((null===e||void 0===e?void 0:e.middleName)||"")," ",Object(n.d)(null===e||void 0===e?void 0:e.lastName)]}),Object(j.jsx)("h6",{children:null===e||void 0===e?void 0:e.id}),Object(j.jsx)("div",{className:"muted-text",children:"Role"}),Object(j.jsx)(i.b,{to:"/profile/edit",className:"btn blue__btn sm__btn mt-4",children:"Edit"})]})]}),Object(j.jsx)("div",{className:"Profile Details",children:Object(j.jsx)(a.a,{user:c})})]})}},936:function(e,c,l){"use strict";var s=l(609),i=l(611);Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=i(l(0)),d=(0,s(l(610)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");c.default=d},960:function(e,c,l){"use strict";l(0);var s=l(1244),i=l(935),a=l.n(i),d=l(1338),t=l(10);c.a=function(e){let{guadian:c,handleDeleteGuadian:l,noEdit:i}=e;return Object(t.jsxs)(s.a,{className:"p-4 mb-3",children:[!i&&Object(t.jsx)("div",{className:"float-end",children:Object(t.jsxs)(d.a,{onClick:()=>l(c.id),children:[" ",Object(t.jsx)(a.a,{})]})}),Object(t.jsxs)("div",{className:"float-start",children:[Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:" Name: "}),Object(t.jsxs)("div",{className:"col-6",children:[null===c||void 0===c?void 0:c.name," "]})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:" Surname : "}),Object(t.jsx)("div",{className:"col-6",children:null===c||void 0===c?void 0:c.lastname})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:"Occupation: "}),Object(t.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.occupation)||null})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:"Contact: "}),Object(t.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.mobile)||null})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:"Email: "}),Object(t.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.email)||null})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:"Relationship: "}),Object(t.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.relationship)||null})]}),Object(t.jsxs)("div",{className:"row  mb-3",children:[Object(t.jsx)("div",{className:"col-6",children:"Address: "}),Object(t.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.address)||null})]})]})]})}},994:function(e,c,l){"use strict";l(0);var s=l(614),i=l(617),a=l.n(i),d=l(10);c.a=function(e){let{user:c,isStaff:l}=e;return Object(d.jsxs)("div",{children:[l&&Object(d.jsxs)("div",{className:"row mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Title: "}),Object(d.jsxs)("div",{className:"col-6",children:[Object(s.d)((null===c||void 0===c?void 0:c.title)||"N/A")," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Surname: "}),Object(d.jsxs)("div",{className:"col-6",children:[Object(s.d)((null===c||void 0===c?void 0:c.surname)||"N/A")," "]})]}),(null===c||void 0===c?void 0:c.middleName)&&Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Middle Name "}),Object(d.jsxs)("div",{className:"col-6",children:[Object(s.d)((null===c||void 0===c?void 0:c.middleName)||"N/A")," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Gender: "}),Object(d.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.gender)||"N/A"})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Email: "}),Object(d.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.email)||"N/A"})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Date of Birth: "}),Object(d.jsxs)("div",{className:"col-6",children:[null!==c&&void 0!==c&&c.dateOfBirth?a()(null===c||void 0===c?void 0:c.dateOfBirth).format("D MMMM YYYY"):"N/A"," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Place of birth "}),Object(d.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.placeOfBirth)||"N/A"," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Religion: "}),Object(d.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.religion)||"N/A"})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Nationality: "}),Object(d.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.nationality)||"N/A"," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Healthy Condition: "}),Object(d.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.health)||"N/A"," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Disease: "}),Object(d.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.disease)||"N/A"," "]})]}),Object(d.jsxs)("div",{className:"row  mb-3",children:[Object(d.jsx)("div",{className:"col-4",children:"Alleges: "}),Object(d.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.allege)||"N/A"," "]})]})]})}},995:function(e,c,l){"use strict";l(0);var s=l(10);c.a=function(e){let{user:c}=e;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row  mb-3",children:[Object(s.jsx)("div",{className:"col-4",children:"Telephone Number: "}),Object(s.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.telephone)||"N/A"})]}),Object(s.jsxs)("div",{className:"row  mb-3",children:[Object(s.jsx)("div",{className:"col-4",children:"Mobile Number: "}),Object(s.jsx)("div",{className:"col-6",children:(null===c||void 0===c?void 0:c.mobilenumber)||"N/A"})]}),Object(s.jsxs)("div",{className:"row  mb-3",children:[Object(s.jsx)("div",{className:"col-4",children:"Area of Residence: "}),Object(s.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.physicalAddress)||"N/A"," "]})]}),Object(s.jsxs)("div",{className:"row  mb-3",children:[Object(s.jsx)("div",{className:"col-4",children:"Postal Address"}),Object(s.jsxs)("div",{className:"col-6",children:[(null===c||void 0===c?void 0:c.postalAddress)||"N/A"," "]})]})]})}}}]);
//# sourceMappingURL=132.ef052c86.chunk.js.map