{"version":3,"sources":["components/profile/UpdateProfile.js","components/settings/Logout.js","components/settings/ChangePassword.js","AdminComponents/settings/ModalName.js","AdminComponents/settings/SettingsPage.js"],"names":["useStyles","makeStyles","theme","root","margin","spacing","input","display","profileIcon","UpdateProfile","_ref","id","profile","classes","profileimg","setprofileimg","useState","loading","setloading","dispatch","useDispatch","useEffect","_jsxs","children","_jsx","accept","onChange","e","selected","target","files","size","errorAlert","fileReader","FileReader","readAsDataURL","onloadend","axios","post","dataUrl","result","then","res","path","data","url","console","log","concat","profileUrl","response","error","update","photoUrl","localStorage","setItem","LoginString","PhotoURL","catch","err","className","disabled","type","htmlFor","Avatar","src","getImgSrc","component","CircularProgress","PhotoCamera","Logout","loggout","user","history","useHistory","name","lastName","onClick","handleDelete","clear","push","ChangePassword","oldpassword","setoldpassword","newpassword","setnewpassword","register","handleSubmit","errors","useForm","action","value","ref","required","handleChangePassword","newPassword","oldPassword","successAlert","role","DialogTitle","withStyles","padding","closeButton","position","right","top","color","palette","grey","props","onClose","other","MuiDialogTitle","disableTypography","Typography","variant","IconButton","CloseIcon","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","CustomizedDialogs","open","setOpen","setname","handleEdit","handleClose","Dialog","fullWidth","maxWidth","Button","autoFocus","SettingsPage","admin","setadmin","useSelector","selectUser","editfullname","seteditfullname","motto","setmotto","email","setemail","address","setaddress","telephone","settelephone","editloading","seteditloading","get","fullName","Profile","userID","EditIcon","rows","put","NAME","preventDefault","NameModal","logout"],"mappings":"iIAAA,yGAWA,MAAMA,EAAYC,aAAYC,IAAK,CACjCC,KAAM,CACJ,QAAS,CACPC,OAAQF,EAAMG,QAAQ,KAG1BC,MAAO,CACLC,QAAS,QAEXC,YAAa,CAAC,MAkFDC,IA/Ef,SAAsBC,GAAmB,IAAlB,GAAEC,EAAE,QAAEC,GAASF,EACpC,MAAMG,EAAUb,KACTc,EAAYC,GAAiBC,mBAAS,KACtCC,EAASC,GAAcF,oBAAS,GACjCG,EAAWC,cAiDjB,OA/CAC,qBAAU,KACRN,EAAcH,EAAQ,GACrB,CAACA,IA8CFU,eAAA,OAAAC,SAAA,CACEC,cAAA,SACEC,OAAO,UACPC,SA/CoBC,IACxB,MAAMC,EAAWD,EAAEE,OAAOC,MAAM,GAChC,IAAY,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUG,MAAO,IACnBC,YAAW,2BACN,GAAIJ,EAAU,CACnBV,GAAW,GACX,MAAMe,EAAa,IAAIC,WACvBD,EAAWE,cAAcP,GACzBK,EAAWG,UAAY,KACrBC,IACGC,KAAK,UAAW,CAAEC,QAASN,EAAWO,SACtCC,MAAMC,IACL,MAAMC,EAAOD,EAAIE,KAAKC,IACtBC,QAAQC,IAAIJ,GACZN,IACGC,KAAK,mBAADU,OAAoBrC,GAAM,CAAEsC,WAAYN,IAC5CF,MAAMS,IAEL,GADAhC,GAAW,GACPgC,EAASN,KAAKO,MAEhB,OADAnB,YAAW,yBACJ,EAETjB,EAAc4B,GACdxB,EACEiC,YAAO,CACLC,SAAUV,KAGdW,aAAaC,QAAQC,IAAYC,SAAUd,EAAK,GAChD,IAELe,OAAOC,IACNb,QAAQC,IAAIY,GACZzC,GAAW,GACXc,YAAW,wBAAwB,GACnC,CAER,MACEc,QAAQC,IAAI,oBACZf,YAAW,mBACb,EAQI4B,UAAW/C,EAAQP,MACnBuD,SAAU5C,EACVN,GAAG,mBACHmD,KAAK,SAEPxC,eAAA,SAAOsC,UAAU,mBAAmBG,QAAQ,mBAAkBxC,SAAA,CAC5DC,cAACwC,IAAM,CACLC,IAAKC,YAAUpD,GACf8C,UAAU,gBACV,aAAW,iBACXO,UAAU,OAAM5C,SAEfN,EAAUO,cAAC4C,IAAgB,IAAM5C,cAAC6C,IAAW,MAGhD7C,cAAA,OAAKoC,UAAU,cAAarC,SAAC,wBAIrC,C,oCCpGA,yBA2Be+C,IAxBf,SAAe5D,GAA+B,IAA9B,SAAES,EAAQ,QAAEoD,EAAO,KAAEC,GAAM9D,EACzC,MAAM+D,EAAUC,cAQhB,OACElD,cAAA,OAAKoC,UAAU,qBAAoBrC,SACjCD,eAAA,OAAKsC,UAAU,iCAAgCrC,SAAA,CAC7CD,eAAA,MAAAC,SAAA,CAAI,wBACwB,OAAJiD,QAAI,IAAJA,OAAI,EAAJA,EAAM7D,GAAG,KAAO,OAAJ6D,QAAI,IAAJA,OAAI,EAAJA,EAAMG,KAAM,IACzC,OAAJH,QAAI,IAAJA,KAAMI,SAAe,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMI,SAAW,MAErCpD,cAAA,UAAQqD,QAbOC,KACnB3D,EAASoD,KACTjB,aAAayB,QACbN,EAAQO,KAAK,SAAS,EAUapB,UAAU,iBAAgBrC,SAAC,eAMlE,C,oCCzBA,6CAiGe0D,IA5Ff,SAAuBvE,GAAU,IAAT,GAAEC,GAAID,EAC5B,MAAOwE,EAAaC,GAAkBnE,mBAAS,KACxCoE,EAAaC,GAAkBrE,mBAAS,KACzC,SAAEsE,EAAQ,aAAEC,EAAY,OAAEC,GAAWC,eACpCxE,EAASC,GAAcF,oBAAS,GA0BvC,OACEM,eAAA,QAAMoE,OAAO,GAAG9B,UAAU,0BAAyBrC,SAAA,CACjDC,cAAA,MAAAD,SAAI,oBACJD,eAAA,OAAKsC,UAAU,WAAUrC,SAAA,CACvBC,cAAA,SAAOoC,UAAU,0BAAyBrC,SAAC,iBAC3CD,eAAA,OAAKsC,UAAU,WAAUrC,SAAA,CACvBC,cAAA,SACEE,SAAWC,GAAMwD,EAAexD,EAAEE,OAAO8D,OACzCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOT,EACPpB,KAAK,WACLF,UAAU,eACVe,KAAK,gBAENa,EAAON,aACN1D,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,WAAUrC,SAAA,CACvBC,cAAA,SAAOoC,UAAU,0BAAyBrC,SAAC,iBAC3CD,eAAA,OAAKsC,UAAU,WAAUrC,SAAA,CACvBC,cAAA,SACEE,SAAWC,GAAM0D,EAAe1D,EAAEE,OAAO8D,OACzCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOP,EACPtB,KAAK,WACLF,UAAU,eACVe,KAAK,gBAENa,EAAOJ,aACN5D,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDC,cAAA,OAAKoC,UAAU,WAAUrC,SACvBC,cAAA,OAAKoC,UAAU,oBAAmBrC,SAChCD,eAAA,UACEuC,SAAU5C,EACV6C,KAAK,SACLe,QAASU,GApEUO,KAC3B5E,GAAW,GACXmB,IACGC,KAAK,oBAADU,OAAqBrC,GAAM,CAC9BoF,YAAaX,EACbY,YAAad,IAEdzC,MAAMC,IAEL,GADAxB,GAAW,GACPwB,EAAIE,KAAKO,MAEX,OADAnB,YAAWU,EAAIE,KAAKO,OACb,EAET8C,YAAa,gCACbd,EAAe,IACfE,EAAe,GAAG,IAEnB3B,OAAOC,IACNzC,GAAW,GACX4B,QAAQC,IAAIY,GACZ3B,YAAW,4BAA4B,GACvC,IAgDI4B,UAAU,gBAAerC,SAAA,CAExBN,GACCO,cAAA,QACEoC,UAAU,mCACVsC,KAAK,SACL,cAAY,SAEd,kBAOd,C,0PCpFA,MAaMC,EAAcC,aAbJlG,IAAK,CACnBC,KAAM,CACJC,OAAQ,EACRiG,QAASnG,EAAMG,QAAQ,IAEzBiG,YAAa,CACXC,SAAU,WACVC,MAAOtG,EAAMG,QAAQ,GACrBoG,IAAKvG,EAAMG,QAAQ,GACnBqG,MAAOxG,EAAMyG,QAAQC,KAAK,SAIVR,EAAoBS,IACtC,MAAM,SAAEtF,EAAQ,QAAEV,EAAO,QAAEiG,KAAYC,GAAUF,EACjD,OACEvF,eAAC0F,IAAc,CAACC,mBAAiB,EAACrD,UAAW/C,EAAQV,QAAU4G,EAAKxF,SAAA,CAClEC,cAAC0F,IAAU,CAACC,QAAQ,KAAI5F,SAAEA,IACzBuF,EACCtF,cAAC4F,IAAU,CAAC,aAAW,QAAQxD,UAAW/C,EAAQyF,YAAazB,QAASiC,EAAQvF,SAC9EC,cAAC6F,IAAS,MAEV,OACW,IAIfC,EAAgBlB,aAAYlG,IAAK,CACrCC,KAAM,CACJkG,QAASnG,EAAMG,QAAQ,OAFL+F,CAIlBmB,KAEEC,EAAgBpB,aAAYlG,IAAK,CACrCC,KAAM,CACJC,OAAQ,EACRiG,QAASnG,EAAMG,QAAQ,OAHL+F,CAKlBqB,KAEW,SAASC,EAAiBhH,GAAwD,IAAvD,KAACiH,EAAI,QAAEC,EAAO,QAAEC,EAAO,KAAElD,EAAI,WAAEmD,EAAU,QAAG7G,GAAQP,EAE5F,MAAMqH,EAAcA,KAClBH,GAAQ,EAAM,EAGhB,OACEpG,cAAA,OAAAD,SACED,eAAC0G,IAAM,CAACC,WAAW,EAAMC,SAAS,KAAKpB,QAASiB,EAAa,kBAAgB,0BAA0BJ,KAAMA,EAAKpG,SAAA,CAChHC,cAAC2E,EAAW,CAACxF,GAAG,0BAA0BmG,QAASiB,EAAYxG,SAAC,qBAGhEC,cAAC8F,EAAa,CAAA/F,SACPC,cAAA,OAAKoC,UAAU,WAAUrC,SACpBC,cAAA,OAAKoC,UAAU,WAAUrC,SACtBC,cAAA,SACCE,SAAUC,GAAKkG,EAAQlG,EAAEE,OAAO8D,OAChCA,MAAOhB,EACPb,KAAK,OACLF,UAAU,eACVe,KAAK,eAIrBrD,eAACkG,EAAa,CAAAjG,SAAA,CACZD,eAAC6G,IAAM,CACLtE,SAAU5C,EACVmH,WAAS,EACTvD,QAASiD,EACTpB,MAAM,UAASnF,SAAA,CACTN,GAAaO,cAAA,QAAMoC,UAAU,mCAAmCsC,KAAK,SAAS,cAAY,SAAe,kBAGjH1E,cAAC2G,IAAM,CACLC,WAAS,EACTvD,QAASkD,EACTrB,MAAM,YAAWnF,SAAC,kBAO9B,CCuJe8G,UAxOf,WACE,MAAM,SAAE/C,EAAQ,aAAEC,EAAY,OAAEC,GAAWC,eACpC6C,EAAOC,GAAYvH,mBAAS,CAAC,GAC9BwD,EAAOgE,YAAYC,KACnBtH,EAAWC,eACVuD,EAAMkD,GAAW7G,mBAAS,KAC1B0H,EAAcC,GAAmB3H,mBAAS,KAC1C4H,EAAOC,GAAY7H,mBAAS,KAC5B8H,EAAOC,GAAY/H,mBAAS,KAC5BgI,EAASC,GAAcjI,mBAAS,KAChCkI,EAAWC,GAAgBnI,mBAAS,KACpCC,EAASC,GAAcF,oBAAS,IAChC2G,EAAMC,GAAW5G,oBAAS,IAC1BoI,EAAaC,GAAkBrI,oBAAS,GA+E/C,OA7EAK,qBAAU,KACRgB,IAAMiH,IAAI,WAAW7G,MAAMC,IACzB,IAAIE,EAAU,OAAHF,QAAG,IAAHA,OAAG,EAAHA,EAAKE,KAChB2F,EAAS3F,GACTiF,GAAY,OAAJjF,QAAI,IAAJA,OAAI,EAAJA,EAAM+B,OAAQ,qBACtBkE,EAAa,OAAJjG,QAAI,IAAJA,OAAI,EAAJA,EAAMgG,OACfG,EAAa,OAAJnG,QAAI,IAAJA,OAAI,EAAJA,EAAMkG,OACfG,EAAe,OAAJrG,QAAI,IAAJA,OAAI,EAAJA,EAAMoG,SACjBG,EAAiB,OAAJvG,QAAI,IAAJA,OAAI,EAAJA,EAAMsG,WACnBP,EAAoB,OAAJ/F,QAAI,IAAJA,OAAI,EAAJA,EAAM2G,SAAS,GAC/B,GACD,IAmEDjI,eAAA,OAAAC,SAAA,CACED,eAAA,OAAKsC,UAAU,gEAA+DrC,SAAA,CAC5EC,cAACgI,IAAO,CAAC7I,GAAQ,OAAJ6D,QAAI,IAAJA,OAAI,EAAJA,EAAMiF,OAAQ7I,QAAa,OAAJ4D,QAAI,IAAJA,OAAI,EAAJA,EAAMnB,WAC1C/B,eAAA,MAAAC,SAAA,CACGmH,EAAc,IACflH,cAAA,QAAAD,SACEC,cAACkI,IAAQ,CAAC7E,QAAUlD,GAAMiG,GAAQ,UAGtCtG,eAAA,QAAMsC,UAAU,MAAKrC,SAAA,CACnBD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BC,cAAA,SAAOoC,UAAU,kBAAiBrC,SAAC,SACnCD,eAAA,OAAKsC,UAAU,GAAErC,SAAA,CACfC,cAAA,SACEE,SAAWC,GAAMkG,EAAQlG,EAAEE,OAAO8D,OAClCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOhB,EACPb,KAAK,OACLF,UAAU,eACVe,KAAK,SAENa,EAAOb,MACNnD,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BC,cAAA,SAAOoC,UAAU,kBAAiBrC,SAAC,UACnCD,eAAA,OAAKsC,UAAU,GAAErC,SAAA,CACfC,cAAA,SACEE,SAAWC,GAAMkH,EAASlH,EAAEE,OAAO8D,OACnCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOiD,EACP9E,KAAK,OACLF,UAAU,eACVe,KAAK,UAENa,EAAOoD,OACNpH,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BC,cAAA,SAAOoC,UAAU,kBAAiBrC,SAAC,UACnCD,eAAA,OAAKsC,UAAU,GAAErC,SAAA,CACfC,cAAA,SACEE,SAAWC,GAAMoH,EAASpH,EAAEE,OAAO8D,OACnCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOmD,EACPhF,KAAK,QACLF,UAAU,eACVe,KAAK,UAENa,EAAOsD,OACNtH,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BC,cAAA,SAAOoC,UAAU,kBAAiBrC,SAAC,cACnCD,eAAA,OAAKsC,UAAU,GAAErC,SAAA,CACfC,cAAA,SACEE,SAAWC,GAAMwH,EAAaxH,EAAEE,OAAO8D,OACvCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOuD,EACPpF,KAAK,MACLF,UAAU,eACVe,KAAK,cAENa,EAAO0D,WACN1H,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BC,cAAA,SAAOoC,UAAU,kBAAiBrC,SAAC,YACnCD,eAAA,OAAKsC,UAAU,GAAErC,SAAA,CACfC,cAAA,YACEmI,KAAM,EACNjI,SAAWC,GAAMsH,EAAWtH,EAAEE,OAAO8D,OACrCC,IAAKN,EAAS,CAAEO,UAAU,IAC1BF,MAAOqD,EACPpF,UAAU,eACVe,KAAK,YAENa,EAAOwD,SACNxH,cAAA,QAAMoC,UAAU,+BAA8BrC,SAAC,iCAMrDD,eAAA,OAAKsC,UAAU,gBAAerC,SAAA,CAC5BD,eAAA,UACEuC,SAAU5C,EACV4D,QAASU,GAvIFuC,KACjB5G,GAAW,GACXmB,IACGuH,IAAI,kBAAD5G,OAAwB,OAALsF,QAAK,IAALA,OAAK,EAALA,EAAOmB,QAAU,CACtC9E,OACAqE,UACAJ,QACAE,QACAI,cAEDzG,MAAMC,IAEL,GADAxB,GAAW,GACPwB,EAAIE,KAAKO,MAEX,OADAnB,YAAWU,EAAIE,KAAKO,OACb,EAET8C,YAAa,qBACb9E,EACEiC,YAAO,CACLuB,KAAMA,KAGVrB,aAAaC,QAAQC,IAAYqG,KAAMlF,EAAK,IAE7CjB,OAAOC,IACNb,QAAQC,IAAIY,GACZzC,GAAW,GACXc,YAAW,yBAAyB,GACpC,IA4GM4B,UAAU,gBAAerC,SAAA,CAExBN,GACCO,cAAA,QACEoC,UAAU,mCACVsC,KAAK,SACL,cAAY,SAEd,kBAGJ1E,cAAA,UAAQqD,QApLIlD,IACpBA,EAAEmI,iBACFjC,EAAa,OAALS,QAAK,IAALA,OAAK,EAALA,EAAO3D,MACfkE,EAAc,OAALP,QAAK,IAALA,OAAK,EAALA,EAAOM,OAChBG,EAAc,OAALT,QAAK,IAALA,OAAK,EAALA,EAAOQ,OAChBG,EAAgB,OAALX,QAAK,IAALA,OAAK,EAALA,EAAOU,SAClBG,EAAkB,OAALb,QAAK,IAALA,OAAK,EAALA,EAAOY,UAAU,EA8KStF,UAAU,sBAAqBrC,SAAC,oBAMrEC,cAACuI,EAAS,CACRpC,KAAMA,EACNC,QAASA,EACTjD,KAAM+D,EACNzH,QAASmI,EACTvB,QAASc,EACTb,WAvLkBnG,IACtBA,EAAEmI,iBACFT,GAAe,GACfvG,QAAQC,IAAI2F,GACZrG,IACGuH,IAAI,kBAAD5G,OAAwB,OAALsF,QAAK,IAALA,OAAK,EAALA,EAAOmB,QAAU,CACtCF,SAAUb,IAEXjG,MAAMC,IAEL,GADA2G,GAAe,GACX3G,EAAIE,KAAKO,MAEX,OADAnB,YAAWU,EAAIE,KAAKO,OACb,EAET8C,YAAa,qBACb2B,GAAQ,EAAM,IAEflE,OAAOC,IACNb,QAAQC,IAAIY,GACZ0F,GAAe,GACfrH,YAAW,yBAAyB,GACpC,IAqKFR,cAAA,OAAKb,GAAG,iBAAgBY,SACtBC,cAACyD,IAAc,CAACtE,GAAQ,OAAJ6D,QAAI,IAAJA,OAAI,EAAJA,EAAM7D,OAG5Ba,cAAC8C,IAAM,CAACE,KAAMA,EAAMrD,SAAUA,EAAUoD,QAASyF,QAGvD,C","file":"static/js/150.aa989537.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Avatar } from \"@material-ui/core\";\nimport { errorAlert, getImgSrc } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useDispatch } from \"react-redux\";\nimport { update } from \"../../store/slices/userSlice\";\nimport { LoginString } from \"../../store/localStorage\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: \"none\",\n  },\n  profileIcon: {},\n}));\n\nfunction UpdateProfile({ id, profile }) {\n  const classes = useStyles();\n  const [profileimg, setprofileimg] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setprofileimg(profile);\n  }, [profile]);\n\n  const handleChangeFile = (e) => {\n    const selected = e.target.files[0];\n    if (selected?.size > 2000000) {\n      errorAlert(\"image is too large\");\n    } else if (selected) {\n      setloading(true);\n      const fileReader = new FileReader();\n      fileReader.readAsDataURL(selected);\n      fileReader.onloadend = () => {\n        axios\n          .post(\"/upload\", { dataUrl: fileReader.result })\n          .then((res) => {\n            const path = res.data.url;\n            console.log(path);\n            axios\n              .post(`/update/profile/${id}`, { profileUrl: path })\n              .then((response) => {\n                setloading(false);\n                if (response.data.error) {\n                  errorAlert(\"Profile update failed\");\n                  return 0;\n                }\n                setprofileimg(path);\n                dispatch(\n                  update({\n                    photoUrl: path,\n                  })\n                );\n                localStorage.setItem(LoginString.PhotoURL, path);\n              });\n          })\n          .catch((err) => {\n            console.log(err);\n            setloading(false);\n            errorAlert(\"Profile update failed\");\n          });\n      };\n    } else {\n      console.log(\"no file selected\");\n      errorAlert(\"no file selected\");\n    }\n  };\n\n  return (\n    <div>\n      <input\n        accept=\"image/*\"\n        onChange={handleChangeFile}\n        className={classes.input}\n        disabled={loading}\n        id=\"icon-button-file\"\n        type=\"file\"\n      />\n      <label className=\"profileContainer\" htmlFor=\"icon-button-file\">\n        <Avatar\n          src={getImgSrc(profileimg)}\n          className=\"large__avatar\"\n          aria-label=\"upload picture\"\n          component=\"span\"\n        >\n          {loading ? <CircularProgress /> : <PhotoCamera />}\n        </Avatar>\n\n        <div className=\"profileIcon\">Change Profile</div>\n      </label>\n    </div>\n  );\n}\n\nexport default UpdateProfile;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Logout({ dispatch, loggout, user }) {\n  const history = useHistory();\n\n  const handleDelete = () => {\n    dispatch(loggout());\n    localStorage.clear();\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"content__container\">\n      <div className=\"d-flex justify-content-between\">\n        <h6>\n          You are logged-in as {user?.id}- {user?.name}{\" \"}\n          {user?.lastName ? user?.lastName : \"\"}\n        </h6>\n        <button onClick={handleDelete} className=\"btn btn-danger\">\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default Logout;\n","import React, { useState } from \"react\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport axios from \"../../store/axios\";\nimport { useForm } from \"react-hook-form\";\n\nfunction ChangePassword({ id }) {\n  const [oldpassword, setoldpassword] = useState(\"\");\n  const [newpassword, setnewpassword] = useState(\"\");\n  const { register, handleSubmit, errors } = useForm();\n  const [loading, setloading] = useState(false);\n\n  const handleChangePassword = () => {\n    setloading(true);\n    axios\n      .post(`/change/password/${id}`, {\n        newPassword: newpassword,\n        oldPassword: oldpassword,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"password successfully change\");\n        setoldpassword(\"\");\n        setnewpassword(\"\");\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Failed to change password\");\n      });\n  };\n\n  return (\n    <form action=\"\" className=\"mb-5 content__container\">\n      <h4>Change Password</h4>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">Old Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setoldpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={oldpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"oldpassword\"\n          />\n          {errors.oldpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <label className=\"col-sm-3 col-form-label\">New Password</label>\n        <div className=\"col-sm-9\">\n          <input\n            onChange={(e) => setnewpassword(e.target.value)}\n            ref={register({ required: true })}\n            value={newpassword}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"newpassword\"\n          />\n          {errors.newpassword && (\n            <span className=\" form-error text-danger mb-2\">\n              This field is required\n            </span>\n          )}\n        </div>\n      </div>\n      <div className=\"row mb-3\">\n        <div className=\"offset-3 col-sm-9\">\n          <button\n            disabled={loading}\n            type=\"submit\"\n            onClick={handleSubmit(handleChangePassword)}\n            className=\"btn blue__btn\"\n          >\n            {loading && (\n              <span\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n                aria-hidden=\"true\"\n              ></span>\n            )}\n            Submit\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n}\n\nexport default ChangePassword;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function CustomizedDialogs({open, setOpen, setname, name, handleEdit , loading}) {\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Dialog fullWidth={true} maxWidth=\"sm\" onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n           Edit School Name\n        </DialogTitle>\n        <DialogContent >\n               <div className=\"row mb-3\">\n                    <div className=\"col-sm-9\">\n                       <input \n                        onChange={e => setname(e.target.value)} \n                        value={name} \n                        type=\"text\" \n                        className=\"form-control\" \n                        name=\"name\"/>\n                    </div>\n                </div>\n        </DialogContent>\n        <DialogActions>\n          <Button \n            disabled={loading} \n            autoFocus \n            onClick={handleEdit} \n            color=\"primary\">\n                 {loading &&   <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>}\n            Save changes\n          </Button>\n          <Button \n            autoFocus \n            onClick={handleClose} \n            color=\"secondary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport Logout from \"../../components/settings/Logout\";\nimport Profile from \"../../components/profile/UpdateProfile\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser, logout, update } from \"../../store/slices/userSlice\";\nimport axios from \"../../store/axios\";\nimport ChangePassword from \"../../components/settings/ChangePassword\";\nimport { useForm } from \"react-hook-form\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { errorAlert, successAlert } from \"../../utils\";\nimport { LoginString } from \"../../store/localStorage\";\nimport NameModal from \"./ModalName\";\n\nfunction SettingsPage() {\n  const { register, handleSubmit, errors } = useForm();\n  const [admin, setadmin] = useState({});\n  const user = useSelector(selectUser);\n  const dispatch = useDispatch();\n  const [name, setname] = useState(\"\");\n  const [editfullname, seteditfullname] = useState(\"\");\n  const [motto, setmotto] = useState(\"\");\n  const [email, setemail] = useState(\"\");\n  const [address, setaddress] = useState(\"\");\n  const [telephone, settelephone] = useState(\"\");\n  const [loading, setloading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [editloading, seteditloading] = useState(false);\n\n  useEffect(() => {\n    axios.get(`/school`).then((res) => {\n      let data = res?.data;\n      setadmin(data);\n      setname(data?.name || \"Enter School Name\");\n      setmotto(data?.motto);\n      setemail(data?.email);\n      setaddress(data?.address);\n      settelephone(data?.telephone);\n      seteditfullname(data?.fullName);\n    });\n  }, []);\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    setname(admin?.name);\n    setmotto(admin?.motto);\n    setemail(admin?.email);\n    setaddress(admin?.address);\n    settelephone(admin?.telephone);\n  };\n\n  const handleEditname = (e) => {\n    e.preventDefault();\n    seteditloading(true);\n    console.log(editfullname);\n    axios\n      .put(`/school/update/${admin?.userID}`, {\n        fullName: editfullname,\n      })\n      .then((res) => {\n        seteditloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Changes are saved\");\n        setOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n        seteditloading(false);\n        errorAlert(\"Failed to save changes\");\n      });\n  };\n\n  const handleEdit = () => {\n    setloading(true);\n    axios\n      .put(`/school/update/${admin?.userID}`, {\n        name,\n        address,\n        motto,\n        email,\n        telephone,\n      })\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        successAlert(\"Changes are saved\");\n        dispatch(\n          update({\n            name: name,\n          })\n        );\n        localStorage.setItem(LoginString.NAME, name);\n      })\n      .catch((err) => {\n        console.log(err);\n        setloading(false);\n        errorAlert(\"Failed to save changes\");\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"content__container d-flex flex-column align-items-center mb-5\">\n        <Profile id={user?.userID} profile={user?.photoUrl} />\n        <h2>\n          {editfullname}{\" \"}\n          <span>\n            <EditIcon onClick={(e) => setOpen(true)} />\n          </span>\n        </h2>\n        <form className=\"row\">\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Name</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setname(e.target.value)}\n                ref={register({ required: true })}\n                value={name}\n                type=\"text\"\n                className=\"form-control\"\n                name=\"name\"\n              />\n              {errors.name && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Motto</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setmotto(e.target.value)}\n                ref={register({ required: true })}\n                value={motto}\n                type=\"text\"\n                className=\"form-control\"\n                name=\"motto\"\n              />\n              {errors.motto && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Email</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => setemail(e.target.value)}\n                ref={register({ required: true })}\n                value={email}\n                type=\"email\"\n                className=\"form-control\"\n                name=\"email\"\n              />\n              {errors.email && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Telephone</label>\n            <div className=\"\">\n              <input\n                onChange={(e) => settelephone(e.target.value)}\n                ref={register({ required: true })}\n                value={telephone}\n                type=\"tel\"\n                className=\"form-control\"\n                name=\"telephone\"\n              />\n              {errors.telephone && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mb-3\">\n            <label className=\" col-form-label\">Address</label>\n            <div className=\"\">\n              <textarea\n                rows={5}\n                onChange={(e) => setaddress(e.target.value)}\n                ref={register({ required: true })}\n                value={address}\n                className=\"form-control\"\n                name=\"address\"\n              />\n              {errors.address && (\n                <span className=\" form-error text-danger mb-2\">\n                  This field is required\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"col-sm-6 mt-5\">\n            <button\n              disabled={loading}\n              onClick={handleSubmit(handleEdit)}\n              className=\"btn blue__btn\"\n            >\n              {loading && (\n                <span\n                  className=\"spinner-border spinner-border-sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                ></span>\n              )}\n              Save Changes\n            </button>\n            <button onClick={handleCancel} className=\"btn btn-danger ml-3\">\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n      <NameModal\n        open={open}\n        setOpen={setOpen}\n        name={editfullname}\n        loading={editloading}\n        setname={seteditfullname}\n        handleEdit={handleEditname}\n      />\n\n      <div id=\"changepassword\">\n        <ChangePassword id={user?.id} />\n      </div>\n\n      <Logout user={user} dispatch={dispatch} loggout={logout} />\n    </div>\n  );\n}\n\nexport default SettingsPage;\n"],"sourceRoot":""}