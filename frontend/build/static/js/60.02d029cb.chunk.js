(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[60],{1376:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(16),s=a(27),l=a(963),o=a(614),r=a(10);t.default=function(){const[e,t]=Object(n.useState)(""),[a,d]=Object(n.useState)(""),[i,b]=Object(n.useState)(!1),[m,j]=Object(n.useState)([]),{id:h}=Object(c.i)();return Object(n.useEffect)((()=>{s.a.get("/canteen/".concat(h)).then((e=>{if(e.data.error)return console.log(e.data.error),0;const a=e.data.user;t(null===a||void 0===a?void 0:a.name),d(null===a||void 0===a?void 0:a.paymentMethod)}))}),[h]),Object(n.useEffect)((()=>{s.a.get("/paymentplan").then((e=>{var t;j(null===(t=e.data)||void 0===t?void 0:t.plans),console.log(e.data)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(l.a,{}),Object(r.jsxs)("h3",{children:["Edit Canteen Member ",h]}),Object(r.jsxs)("form",{className:"content__container",children:[Object(r.jsxs)("div",{className:"col-md-6 mb-4",children:[Object(r.jsx)("label",{className:"form-label",children:"Name"}),Object(r.jsx)("input",{type:"text",value:e,readOnly:!0,className:"form-control",name:"name"})]}),Object(r.jsxs)("div",{className:"col-md-8 mb-3",children:[Object(r.jsx)("label",{className:"form-label",children:"Select Payment Method"}),Object(r.jsxs)("label",{className:"form-label",children:["Select Payment Plan"," ",Object(r.jsx)("a",{href:"/canteen/payments/plan",children:"View Payment Plans available"})]}),Object(r.jsxs)("select",{onChange:e=>d(e.target.value),name:"paymentMethod",className:"form-select",children:[Object(r.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),m.length>0?m.map((e=>Object(r.jsx)("option",{value:e.plan,children:e.name},e._id))):Object(r.jsx)("option",{disabled:!0,children:"no data yet"})]})]}),Object(r.jsx)("div",{children:Object(r.jsxs)("button",{disabled:i,onClick:t=>{t.preventDefault(),b(!0),s.a.put("/canteen/update/".concat(h),{paymentMethod:a,name:e}).then((e=>{if(b(!1),e.data.error)return Object(o.c)(e.data.error),0;Object(o.m)("Successfully edited")})).catch((()=>{b(!1),Object(o.c)("something went wrong")}))},className:"btn blue__btn",children:[i&&Object(r.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status"}),"Save Changes"]})})]})]})}},963:function(e,t,a){"use strict";a(0);var n=a(123),c=a(10);t.a=function(){return Object(c.jsxs)("div",{className:"d-flex xs-flex-column sm-flex-row justify-content-end",children:[Object(c.jsx)(n.c,{activeStyle:{color:"#ffa201"},className:"btn",to:"/canteen/members/register",children:"Add  Canteen Member "}),Object(c.jsx)(n.c,{activeStyle:{color:"#ffa201"},className:"btn",to:"/canteen/members",children:"All Members"}),Object(c.jsx)(n.c,{activeStyle:{color:"#ffa201"},className:"btn",to:"/canteen/payments/plan",children:"Payments Plan"}),Object(c.jsx)(n.c,{activeStyle:{color:"#ffa201"},className:"btn",to:"/canteen/payments/add",children:"Make Payment"}),Object(c.jsx)(n.c,{activeStyle:{color:"#ffa201"},className:"btn",to:"/canteen/payments",children:"All Payments"})]})}}}]);
//# sourceMappingURL=60.02d029cb.chunk.js.map