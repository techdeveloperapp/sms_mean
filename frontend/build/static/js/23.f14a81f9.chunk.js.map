{"version":3,"sources":["AdminComponents/academics/calender/Calender.js","../node_modules/@material-ui/icons/Edit.js","AdminComponents/shared/TablePagination.js","../node_modules/@material-ui/icons/DeleteOutline.js","../node_modules/@material-ui/icons/Toc.js","AdminComponents/shared/ListTable.js"],"names":["tableHeadings","id","name","Calender","events","setevents","useState","history","useHistory","storeData","setstoreData","user","useSelector","selectUser","query","setquery","useEffect","axios","get","then","res","eventsData","data","map","e","_e$start","_e$end","start","allDay","replace","end","_jsxs","children","className","_jsx","onSubmit","preventDefault","newEvents","filter","i","title","toLowerCase","includes","value","onChange","target","type","placeholder","role","Link","to","CalenderTable","handleDelete","delete","concat","error","errorAlert","event","_id","handleEdit","push","noActions","tableHeader","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","useStyles1","makeStyles","theme","root","flexShrink","marginLeft","spacing","TablePaginationActions","props","classes","useTheme","count","page","rowsPerPage","onChangePage","IconButton","onClick","disabled","direction","LastPageIcon","FirstPageIcon","KeyboardArrowRight","KeyboardArrowLeft","Math","ceil","max","useStyles2","table","width","CustomPaginationActionsTable","_ref","_ref2","loading","isCanteen","isEdit","isItems","noData","setPage","setRowsPerPage","emptyRows","min","length","TableContainer","component","Paper","Table","TableHead","TableRow","head","TableCell","TableBody","colSpan","lenght","_Fragment","slice","row","cell","_moment","string","align","RegExp","test","moment","format","Tooltip","memberID","TocIcon","DeleteOutlineIcon","EditIcon","style","height","TableFooter","TablePagination","rowsPerPageOptions","label","SelectProps","inputProps","native","handleChangePage","newPage","onChangeRowsPerPage","parseInt","ActionsComponent"],"mappings":"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","file":"static/js/23.f14a81f9.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CalenderTable from \"../../shared/ListTable\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { errorAlert } from \"../../../utils\";\nimport { selectUser } from \"../../../store/slices/userSlice\";\nimport { useSelector } from \"react-redux\";\n\nconst tableHeadings = [\n  { id: \"resource\", name: \"Type\" },\n  { id: \"title\", name: \"Event\" },\n  { id: \"day\", name: \"Date\" },\n  { id: \"start\", name: \"Starts\" },\n  { id: \"end\", name: \"Ends\" },\n];\n\nfunction Calender() {\n  const [events, setevents] = useState([]);\n  const history = useHistory();\n  const [storeData, setstoreData] = useState([]);\n  const user = useSelector(selectUser);\n  const [query, setquery] = useState(\"\");\n\n  useEffect(() => {\n    axios.get(\"/calendar\").then((res) => {\n      let eventsData = res.data.map((e) => {\n        return {\n          ...e,\n          start: e?.allDay\n            ? \"All day\"\n            : e?.start?.replace(/^[^:]*([0-2]\\d:[0-5]\\d).*$/, \"$1\"),\n          end: e?.allDay\n            ? \"-\"\n            : e?.end?.replace(/^[^:]*([0-2]\\d:[0-5]\\d).*$/, \"$1\"),\n        };\n      });\n      setevents(eventsData);\n      setstoreData(eventsData);\n    });\n  }, []);\n\n  const handleDelete = (id) => {\n    axios.delete(`/calendar/delete/${id}`).then((res) => {\n      if (res.data.error) {\n        errorAlert(res.data.error);\n        return 0;\n      }\n      setevents(events.filter((event) => event._id !== id));\n    });\n  };\n  const handleEdit = (id) => {\n    history.push(`/academics/calender/edit/${id}`);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (query) {\n      let newEvents = storeData.filter((i) =>\n        i.title.toLowerCase().includes(query.toLowerCase())\n      );\n      setevents(newEvents);\n    } else {\n      setevents(storeData);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"row mb-5\">\n        <div className=\"col\">\n          <form onSubmit={handleSearch} className=\"d-flex align-items-stretch\">\n            <input\n              value={query}\n              onChange={(e) => setquery(e.target.value)}\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search by name\"\n            />\n            <button className=\"btn blue__btn\">Search</button>\n          </form>\n        </div>\n        <div className=\"col\">\n          {user?.role === \"admin\" && (\n            <Link\n              to=\"/academics/calender/add\"\n              className=\"btn btn__lg blue__btn\"\n            >\n              Add New Event\n            </Link>\n          )}\n          <Link\n            to=\"/academics/calender/view\"\n            className=\"btn btn__lg blue__btn ml-2\"\n          >\n            View Calendar\n          </Link>\n        </div>\n      </div>\n      <CalenderTable\n        data={events}\n        handleDelete={handleDelete}\n        handleEdit={handleEdit}\n        noActions={user?.role !== \"admin\" ? true : false}\n        tableHeader={tableHeadings}\n      />\n    </div>\n  );\n}\n\nexport default Calender;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","import React from 'react'\nimport PropTypes from 'prop-types';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\n\nconst useStyles1 = makeStyles((theme) => ({\n    root: {\n      flexShrink: 0,\n      marginLeft: theme.spacing(2.5),\n    },\n  }));\n\nfunction TablePaginationActions(props) {\n    const classes = useStyles1();\n    const theme = useTheme();\n    const { count, page, rowsPerPage, onChangePage } = props;\n  \n    const handleFirstPageButtonClick = (event) => {\n      onChangePage(event, 0);\n    };\n  \n    const handleBackButtonClick = (event) => {\n      onChangePage(event, page - 1);\n    };\n  \n    const handleNextButtonClick = (event) => {\n      onChangePage(event, page + 1);\n    };\n  \n    const handleLastPageButtonClick = (event) => {\n      onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n    };\n  \n    return (\n      <div className={classes.root}>\n        <IconButton\n          onClick={handleFirstPageButtonClick}\n          disabled={page === 0}\n          aria-label=\"first page\"\n        >\n          {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\n        </IconButton>\n        <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\n          {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n        </IconButton>\n        <IconButton\n          onClick={handleNextButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"next page\"\n        >\n          {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n        </IconButton>\n        <IconButton\n          onClick={handleLastPageButtonClick}\n          disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n          aria-label=\"last page\"\n        >\n          {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\n        </IconButton>\n      </div>\n    );\n  }\n  \n  TablePaginationActions.propTypes = {\n    count: PropTypes.number.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n  };\n  \n\nexport default TablePaginationActions\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z\"\n}), 'Toc');\n\nexports.default = _default;","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableFooter from \"@material-ui/core/TableFooter\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport TablePaginationActions from \"./TablePagination\";\nimport moment from \"moment\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport TocIcon from \"@material-ui/icons/Toc\";\nconst useStyles2 = makeStyles({\n  table: {\n    width: \"100%\",\n  },\n});\n\nexport default function CustomPaginationActionsTable({\n  data,\n  tableHeader,\n  handleEdit,\n  handleDelete,\n  loading,\n  isCanteen,\n  isEdit,\n  isItems,\n  noActions,\n  noData,\n}) {\n  const classes = useStyles2();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\n\n  const emptyRows =\n    rowsPerPage - Math.min(rowsPerPage, data?.length - page * rowsPerPage);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const isDate = (string) => {\n    const _regExp = new RegExp(\n      \"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$\"\n    );\n    return _regExp.test(string) ? true : false;\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\">\n        <TableHead>\n          <TableRow>\n            {tableHeader &&\n              tableHeader?.map((head) => (\n                <TableCell key={head.id}>{head.name}</TableCell>\n              ))}\n            {!noActions && <TableCell>Actions</TableCell>}\n          </TableRow>\n        </TableHead>\n        {loading ? (\n          <TableBody className=\"text-center my-5 w-100\">\n            <TableRow>\n              <TableCell colSpan={tableHeader.lenght}>\n                <span\n                  className=\"spinner-grow spinner-grow-sm\"\n                  role=\"status\"\n                ></span>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        ) : (\n          <TableBody>\n            {data?.length <= 0 ? (\n              <TableRow>\n                <TableCell\n                  colSpan={tableHeader.length + 1}\n                  className=\"text-center text-danger\"\n                >\n                  {noData || \"No data\"}\n                </TableCell>\n              </TableRow>\n            ) : (\n              <>\n                {(rowsPerPage > 0\n                  ? data?.slice(\n                      page * rowsPerPage,\n                      page * rowsPerPage + rowsPerPage\n                    )\n                  : data\n                )?.map((row) => (\n                  <TableRow key={row._id}>\n                    {tableHeader &&\n                      tableHeader?.map((cell) => (\n                        <TableCell key={cell?.id} align=\"left\">\n                          {isDate(row[cell?.id])\n                            ? moment(row[cell?.id])?.format(\"D MMMM YYYY\")\n                            : row[cell?.id] || \"-\"}\n                        </TableCell>\n                      ))}\n                    {!noActions && (\n                      <TableCell align=\"left\">\n                        <div className=\"d-flex align-items-center\">\n                          <Tooltip\n                            title={isItems ? \"Manage Inventory\" : \"delete\"}\n                          >\n                            <IconButton\n                              onClick={() =>\n                                handleDelete(isCanteen ? row.memberID : row._id)\n                              }\n                            >\n                              {isItems ? <TocIcon /> : <DeleteOutlineIcon />}\n                            </IconButton>\n                          </Tooltip>\n                          {!isEdit && (\n                            <Tooltip title=\"edit\">\n                              <IconButton\n                                onClick={() =>\n                                  handleEdit(isCanteen ? row.memberID : row._id)\n                                }\n                              >\n                                <EditIcon></EditIcon>\n                              </IconButton>\n                            </Tooltip>\n                          )}\n                        </div>\n                      </TableCell>\n                    )}\n                  </TableRow>\n                ))}\n              </>\n            )}\n            {emptyRows > 0 && (\n              <TableRow style={{ height: 53 }}>\n                <TableCell colSpan={6} />\n              </TableRow>\n            )}\n          </TableBody>\n        )}\n        <TableFooter>\n          <TableRow>\n            {data?.length > 5 && (\n              <TablePagination\n                rowsPerPageOptions={[5, 10, 25, { label: \"All\", value: -1 }]}\n                count={data?.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                SelectProps={{\n                  inputProps: { \"aria-label\": \"rows per page\" },\n                  native: true,\n                }}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                ActionsComponent={TablePaginationActions}\n              />\n            )}\n          </TableRow>\n        </TableFooter>\n      </Table>\n    </TableContainer>\n  );\n}\n"],"sourceRoot":""}