{"version":3,"sources":["AdminComponents/academics/progressReports/ReportCard.js","../node_modules/@material-ui/icons/Print.js"],"names":["ReportCard","id","year","term","useParams","results","setresults","useState","user","setuser","school","setschool","useEffect","axios","get","then","res","data","async","student","concat","docs","console","log","getData","getTotal","exams","work","Number","getGrade","classwork","exam","num","getInterpretation","_jsxs","_Fragment","children","_jsx","className","onClick","handlePrint","window","print","PrintIcon","fullName","motto","name","middleName","surname","classID","scope","length","map","course","classWork","classWorkPercentage","examPercentage","position","_id","colSpan","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d"],"mappings":"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","file":"static/js/163.75072d49.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"../../../store/axios\";\nimport PrintIcon from \"@material-ui/icons/Print\";\n\nfunction ReportCard() {\n  const { id, year, term } = useParams();\n  const [results, setresults] = useState([]);\n  const [user, setuser] = useState({});\n  const [school, setschool] = useState([]);\n\n  useEffect(() => {\n    axios.get(\"/school\").then((res) => {\n      setschool(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    const getData = async () => {\n      let student = await axios.get(`/students/student/${id}`);\n      setuser(student.data.student);\n      await axios.get(`sba/student/${id}/${year}/${term}`).then((res) => {\n        setresults(res.data.docs);\n        console.log(res.data.docs);\n      });\n    };\n    getData();\n  }, [id, year, term]);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const getTotal = (exams, work) => {\n    if (!work && !exams) {\n      return \"-\";\n    }\n    return Number(exams || 0) + Number(work || 0);\n  };\n\n  const getGrade = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    if (num >= 75 && num <= 100) {\n      return \"A1\";\n    } else if (num >= 70 && num <= 74) {\n      return \"B2\";\n    } else if (num >= 65 && num <= 69) {\n      return \"B3\";\n    } else if (num >= 60 && num <= 64) {\n      return \"C4\";\n    } else if (num >= 55 && num <= 59) {\n      return \"C5\";\n    } else if (num >= 50 && num <= 54) {\n      return \"C6\";\n    } else if (num >= 45 && num <= 49) {\n      return \"D7\";\n    } else if (num >= 40 && num <= 44) {\n      return \"E8\";\n    } else if (num >= 0 && num <= 39) {\n      return \"F9\";\n    } else {\n      return null;\n    }\n  };\n\n  const getInterpretation = (classwork, exam) => {\n    if (!classwork && !exam) {\n      return \"-\";\n    }\n    let num = getTotal(classwork, exam);\n    num = Number(num);\n    if (num > 75 && num <= 100) {\n      return \"Excellent\";\n    } else if (num >= 70 && num <= 74) {\n      return \"Vert good\";\n    } else if (num >= 65 && num <= 69) {\n      return \"Good\";\n    } else if (num >= 60 && num <= 64) {\n      return \"Credit\";\n    } else if (num >= 55 && num <= 59) {\n      return \"Credit\";\n    } else if (num >= 50 && num <= 54) {\n      return \"Credit\";\n    } else if (num >= 45 && num <= 49) {\n      return \"Pass\";\n    } else if (num >= 40 && num <= 44) {\n      return \"Pass\";\n    } else if (num >= 0 && num <= 39) {\n      return \"Failure\";\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-end mb-2\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          <PrintIcon />\n          Print\n        </button>\n      </div>\n      <div id=\"section-to-print\">\n        <div className=\"text-center\">\n          <h3>{school?.fullName}</h3>\n          <p>\n            <strong>{school?.motto}</strong>\n          </p>\n        </div>\n        <div className=\" mb-5\">\n          <div>\n            <h5>Report Card</h5>\n            <h6>\n              Name: {user?.name} {user?.middleName} {user?.surname} - {id}\n            </h6>\n            <h6>Class: {user?.classID}</h6>\n            <h6> Year: {year}</h6>\n            <h6>Term:{term}</h6>\n          </div>\n        </div>\n        <table className=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Courses</th>\n              <th scope=\"col\">Classwork</th>\n              <th scope=\"col\">Classwork Percentage</th>\n              <th scope=\"col\">Exam</th>\n              <th scope=\"col\">Exam Percentage</th>\n              <th scope=\"col\">Total %</th>\n              <th scope=\"col\">Grade</th>\n              <th scope=\"col\">Interpretation</th>\n              <th scope=\"col\">Position</th>\n            </tr>\n          </thead>\n          <tbody>\n            {results.length > 0 ? (\n              results.map((res) => (\n                <tr key={res?._id}>\n                  <td>{res?.course}</td>\n                  <td>{res.classWork || \"-\"}</td>\n                  <td>{res.classWorkPercentage || \"-\"}</td>\n                  <td>{res?.exam || \"-\"}</td>\n                  <td>{res?.examPercentage || \"-\"}</td>\n                  <td>\n                    {getTotal(res?.examPercentage, res.classWorkPercentage)}\n                  </td>\n                  <td>\n                    {getGrade(res?.examPercentage, res.classWorkPercentage)}\n                  </td>\n                  <td>\n                    {getInterpretation(\n                      res?.examPercentage,\n                      res.classWorkPercentage\n                    )}\n                  </td>\n                  <td>{res?.position || 0} </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan={10} className=\"text-center text-danger\">\n                  <h5>No data yet</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default ReportCard;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');\n\nexports.default = _default;"],"sourceRoot":""}