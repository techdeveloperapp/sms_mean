{"version":3,"sources":["AdminComponents/canteen/EditPaymentPlan.js","AdminComponents/canteen/PaymentPlan.js","AdminComponents/canteen/CanteenNav.js"],"names":["FormDialog","_ref","open","setOpen","descriptions","setdescriptions","prices","setprices","name","setname","title","settitle","isAdd","isPlans","onSubmit","loading","register","handleSubmit","errors","useForm","handleClose","DialogTitle","withStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","props","children","classes","onClose","other","_jsxs","MuiDialogTitle","disableTypography","className","_jsx","Typography","variant","IconButton","onClick","CloseIcon","Dialog","fullWidth","maxWidth","id","action","DialogContent","scope","_Fragment","ref","required","type","value","plan1","onChange","e","target","placeholder","name1","plan2","name2","plan3","name3","price1","price2","price3","rows","description1","description2","description3","DialogActions","Button","disabled","role","PaymentPlan","user","useSelector","selectUser","planData","setplanData","useState","plansData","setplansData","services","setservices","openEditService","setopenEditService","openAddService","setopenAddService","editID","seteditID","setloading","removeDuplicates","data","unique","forEach","element","find","i","_id","push","useEffect","axios","get","then","res","_res$data","_res$data2","console","log","plans","newServices","CanteenNav","map","plan","description","currentCurrency","price","style","fontSize","handleClickOpen","_plans$","_plans$2","_plans$3","_plans$4","_plans$5","_plans$6","_plans$7","_plans$8","_plans$9","EditIcon","service","handleClickEditOpen","handleDeleteService","put","concat","error","errorAlert","filter","catch","err","DeleteForeverIcon","colSpan","AddIcon","Edit","handleEditPlans","_res$data$doc2","successAlert","doc","handleEditService","_res$data$doc","handleAddPlans","post","NavLink","activeStyle","to"],"mappings":"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","file":"static/js/9.c7fc8b93.chunk.js","sourcesContent":["import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport MuiDialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useForm } from \"react-hook-form\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nexport default function FormDialog({\n  open,\n  setOpen,\n  descriptions,\n  setdescriptions,\n  prices,\n  setprices,\n  name,\n  setname,\n  title,\n  settitle,\n  isAdd,\n  isPlans,\n  onSubmit,\n  loading,\n}) {\n  const { register, handleSubmit, errors } = useForm();\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const styles = (theme) => ({\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n    },\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n  });\n\n  const DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\n        <Typography variant=\"h6\">{children}</Typography>\n        {onClose ? (\n          <IconButton\n            aria-label=\"close\"\n            className={classes.closeButton}\n            onClick={onClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </MuiDialogTitle>\n    );\n  });\n\n  return (\n    <Dialog\n      open={open}\n      fullWidth={true}\n      maxWidth=\"md\"\n      onClose={handleClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n        Set Canteen PaymentPlan\n      </DialogTitle>\n      <form action=\"\">\n        <DialogContent>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\"></th>\n                <th scope=\"col\">Plan 1</th>\n                <th scope=\"col\">Plan 2</th>\n                <th scope=\"col\">Plan 3</th>\n              </tr>\n            </thead>\n            <tbody>\n              {isPlans && (\n                <>\n                  <tr>\n                    <th scope=\"row\">Plan Name</th>\n                    <td>\n                      <input\n                        ref={register({ required: true })}\n                        type=\"text\"\n                        name=\"name1\"\n                        value={name?.plan1}\n                        onChange={(e) =>\n                          setname({ ...name, plan1: e.target.value })\n                        }\n                        className=\"form-control\"\n                        placeholder=\"Plan name\"\n                      />\n                      {errors.name1 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Plan  name\"\n                        value={name?.plan2}\n                        onChange={(e) =>\n                          setname({ ...name, plan2: e.target.value })\n                        }\n                        ref={register({ required: true })}\n                        name=\"name2\"\n                      />\n                      {errors.name2 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Plan  name\"\n                        name=\"name3\"\n                        value={name?.plan3}\n                        onChange={(e) =>\n                          setname({ ...name, plan3: e.target.value })\n                        }\n                        ref={register({ required: true })}\n                      />\n                      {errors.name3 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">Plan Price</th>\n                    <td>\n                      <input\n                        value={prices?.plan1}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan1: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price1\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price1 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        value={prices?.plan2}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan2: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price2\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price2 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                    <td>\n                      <input\n                        value={prices?.plan3}\n                        onChange={(e) =>\n                          setprices({ ...prices, plan3: e.target.value })\n                        }\n                        type=\"number\"\n                        className=\"form-control\"\n                        placeholder=\"Plan's price\"\n                        name=\"price3\"\n                        ref={register({ required: true })}\n                      />\n                      {errors.price3 && (\n                        <div className=\"text-danger mb-3\">\n                          This field is required.\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                </>\n              )}\n              <tr>\n                {isAdd ? (\n                  <th>\n                    <input\n                      value={title}\n                      onChange={(e) => settitle(e.target.value)}\n                      type=\"text\"\n                      className=\"form-control\"\n                      placeholder=\"Service's name\"\n                      name=\"title\"\n                      ref={register({ required: true })}\n                    />\n                    {errors.title && (\n                      <div className=\"text-danger mb-3\">\n                        This field is required.\n                      </div>\n                    )}\n                  </th>\n                ) : (\n                  <th scope=\"row\">{descriptions?.name || \"Description\"}</th>\n                )}\n\n                <td>\n                  <textarea\n                    value={descriptions?.plan1}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan1: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                    name=\"description1\"\n                    ref={register({ required: true })}\n                  />\n                  {errors.description1 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n                <td>\n                  <textarea\n                    value={descriptions?.plan2}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan2: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                    name=\"description2\"\n                    ref={register({ required: true })}\n                  />\n                  {errors.description2 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n                <td>\n                  <textarea\n                    value={descriptions?.plan3}\n                    onChange={(e) =>\n                      setdescriptions({\n                        ...descriptions,\n                        plan3: e.target.value,\n                      })\n                    }\n                    rows={3}\n                    name=\"description3\"\n                    ref={register({ required: true })}\n                    className=\"form-control\"\n                    placeholder=\"Type here...\"\n                  />\n                  {errors.description3 && (\n                    <div className=\"text-danger mb-3\">\n                      This field is required.\n                    </div>\n                  )}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            disabled={loading}\n            onClick={handleSubmit(onSubmit)}\n            color=\"primary\"\n          >\n            {loading && (\n              <div\n                className=\"spinner-border spinner-border-sm\"\n                role=\"status\"\n              ></div>\n            )}\n            {isAdd ? \"Add\" : \"Save Changes\"}\n          </Button>\n          <Button onClick={handleClose} color=\"secondary\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { IconButton } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport axios from \"../../store/axios\";\nimport Edit from \"./EditPaymentPlan\";\nimport { selectUser } from \"../../store/slices/userSlice\";\nimport { useSelector } from \"react-redux\";\nimport { errorAlert, successAlert, currentCurrency } from \"../../utils\";\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport CanteenNav from \"./CanteenNav\";\n\nfunction PaymentPlan() {\n  const user = useSelector(selectUser);\n  const [planData, setplanData] = useState({});\n  const [plansData, setplansData] = useState([]);\n  const [services, setservices] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [openEditService, setopenEditService] = useState(false);\n  const [openAddService, setopenAddService] = useState(false);\n  const [title, settitle] = useState(\"\");\n  const [editID, seteditID] = useState(\"\");\n  const [loading, setloading] = useState(false);\n\n  const [name, setname] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n  const [prices, setprices] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n  const [descriptions, setdescriptions] = useState({\n    plan1: \"\",\n    plan2: \"\",\n    plan3: \"\",\n  });\n\n  const removeDuplicates = (data) => {\n    let unique = [];\n    data?.forEach((element) => {\n      let isExist = unique.find((i) => i._id === element._id);\n\n      if (!isExist) {\n        unique.push(element);\n      }\n    });\n    return unique;\n  };\n\n  useEffect(() => {\n    axios.get(\"/paymentplan\").then((res) => {\n      console.log(res?.data);\n      setplanData(res?.data);\n      setplansData(res.data?.plans);\n      let newServices = removeDuplicates(res.data?.services);\n      setservices(newServices);\n    });\n  }, []);\n\n  const handleAddPlans = () => {\n    setloading(true);\n    axios\n      .post(\"/paymentplan/add/service\", {\n        name: title,\n        ...descriptions,\n      })\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setloading(false);\n        setopenAddService(false);\n        setdescriptions({});\n        settitle(\"\");\n        successAlert(\"Changes Saved\");\n        console.log(res.data.doc);\n        setservices([{ name: title, ...descriptions }, ...services]);\n      })\n      .catch(() => {\n        setloading(false);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  const handleClickOpen = () => {\n    let plans = planData?.plans;\n    if (plans) {\n      setname({\n        plan1: plans[0]?.name,\n        plan2: plans[1]?.name,\n        plan3: plans[2]?.name,\n      });\n      setdescriptions({\n        plan1: plans[0]?.description,\n        plan2: plans[1]?.description,\n        plan3: plans[2]?.description,\n      });\n      setprices({\n        plan1: plans[0]?.price,\n        plan2: plans[1]?.price,\n        plan3: plans[2]?.price,\n      });\n    }\n\n    setOpen(true);\n  };\n\n  const handleClickEditOpen = (id) => {\n    setopenEditService(true);\n    let service = planData?.services.find((e) => e._id === id);\n    setdescriptions(service);\n    console.log(service);\n    seteditID(id);\n  };\n\n  const handleEditService = () => {\n    setloading(true);\n    axios\n      .put(`/paymentplan/update/services/${editID}`, descriptions)\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setopenEditService(false);\n        setdescriptions({});\n        successAlert(\"Changes Saved\");\n        //  setservices(res.data.doc.services);\n        let newServices = removeDuplicates(res.data.doc?.services);\n        setservices(newServices);\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  const handleDeleteService = (id) => {\n    axios\n      .put(`/paymentplan/delete/services/${id}`)\n      .then((res) => {\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        console.log(services.filter((i) => i._id !== id));\n        setservices(services.filter((i) => i._id !== id));\n      })\n      .catch((err) => {\n        console.log(err);\n        errorAlert(\"Delete failed\");\n      });\n  };\n\n  const handleEditPlans = () => {\n    setloading(true);\n    axios\n      .put(\"/paymentplan/update/plans\", [\n        {\n          name: name?.plan1,\n          description: descriptions?.plan1,\n          price: prices?.plan1,\n          plan: \"plan1\",\n        },\n        {\n          name: name?.plan2,\n          description: descriptions?.plan2,\n          price: prices?.plan2,\n          plan: \"plan2\",\n        },\n        {\n          name: name?.plan3,\n          description: descriptions?.plan3,\n          price: prices?.plan3,\n          plan: \"plan3\",\n        },\n      ])\n      .then((res) => {\n        setloading(false);\n        if (res.data.error) {\n          errorAlert(res.data.error);\n          return 0;\n        }\n        setOpen(false);\n        setprices({});\n        setdescriptions({});\n        setname({});\n        successAlert(\"Changes Saved\");\n        console.log(res.data.doc);\n        setplansData(res.data.doc?.plans);\n      })\n      .catch((err) => {\n        setloading(false);\n        console.log(err);\n        errorAlert(\"Changes failed to save\");\n      });\n  };\n\n  return (\n    <div>\n      {user?.role === \"admin\" && <CanteenNav />}\n      <h3 className=\"my-5\">Canteen Payment Plan</h3>\n      <table className=\"table content__container\">\n        <thead>\n          <tr>\n            <th scope=\"col\">\n              <h4>Avaliable Payment Plan</h4>\n              <p>\n                {\" \"}\n                <small> What kind of plan are you interested in </small>\n              </p>\n            </th>\n            {plansData &&\n              plansData?.map((plan) => (\n                <th key={plan._id} scope=\"col\">\n                  <h5>\n                    <strong>{plan?.name}</strong>\n                  </h5>\n                  <p>\n                    <small>{plan?.description}</small>\n                  </p>\n                  <h1 className=\"d-flex align-items-end\">\n                    <strong>\n                      {currentCurrency()}\n                      {plan?.price}\n                    </strong>{\" \"}\n                    <small style={{ fontSize: \"0.4em\" }}>/month</small>{\" \"}\n                  </h1>\n                </th>\n              ))}\n            {user?.role === \"admin\" && (\n              <th>\n                <h5>Action</h5>\n                <IconButton onClick={() => handleClickOpen()}>\n                  <EditIcon />\n                </IconButton>\n              </th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {services &&\n            services.map((service) => (\n              <tr key={service._id}>\n                <th scope=\"row\">{service?.name}</th>\n                <td>{service?.plan1}</td>\n                <td>{service?.plan2}</td>\n                <td>{service?.plan3}</td>\n                {user?.role === \"admin\" && (\n                  <td>\n                    <div className=\"d-flex\">\n                      <IconButton\n                        onClick={() => handleClickEditOpen(service?._id)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => handleDeleteService(service?._id)}\n                      >\n                        <DeleteForeverIcon />\n                      </IconButton>\n                    </div>\n                  </td>\n                )}\n              </tr>\n            ))}\n          {user?.role === \"admin\" && (\n            <tr>\n              <th colSpan=\"4\">Add Additional</th>\n              <th>\n                <IconButton onClick={() => setopenAddService(true)}>\n                  <AddIcon />\n                </IconButton>\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n\n      <Edit\n        open={open}\n        name={name}\n        loading={loading}\n        setname={setname}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        prices={prices}\n        isPlans={true}\n        setprices={setprices}\n        setOpen={setOpen}\n        onSubmit={handleEditPlans}\n      />\n      <Edit\n        open={openEditService}\n        loading={loading}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        setOpen={setopenEditService}\n        onSubmit={handleEditService}\n      />\n      <Edit\n        title={title}\n        loading={loading}\n        settitle={settitle}\n        open={openAddService}\n        descriptions={descriptions}\n        setdescriptions={setdescriptions}\n        isAdd={true}\n        setOpen={setopenAddService}\n        onSubmit={handleAddPlans}\n      />\n    </div>\n  );\n}\n\nexport default PaymentPlan;\n","import React from 'react'\nimport {NavLink} from 'react-router-dom'\n\nfunction CanteenNav() {\n    return (\n        <div className=\"d-flex xs-flex-column sm-flex-row justify-content-end\">\n            <NavLink  activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members/register\">Add  Canteen Member </NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/members\">All Members</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/plan\">Payments Plan</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments/add\">Make Payment</NavLink>\n            <NavLink activeStyle={{ color: '#ffa201' }} className=\"btn\" to=\"/canteen/payments\">All Payments</NavLink>\n            \n        </div>\n    )\n}\n\nexport default CanteenNav\n"],"sourceRoot":""}