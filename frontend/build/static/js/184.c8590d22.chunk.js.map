{"version":3,"sources":["AdminComponents/store/sales/Receipt.js"],"names":["Receipt","_transaction$items","transaction","settransaction","useState","loading","setloading","school","setschool","id","useParams","useEffect","axios","get","concat","then","res","console","log","data","doc","_jsxs","_Fragment","children","_jsx","className","onClick","handlePrint","window","print","Loading","src","getImgSrc","profileUrl","width","alt","srcset","fullName","motto","moment","createdAt","format","seller","scope","currentCurrency","items","map","item","i","name","rate","qty","amount","_id","colSpan","amountPaid","totalCost"],"mappings":"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","file":"static/js/184.c8590d22.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"../../../store/axios\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Loading from \"../../../Loading\";\nimport { getImgSrc, currentCurrency } from \"../../../utils\";\n\nfunction Receipt() {\n  const [transaction, settransaction] = useState({});\n  const [loading, setloading] = useState(false);\n  const [school, setschool] = useState({});\n  const { id } = useParams();\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(`/store/sales/${id}`).then((res) => {\n      console.log(res);\n      setloading(false);\n      settransaction(res.data.doc);\n    });\n  }, [id]);\n\n  useEffect(() => {\n    setloading(true);\n    axios.get(`/school`).then((res) => {\n      console.log(res);\n      setloading(false);\n      setschool(res.data);\n    });\n  }, []);\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-end mb-3\">\n        <button onClick={handlePrint} className=\"btn blue__btn\">\n          Print\n        </button>\n      </div>\n      <div className=\"content__container\" id=\"section-to-print\">\n        {loading && <Loading />}\n        <h3>Sales Reciept</h3>\n        <div className=\"text-center\">\n          <img\n            src={getImgSrc(school?.profileUrl)}\n            width=\"100px\"\n            alt=\"\"\n            srcset=\"\"\n          />\n          <h4>{school?.fullName}</h4>\n          <h6>{school?.motto}</h6>\n        </div>\n        <div>\n          <strong>\n            Date: {moment(transaction.createdAt).format(\"D MMMM YYYY\")}\n          </strong>{\" \"}\n          <br />\n          <strong>Cashier: {transaction.seller || \"-\"}</strong>\n        </div>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">#</th>\n              <th scope=\"col\">Item</th>\n              <th scope=\"col\">Rate</th>\n              <th scope=\"col\">Qty</th>\n              <th scope=\"col\">Amount ({currentCurrency()})</th>\n            </tr>\n          </thead>\n          <tbody>\n            {transaction.items &&\n              transaction.items?.map((item, i) => (\n                <tr key={item._id}>\n                  <th scope=\"row\">{i + 1}</th>\n                  <td>{item?.name}</td>\n                  <td>{item?.rate}</td>\n                  <td>{item?.qty}</td>\n                  <td>{item?.amount}</td>\n                </tr>\n              ))}\n            <tr>\n              <td colSpan={4}></td>\n              <td>\n                <div className=\"d-flex flex-column\">\n                  <strong>\n                    Amount Paid: ({currentCurrency()})\n                    {transaction?.amountPaid || \"0\"}\n                  </strong>\n                  <strong>\n                    Total Cost: ({currentCurrency()})\n                    {transaction?.totalCost || \"0\"}{\" \"}\n                  </strong>\n                  <strong>\n                    Change: ({currentCurrency()})\n                    {transaction?.amountPaid - transaction?.totalCost || \"0\"}\n                  </strong>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default Receipt;\n"],"sourceRoot":""}