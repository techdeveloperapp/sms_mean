(this["webpackJsonpschool-dashoboard"]=this["webpackJsonpschool-dashoboard"]||[]).push([[99],{1434:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(84),l=c(27),a=c(614),r=c(793),i=c(26),o=c(10);t.default=function(){const e=Object(s.c)(i.m),t=Object(s.c)(i.n),[c,d]=Object(n.useState)(t.currentTerm),[j,b]=Object(n.useState)(t.currentYear),[u,h]=Object(n.useState)(""),[x,m]=Object(n.useState)(""),[O,v]=Object(n.useState)(!1),[p,f]=Object(n.useState)({}),[N,g]=Object(n.useState)([]),[S,C]=Object(n.useState)(!1),[P,k]=Object(n.useState)({});Object(n.useEffect)((()=>{l.a.get("/school").then((e=>{f(e.data)}))}),[]);const _=(e,t)=>t||e?Number(e||0)+Number(t||0):"-",y=(e,t)=>{if(!e&&!t)return"-";let c=_(e,t);return c>=75&&c<=100?"A1":c>=70&&c<=74?"B2":c>=65&&c<=69?"B3":c>=60&&c<=64?"C4":c>=55&&c<=59?"C5":c>=50&&c<=54?"C6":c>=45&&c<=49?"D7":c>=40&&c<=44?"E8":c>=0&&c<=39?"F9":null},E=(e,t)=>{if(!e&&!t)return"-";let c=_(e,t);return c=Number(c),c>75&&c<=100?"Excellent":c>=70&&c<=74?"Vert good":c>=65&&c<=69?"Good":c>=60&&c<=64||c>=55&&c<=59||c>=50&&c<=54?"Credit":c>=45&&c<=49||c>=40&&c<=44?"Pass":c>=0&&c<=39?"Failure":null};return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Academic Transcript"}),Object(o.jsxs)("form",{action:"",className:"row content__container",children:[Object(o.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(o.jsx)("label",{className:"form-label",children:"Term"}),Object(o.jsxs)("select",{name:"type",value:c,onChange:e=>d(e.target.value),id:"inputState",className:"form-select",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),Object(o.jsx)("option",{value:"1",children:"1st"}),Object(o.jsx)("option",{value:"2",children:"2rd"}),Object(o.jsx)("option",{value:"3",children:"3rd"})]})]}),Object(o.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(o.jsx)("label",{className:"form-label",children:"Year"}),Object(o.jsxs)("select",{name:"type",value:j,onChange:e=>b(e.target.value),id:"inputState",className:"form-select",children:[Object(o.jsx)("option",{defaultValue:!0,hidden:!0,children:"Choose..."}),e.length>0?e.map((e=>Object(o.jsx)("option",{value:e.year,children:e.year},e._id))):Object(o.jsx)("option",{disabled:!0,children:"No data yet"})]})]}),Object(o.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(o.jsx)("label",{className:"form-label",children:"Student ID"}),Object(o.jsx)("input",{value:u,onChange:e=>h(e.target.value),className:"form-control"})]}),Object(o.jsx)("div",{className:"mb-3",children:Object(o.jsxs)("button",{onClick:e=>{if(C(!1),e.preventDefault(),!u)return Object(a.c)("select student");m(!0),l.a.get("sba/student/".concat(u,"/").concat(j,"/").concat(c)).then((async e=>{let t=await l.a.get("/students/student/".concat(u));return console.log(t),m(!1),v(!0),t.data.error?C(!0):(k(t.data.student),m(!1),e.data.error?Object(a.c)("Student does not exist"):void g(e.data.docs))}))},disabled:x,type:"submit",className:"btn blue__btn",children:[x&&Object(o.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Search"]})})]}),O&&Object(o.jsxs)("div",{className:"content__container mt-4",id:"section-to-print",children:[Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("h5",{children:Object(o.jsx)("strong",{children:null===p||void 0===p?void 0:p.fullName})}),Object(o.jsx)("h6",{children:null===p||void 0===p?void 0:p.motto}),Object(o.jsxs)("h5",{className:"my-4",children:["STUDENT TRANSCRIPT FOR ",null===P||void 0===P?void 0:P.userID]})]}),S?Object(o.jsxs)("div",{children:[" ",Object(o.jsx)("h3",{className:"text-center text-danger",children:"Student Not found"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:[null===P||void 0===P?void 0:P.name," ",null===P||void 0===P?void 0:P.surname]}),Object(o.jsxs)("div",{children:["Term ",c," - Year ",j]})]}),Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"col",children:"Subject"}),Object(o.jsx)("th",{scope:"col",children:"Course Work"}),Object(o.jsx)("th",{scope:"col",children:"Exam"}),Object(o.jsx)("th",{scope:"col",children:"Total"}),Object(o.jsx)("th",{scope:"col",children:"Grade"}),Object(o.jsx)("th",{scope:"col",children:"Interpretation"}),Object(o.jsx)("th",{scope:"col",children:"Position"})]})}),Object(o.jsx)("tbody",{children:N.length>0?N.map((e=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scope:"row",children:null===e||void 0===e?void 0:e.course}),Object(o.jsx)("td",{children:e.classWorkPercentage||"-"}),Object(o.jsx)("td",{children:(null===e||void 0===e?void 0:e.examPercentage)||"-"}),Object(o.jsx)("td",{children:_(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:y(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:E(null===e||void 0===e?void 0:e.examPercentage,e.classWorkPercentage)}),Object(o.jsx)("td",{children:e.position||"-"})]}))):Object(o.jsx)("tr",{children:Object(o.jsx)("td",{colSpan:3,className:"text-center",children:"No Data"})})})]}),Object(o.jsxs)("div",{className:"my-3 text-center",children:[Object(o.jsx)("button",{onClick:()=>{window.print()},className:"btn blue__btn mr-2",children:"Print"}),Object(o.jsx)(r.a,{data:N,columns:[{id:"subject",name:"Subject"},{id:"term",name:"Term"},{id:"mark",name:"Mark"}],btn:"save"})]})]})]})]})}},793:function(e,t,c){"use strict";c(0);var n=c(794),s=c.n(n),l=(c(617),c(10));const a=s.a.ExcelFile,r=s.a.ExcelFile.ExcelSheet,i=s.a.ExcelFile.ExcelColumn;t.a=function(e){let{data:t,btn:c,name:n,columns:s}=e;return Object(l.jsx)(a,{element:Object(l.jsx)("button",{className:"btn blue__btn",children:c||"Download"}),children:Object(l.jsx)(r,{data:t,name:n||"data",children:s.map((e=>Object(l.jsx)(i,{label:e.name,value:e.id},e.id)))})})}},795:function(e,t){},796:function(e,t){},797:function(e,t){},798:function(e,t){},799:function(e,t){},800:function(e,t){},801:function(e,t){},802:function(e,t){},803:function(e,t){},804:function(e,t){},805:function(e,t){},806:function(e,t){}}]);
//# sourceMappingURL=99.79261099.chunk.js.map